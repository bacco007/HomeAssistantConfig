(function(tt){typeof define=="function"&&define.amd?define(tt):tt()})(function(){"use strict";var tt,Y,Yn,ct,Xn,Kn,Jn,Qn,Nr,Ar,Lr,Zn,It={},eo=[],La=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$t=Array.isArray;function je(e,t){for(var r in t)e[r]=t[r];return e}function zr(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ye(e,t,r){var n,o,i,a={};for(i in t)i=="key"?n=t[i]:i=="ref"?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?tt.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return Mt(e,a,n,o,null)}function Mt(e,t,r,n,o){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++Yn,__i:-1,__u:0};return o==null&&Y.vnode!=null&&Y.vnode(i),i}function to(){return{current:null}}function _e(e){return e.children}function Le(e,t){this.props=e,this.context=t}function yt(e,t){if(t==null)return e.__?yt(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?yt(e):null}function ro(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return ro(e)}}function Br(e){(!e.__d&&(e.__d=!0)&&ct.push(e)&&!er.__r++||Xn!==Y.debounceRendering)&&((Xn=Y.debounceRendering)||Kn)(er)}function er(){for(var e,t,r,n,o,i,a,s=1;ct.length;)ct.length>s&&ct.sort(Jn),e=ct.shift(),s=ct.length,e.__d&&(r=void 0,o=(n=(t=e).__v).__e,i=[],a=[],t.__P&&((r=je({},n)).__v=n.__v+1,Y.vnode&&Y.vnode(r),Fr(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[o]:null,i,o??yt(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,so(i,r,a),r.__e!=o&&ro(r)));er.__r=0}function no(e,t,r,n,o,i,a,s,l,u,d){var c,f,m,h,_,y,g=n&&n.__k||eo,x=t.length;for(l=za(r,t,g,l,x),c=0;c<x;c++)(m=r.__k[c])!=null&&(f=m.__i===-1?It:g[m.__i]||It,m.__i=c,y=Fr(e,m,f,o,i,a,s,l,u,d),h=m.__e,m.ref&&f.ref!=m.ref&&(f.ref&&jr(f.ref,null,m),d.push(m.ref,m.__c||h,m)),_==null&&h!=null&&(_=h),4&m.__u||f.__k===m.__k?l=oo(m,l,e):typeof m.type=="function"&&y!==void 0?l=y:h&&(l=h.nextSibling),m.__u&=-7);return r.__e=_,l}function za(e,t,r,n,o){var i,a,s,l,u,d=r.length,c=d,f=0;for(e.__k=new Array(o),i=0;i<o;i++)(a=t[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=i+f,(a=e.__k[i]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Mt(null,a,null,null,null):$t(a)?Mt(_e,{children:a},null,null,null):a.constructor===void 0&&a.__b>0?Mt(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,s=null,(u=a.__i=Ba(a,r,l,c))!==-1&&(c--,(s=r[u])&&(s.__u|=2)),s==null||s.__v===null?(u==-1&&(o>d?f--:o<d&&f++),typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?f--:u==l+1?f++:(u>l?f--:f++,a.__u|=4))):e.__k[i]=null;if(c)for(i=0;i<d;i++)(s=r[i])!=null&&(2&s.__u)==0&&(s.__e==n&&(n=yt(s)),lo(s,s));return n}function oo(e,t,r){var n,o;if(typeof e.type=="function"){for(n=e.__k,o=0;n&&o<n.length;o++)n[o]&&(n[o].__=e,t=oo(n[o],t,r));return t}e.__e!=t&&(t&&e.type&&!r.contains(t)&&(t=yt(e)),r.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function qe(e,t){return t=t||[],e==null||typeof e=="boolean"||($t(e)?e.some(function(r){qe(r,t)}):t.push(e)),t}function Ba(e,t,r,n){var o,i,a=e.key,s=e.type,l=t[r];if(l===null&&e.key==null||l&&a==l.key&&s===l.type&&(2&l.__u)==0)return r;if(n>(l!=null&&(2&l.__u)==0?1:0))for(o=r-1,i=r+1;o>=0||i<t.length;){if(o>=0){if((l=t[o])&&(2&l.__u)==0&&a==l.key&&s===l.type)return o;o--}if(i<t.length){if((l=t[i])&&(2&l.__u)==0&&a==l.key&&s===l.type)return i;i++}}return-1}function io(e,t,r){t[0]=="-"?e.setProperty(t,r??""):e[t]=r==null?"":typeof r!="number"||La.test(t)?r:r+"px"}function tr(e,t,r,n,o){var i;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||io(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||io(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(Qn,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=r,r?n?r.t=n.t:(r.t=Nr,e.addEventListener(t,i?Lr:Ar,i)):e.removeEventListener(t,i?Lr:Ar,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function ao(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.u==null)t.u=Nr++;else if(t.u<r.t)return;return r(Y.event?Y.event(t):t)}}}function Fr(e,t,r,n,o,i,a,s,l,u){var d,c,f,m,h,_,y,g,x,E,S,b,C,P,T,O,R,M=t.type;if(t.constructor!==void 0)return null;128&r.__u&&(l=!!(32&r.__u),i=[s=t.__e=r.__e]),(d=Y.__b)&&d(t);e:if(typeof M=="function")try{if(g=t.props,x="prototype"in M&&M.prototype.render,E=(d=M.contextType)&&n[d.__c],S=d?E?E.props.value:d.__:n,r.__c?y=(c=t.__c=r.__c).__=c.__E:(x?t.__c=c=new M(g,S):(t.__c=c=new Le(g,S),c.constructor=M,c.render=ja),E&&E.sub(c),c.props=g,c.state||(c.state={}),c.context=S,c.__n=n,f=c.__d=!0,c.__h=[],c._sb=[]),x&&c.__s==null&&(c.__s=c.state),x&&M.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=je({},c.__s)),je(c.__s,M.getDerivedStateFromProps(g,c.__s))),m=c.props,h=c.state,c.__v=t,f)x&&M.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),x&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(x&&M.getDerivedStateFromProps==null&&g!==m&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(g,S),!c.__e&&(c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(g,c.__s,S)===!1||t.__v==r.__v)){for(t.__v!=r.__v&&(c.props=g,c.state=c.__s,c.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(B){B&&(B.__=t)}),b=0;b<c._sb.length;b++)c.__h.push(c._sb[b]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(g,c.__s,S),x&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(m,h,_)})}if(c.context=S,c.props=g,c.__P=e,c.__e=!1,C=Y.__r,P=0,x){for(c.state=c.__s,c.__d=!1,C&&C(t),d=c.render(c.props,c.state,c.context),T=0;T<c._sb.length;T++)c.__h.push(c._sb[T]);c._sb=[]}else do c.__d=!1,C&&C(t),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++P<25);c.state=c.__s,c.getChildContext!=null&&(n=je(je({},n),c.getChildContext())),x&&!f&&c.getSnapshotBeforeUpdate!=null&&(_=c.getSnapshotBeforeUpdate(m,h)),O=d,d!=null&&d.type===_e&&d.key==null&&(O=co(d.props.children)),s=no(e,$t(O)?O:[O],t,r,n,o,i,a,s,l,u),c.base=t.__e,t.__u&=-161,c.__h.length&&a.push(c),y&&(c.__E=c.__=null)}catch(B){if(t.__v=null,l||i!=null)if(B.then){for(t.__u|=l?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;i[i.indexOf(s)]=null,t.__e=s}else for(R=i.length;R--;)zr(i[R]);else t.__e=r.__e,t.__k=r.__k;Y.__e(B,t,r)}else i==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):s=t.__e=Fa(r.__e,t,r,n,o,i,a,l,u);return(d=Y.diffed)&&d(t),128&t.__u?void 0:s}function so(e,t,r){for(var n=0;n<r.length;n++)jr(r[n],r[++n],r[++n]);Y.__c&&Y.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){Y.__e(i,o.__v)}})}function co(e){return typeof e!="object"||e==null?e:$t(e)?e.map(co):je({},e)}function Fa(e,t,r,n,o,i,a,s,l){var u,d,c,f,m,h,_,y=r.props,g=t.props,x=t.type;if(x=="svg"?o="http://www.w3.org/2000/svg":x=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((m=i[u])&&"setAttribute"in m==!!x&&(x?m.localName==x:m.nodeType==3)){e=m,i[u]=null;break}}if(e==null){if(x==null)return document.createTextNode(g);e=document.createElementNS(o,x,g.is&&g),s&&(Y.__m&&Y.__m(t,i),s=!1),i=null}if(x===null)y===g||s&&e.data===g||(e.data=g);else{if(i=i&&tt.call(e.childNodes),y=r.props||It,!s&&i!=null)for(y={},u=0;u<e.attributes.length;u++)y[(m=e.attributes[u]).name]=m.value;for(u in y)if(m=y[u],u!="children"){if(u=="dangerouslySetInnerHTML")c=m;else if(!(u in g)){if(u=="value"&&"defaultValue"in g||u=="checked"&&"defaultChecked"in g)continue;tr(e,u,null,m,o)}}for(u in g)m=g[u],u=="children"?f=m:u=="dangerouslySetInnerHTML"?d=m:u=="value"?h=m:u=="checked"?_=m:s&&typeof m!="function"||y[u]===m||tr(e,u,m,y[u],o);if(d)s||c&&(d.__html===c.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(c&&(e.innerHTML=""),no(t.type==="template"?e.content:e,$t(f)?f:[f],t,r,n,x=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,a,i?i[0]:r.__k&&yt(r,0),s,l),i!=null)for(u=i.length;u--;)zr(i[u]);s||(u="value",x=="progress"&&h==null?e.removeAttribute("value"):h!==void 0&&(h!==e[u]||x=="progress"&&!h||x=="option"&&h!==y[u])&&tr(e,u,h,y[u],o),u="checked",_!==void 0&&_!==e[u]&&tr(e,u,_,y[u],o))}return e}function jr(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(o){Y.__e(o,r)}}function lo(e,t,r){var n,o;if(Y.unmount&&Y.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||jr(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){Y.__e(i,t)}n.base=n.__P=null}if(n=e.__k)for(o=0;o<n.length;o++)n[o]&&lo(n[o],t,r||typeof e.type!="function");r||zr(e.__e),e.__c=e.__=e.__e=void 0}function ja(e,t,r){return this.constructor(e,r)}function lt(e,t,r){var n,o,i,a;t==document&&(t=document.documentElement),Y.__&&Y.__(e,t),o=(n=typeof r=="function")?null:r&&r.__k||t.__k,i=[],a=[],Fr(t,e=(!n&&r||t).__k=ye(_e,null,[e]),o||It,It,t.namespaceURI,!n&&r?[r]:o?null:t.firstChild?tt.call(t.childNodes):null,i,!n&&r?r:o?o.__e:t.firstChild,n,a),so(i,e,a)}function uo(e,t){lt(e,t,uo)}function Ua(e,t,r){var n,o,i,a,s=je({},e.props);for(i in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)i=="key"?n=t[i]:i=="ref"?o=t[i]:s[i]=t[i]===void 0&&a!==void 0?a[i]:t[i];return arguments.length>2&&(s.children=arguments.length>3?tt.call(arguments,2):r),Mt(e.type,s,n||e.key,o||e.ref,null)}function Me(e){function t(r){var n,o;return this.getChildContext||(n=new Set,(o={})[t.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){n=null},this.shouldComponentUpdate=function(i){this.props.value!==i.value&&n.forEach(function(a){a.__e=!0,Br(a)})},this.sub=function(i){n.add(i);var a=i.componentWillUnmount;i.componentWillUnmount=function(){n&&n.delete(i),a&&a.call(i)}}),r.children}return t.__c="__cC"+Zn++,t.__=e,t.Provider=t.__l=(t.Consumer=function(r,n){return r.children(n)}).contextType=t,t}tt=eo.slice,Y={__e:function(e,t,r,n){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,n||{}),a=o.__d),a)return o.__E=o}catch(s){e=s}throw e}},Yn=0,Le.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=je({},this.state),typeof e=="function"&&(e=e(je({},r),this.props)),e&&je(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),Br(this))},Le.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Br(this))},Le.prototype.render=_e,ct=[],Kn=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Jn=function(e,t){return e.__v.__b-t.__v.__b},er.__r=0,Qn=/(PointerCapture)$|Capture$/i,Nr=0,Ar=ao(!1),Lr=ao(!0),Zn=0;var Ye,se,Ur,fo,bt=0,po=[],ce=Y,mo=ce.__b,ho=ce.__r,_o=ce.diffed,go=ce.__c,vo=ce.unmount,yo=ce.__;function ut(e,t){ce.__h&&ce.__h(se,e,bt||t),bt=0;var r=se.__H||(se.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function U(e){return bt=1,rr(xo,e)}function rr(e,t,r){var n=ut(Ye++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):xo(void 0,t),function(s){var l=n.__N?n.__N[0]:n.__[0],u=n.t(l,s);l!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=se,!se.__f)){var o=function(s,l,u){if(!n.__c.__H)return!0;var d=n.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!i||i.call(this,s,l,u);var c=n.__c.props!==s;return d.forEach(function(f){if(f.__N){var m=f.__[0];f.__=f.__N,f.__N=void 0,m!==f.__[0]&&(c=!0)}}),i&&i.call(this,s,l,u)||c};se.__f=!0;var i=se.shouldComponentUpdate,a=se.componentWillUpdate;se.componentWillUpdate=function(s,l,u){if(this.__e){var d=i;i=void 0,o(s,l,u),i=d}a&&a.call(this,s,l,u)},se.shouldComponentUpdate=o}return n.__N||n.__}function de(e,t){var r=ut(Ye++,3);!ce.__s&&Yr(r.__H,t)&&(r.__=e,r.u=t,se.__H.__h.push(r))}function dt(e,t){var r=ut(Ye++,4);!ce.__s&&Yr(r.__H,t)&&(r.__=e,r.u=t,se.__h.push(r))}function te(e){return bt=5,G(function(){return{current:e}},[])}function Wr(e,t,r){bt=6,dt(function(){if(typeof e=="function"){var n=e(t());return function(){e(null),n&&typeof n=="function"&&n()}}if(e)return e.current=t(),function(){return e.current=null}},r==null?r:r.concat(e))}function G(e,t){var r=ut(Ye++,7);return Yr(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function $(e,t){return bt=8,G(function(){return e},t)}function ae(e){var t=se.context[e.__c],r=ut(Ye++,9);return r.c=e,t?(r.__==null&&(r.__=!0,t.sub(se)),t.props.value):e.__}function Hr(e,t){ce.useDebugValue&&ce.useDebugValue(t?t(e):e)}function Wa(e){var t=ut(Ye++,10),r=U();return t.__=e,se.componentDidCatch||(se.componentDidCatch=function(n,o){t.__&&t.__(n,o),r[1](n)}),[r[0],function(){r[1](void 0)}]}function Gr(){var e=ut(Ye++,11);if(!e.__){for(var t=se.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var r=t.__m||(t.__m=[0,0]);e.__="P"+r[0]+"-"+r[1]++}return e.__}function Ha(){for(var e;e=po.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(nr),e.__H.__h.forEach(qr),e.__H.__h=[]}catch(t){e.__H.__h=[],ce.__e(t,e.__v)}}ce.__b=function(e){se=null,mo&&mo(e)},ce.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),yo&&yo(e,t)},ce.__r=function(e){ho&&ho(e),Ye=0;var t=(se=e.__c).__H;t&&(Ur===se?(t.__h=[],se.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(nr),t.__h.forEach(qr),t.__h=[],Ye=0)),Ur=se},ce.diffed=function(e){_o&&_o(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(po.push(t)!==1&&fo===ce.requestAnimationFrame||((fo=ce.requestAnimationFrame)||Ga)(Ha)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),Ur=se=null},ce.__c=function(e,t){t.some(function(r){try{r.__h.forEach(nr),r.__h=r.__h.filter(function(n){return!n.__||qr(n)})}catch(n){t.some(function(o){o.__h&&(o.__h=[])}),t=[],ce.__e(n,r.__v)}}),go&&go(e,t)},ce.unmount=function(e){vo&&vo(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{nr(n)}catch(o){t=o}}),r.__H=void 0,t&&ce.__e(t,r.__v))};var bo=typeof requestAnimationFrame=="function";function Ga(e){var t,r=function(){clearTimeout(n),bo&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,100);bo&&(t=requestAnimationFrame(r))}function nr(e){var t=se,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),se=t}function qr(e){var t=se;e.__c=e.__(),se=t}function Yr(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function xo(e,t){return typeof t=="function"?t(e):t}function wo(e,t){for(var r in t)e[r]=t[r];return e}function Xr(e,t){for(var r in e)if(r!=="__source"&&!(r in t))return!0;for(var n in t)if(n!=="__source"&&e[n]!==t[n])return!0;return!1}function Kr(e,t){var r=t(),n=U({t:{__:r,u:t}}),o=n[0].t,i=n[1];return dt(function(){o.__=r,o.u=t,Jr(o)&&i({t:o})},[e,r,t]),de(function(){return Jr(o)&&i({t:o}),e(function(){Jr(o)&&i({t:o})})},[e]),r}function Jr(e){var t,r,n=e.u,o=e.__;try{var i=n();return!((t=o)===(r=i)&&(t!==0||1/t==1/r)||t!=t&&r!=r)}catch{return!0}}function Qr(e){e()}function Zr(e){return e}function en(){return[!1,Qr]}var tn=dt;function or(e,t){this.props=e,this.context=t}function Co(e,t){function r(o){var i=this.props.ref,a=i==o.ref;return!a&&i&&(i.call?i(null):i.current=null),t?!t(this.props,o)||!a:Xr(this.props,o)}function n(o){return this.shouldComponentUpdate=r,ye(e,o)}return n.displayName="Memo("+(e.displayName||e.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(or.prototype=new Le).isPureReactComponent=!0,or.prototype.shouldComponentUpdate=function(e,t){return Xr(this.props,e)||Xr(this.state,t)};var So=Y.__b;Y.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),So&&So(e)};var qa=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Re(e){function t(r){var n=wo({},r);return delete n.ref,e(n,r.ref||null)}return t.$$typeof=qa,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var ko=function(e,t){return e==null?null:qe(qe(e).map(t))},Eo={map:ko,forEach:ko,count:function(e){return e?qe(e).length:0},only:function(e){var t=qe(e);if(t.length!==1)throw"Children.only";return t[0]},toArray:qe},Ya=Y.__e;Y.__e=function(e,t,r,n){if(e.then){for(var o,i=t;i=i.__;)if((o=i.__c)&&o.__c)return t.__e==null&&(t.__e=r.__e,t.__k=r.__k),o.__c(e,t)}Ya(e,t,r,n)};var Po=Y.unmount;function To(e,t,r){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),e.__c.__H=null),(e=wo({},e)).__c!=null&&(e.__c.__P===r&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map(function(n){return To(n,t,r)})),e}function Ro(e,t,r){return e&&r&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(n){return Ro(n,t,r)}),e.__c&&e.__c.__P===t&&(e.__e&&r.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=r)),e}function Ot(){this.__u=0,this.o=null,this.__b=null}function Io(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function $o(e){var t,r,n;function o(i){if(t||(t=e()).then(function(a){r=a.default||a},function(a){n=a}),n)throw n;if(!r)throw t;return ye(r,i)}return o.displayName="Lazy",o.__f=!0,o}function xt(){this.i=null,this.l=null}Y.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),Po&&Po(e)},(Ot.prototype=new Le).__c=function(e,t){var r=t.__c,n=this;n.o==null&&(n.o=[]),n.o.push(r);var o=Io(n.__v),i=!1,a=function(){i||(i=!0,r.__R=null,o?o(s):s())};r.__R=a;var s=function(){if(!--n.__u){if(n.state.__a){var l=n.state.__a;n.__v.__k[0]=Ro(l,l.__c.__P,l.__c.__O)}var u;for(n.setState({__a:n.__b=null});u=n.o.pop();)u.forceUpdate()}};n.__u++||32&t.__u||n.setState({__a:n.__b=n.__v.__k[0]}),e.then(a,a)},Ot.prototype.componentWillUnmount=function(){this.o=[]},Ot.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=To(this.__b,r,n.__O=n.__P)}this.__b=null}var o=t.__a&&ye(_e,null,e.fallback);return o&&(o.__u&=-33),[ye(_e,null,t.__a?null:e.children),o]};var Mo=function(e,t,r){if(++r[1]===r[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(r=e.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;e.i=r=r[2]}};function Xa(e){return this.getChildContext=function(){return e.context},e.children}function Ka(e){var t=this,r=e.h;t.componentWillUnmount=function(){lt(null,t.v),t.v=null,t.h=null},t.h&&t.h!==r&&t.componentWillUnmount(),t.v||(t.h=r,t.v={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),t.h.appendChild(n)},insertBefore:function(n,o){this.childNodes.push(n),t.h.insertBefore(n,o)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),t.h.removeChild(n)}}),lt(ye(Xa,{context:t.context},e.__v),t.v)}function Oo(e,t){var r=ye(Ka,{__v:e,h:t});return r.containerInfo=t,r}(xt.prototype=new Le).__a=function(e){var t=this,r=Io(t.__v),n=t.l.get(e);return n[0]++,function(o){var i=function(){t.props.revealOrder?(n.push(o),Mo(t,e,n)):o()};r?r(i):i()}},xt.prototype.render=function(e){this.i=null,this.l=new Map;var t=qe(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var r=t.length;r--;)this.l.set(t[r],this.i=[1,0,this.i]);return e.children},xt.prototype.componentDidUpdate=xt.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,r){Mo(e,r,t)})};var Do=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ja=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Qa=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Za=/[A-Z0-9]/g,es=typeof document<"u",ts=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};function Vo(e,t,r){return t.__k==null&&(t.textContent=""),lt(e,t),typeof r=="function"&&r(),e?e.__c:null}function No(e,t,r){return uo(e,t),typeof r=="function"&&r(),e?e.__c:null}Le.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Le.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var Ao=Y.event;function rs(){}function ns(){return this.cancelBubble}function os(){return this.defaultPrevented}Y.event=function(e){return Ao&&(e=Ao(e)),e.persist=rs,e.isPropagationStopped=ns,e.isDefaultPrevented=os,e.nativeEvent=e};var rn,is={enumerable:!1,configurable:!0,get:function(){return this.class}},Lo=Y.vnode;Y.vnode=function(e){typeof e.type=="string"&&function(t){var r=t.props,n=t.type,o={},i=n.indexOf("-")===-1;for(var a in r){var s=r[a];if(!(a==="value"&&"defaultValue"in r&&s==null||es&&a==="children"&&n==="noscript"||a==="class"||a==="className")){var l=a.toLowerCase();a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&s===!0?s="":l==="translate"&&s==="no"?s=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?a="ondblclick":l!=="onchange"||n!=="input"&&n!=="textarea"||ts(r.type)?l==="onfocus"?a="onfocusin":l==="onblur"?a="onfocusout":Qa.test(a)&&(a=l):l=a="oninput":i&&Ja.test(a)?a=a.replace(Za,"-$&").toLowerCase():s===null&&(s=void 0),l==="oninput"&&o[a=l]&&(a="oninputCapture"),o[a]=s}}n=="select"&&o.multiple&&Array.isArray(o.value)&&(o.value=qe(r.children).forEach(function(u){u.props.selected=o.value.indexOf(u.props.value)!=-1})),n=="select"&&o.defaultValue!=null&&(o.value=qe(r.children).forEach(function(u){u.props.selected=o.multiple?o.defaultValue.indexOf(u.props.value)!=-1:o.defaultValue==u.props.value})),r.class&&!r.className?(o.class=r.class,Object.defineProperty(o,"className",is)):(r.className&&!r.class||r.class&&r.className)&&(o.class=o.className=r.className),t.props=o}(e),e.$$typeof=Do,Lo&&Lo(e)};var zo=Y.__r;Y.__r=function(e){zo&&zo(e),rn=e.__c};var Bo=Y.diffed;Y.diffed=function(e){Bo&&Bo(e);var t=e.props,r=e.__e;r!=null&&e.type==="textarea"&&"value"in t&&t.value!==r.value&&(r.value=t.value==null?"":t.value),rn=null};var Fo={ReactCurrentDispatcher:{current:{readContext:function(e){return rn.__n[e.__c].props.value},useCallback:$,useContext:ae,useDebugValue:Hr,useDeferredValue:Zr,useEffect:de,useId:Gr,useImperativeHandle:Wr,useInsertionEffect:tn,useLayoutEffect:dt,useMemo:G,useReducer:rr,useRef:te,useState:U,useSyncExternalStore:Kr,useTransition:en}}},jo="18.3.1";function Uo(e){return ye.bind(null,e)}function Dt(e){return!!e&&e.$$typeof===Do}function Wo(e){return Dt(e)&&e.type===_e}function Ho(e){return!!e&&!!e.displayName&&(typeof e.displayName=="string"||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function ir(e){return Dt(e)?Ua.apply(null,arguments):e}function Go(e){return!!e.__k&&(lt(null,e),!0)}function qo(e){return e&&(e.base||e.nodeType===1&&e)||null}var Yo=function(e,t){return e(t)},nn=function(e,t){return e(t)},Xo=_e,Ko=Dt,as={useState:U,useId:Gr,useReducer:rr,useEffect:de,useLayoutEffect:dt,useInsertionEffect:tn,useTransition:en,useDeferredValue:Zr,useSyncExternalStore:Kr,startTransition:Qr,useRef:te,useImperativeHandle:Wr,useMemo:G,useCallback:$,useContext:ae,useDebugValue:Hr,version:"18.3.1",Children:Eo,render:Vo,hydrate:No,unmountComponentAtNode:Go,createPortal:Oo,createElement:ye,createContext:Me,createFactory:Uo,cloneElement:ir,createRef:to,Fragment:_e,isValidElement:Dt,isElement:Ko,isFragment:Wo,isMemo:Ho,findDOMNode:qo,Component:Le,PureComponent:or,memo:Co,forwardRef:Re,flushSync:nn,unstable_batchedUpdates:Yo,StrictMode:Xo,Suspense:Ot,SuspenseList:xt,lazy:$o,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Fo};const on=Object.freeze(Object.defineProperty({__proto__:null,Children:Eo,Component:Le,Fragment:_e,PureComponent:or,StrictMode:Xo,Suspense:Ot,SuspenseList:xt,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Fo,cloneElement:ir,createContext:Me,createElement:ye,createFactory:Uo,createPortal:Oo,createRef:to,default:as,findDOMNode:qo,flushSync:nn,forwardRef:Re,hydrate:No,isElement:Ko,isFragment:Wo,isMemo:Ho,isValidElement:Dt,lazy:$o,memo:Co,render:Vo,startTransition:Qr,unmountComponentAtNode:Go,unstable_batchedUpdates:Yo,useCallback:$,useContext:ae,useDebugValue:Hr,useDeferredValue:Zr,useEffect:de,useErrorBoundary:Wa,useId:Gr,useImperativeHandle:Wr,useInsertionEffect:tn,useLayoutEffect:dt,useMemo:G,useReducer:rr,useRef:te,useState:U,useSyncExternalStore:Kr,useTransition:en,version:jo},Symbol.toStringTag,{value:"Module"}));var ss=0;function Ce(e,t,r,n,o,i){t||(t={});var a,s,l=t;if("ref"in l)for(s in l={},t)s=="ref"?a=t[s]:l[s]=t[s];var u={type:e,props:l,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ss,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(a=e.defaultProps))for(s in a)l[s]===void 0&&(l[s]=a[s]);return Y.vnode&&Y.vnode(u),u}function cs(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function ls(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var us=function(){function e(r){var n=this;this._insertTag=function(o){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(o,i),n.tags.push(o)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ls(this));var o=this.tags[this.tags.length-1];if(this.isSpeedy){var i=cs(o);try{i.insertRule(n,i.cssRules.length)}catch{}}else o.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){var o;return(o=n.parentNode)==null?void 0:o.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Se="-ms-",ar="-moz-",re="-webkit-",Jo="comm",an="rule",sn="decl",ds="@import",Qo="@keyframes",fs="@layer",ps=Math.abs,sr=String.fromCharCode,ms=Object.assign;function hs(e,t){return be(e,0)^45?(((t<<2^be(e,0))<<2^be(e,1))<<2^be(e,2))<<2^be(e,3):0}function Zo(e){return e.trim()}function _s(e,t){return(e=t.exec(e))?e[0]:e}function ne(e,t,r){return e.replace(t,r)}function cn(e,t){return e.indexOf(t)}function be(e,t){return e.charCodeAt(t)|0}function Vt(e,t,r){return e.slice(t,r)}function Ue(e){return e.length}function ln(e){return e.length}function cr(e,t){return t.push(e),e}function gs(e,t){return e.map(t).join("")}var lr=1,wt=1,ei=0,Ie=0,pe=0,Ct="";function ur(e,t,r,n,o,i,a){return{value:e,root:t,parent:r,type:n,props:o,children:i,line:lr,column:wt,length:a,return:""}}function Nt(e,t){return ms(ur("",null,null,"",null,null,0),e,{length:-e.length},t)}function vs(){return pe}function ys(){return pe=Ie>0?be(Ct,--Ie):0,wt--,pe===10&&(wt=1,lr--),pe}function Oe(){return pe=Ie<ei?be(Ct,Ie++):0,wt++,pe===10&&(wt=1,lr++),pe}function We(){return be(Ct,Ie)}function dr(){return Ie}function At(e,t){return Vt(Ct,e,t)}function Lt(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ti(e){return lr=wt=1,ei=Ue(Ct=e),Ie=0,[]}function ri(e){return Ct="",e}function fr(e){return Zo(At(Ie-1,un(e===91?e+2:e===40?e+1:e)))}function bs(e){for(;(pe=We())&&pe<33;)Oe();return Lt(e)>2||Lt(pe)>3?"":" "}function xs(e,t){for(;--t&&Oe()&&!(pe<48||pe>102||pe>57&&pe<65||pe>70&&pe<97););return At(e,dr()+(t<6&&We()==32&&Oe()==32))}function un(e){for(;Oe();)switch(pe){case e:return Ie;case 34:case 39:e!==34&&e!==39&&un(pe);break;case 40:e===41&&un(e);break;case 92:Oe();break}return Ie}function ws(e,t){for(;Oe()&&e+pe!==57;)if(e+pe===84&&We()===47)break;return"/*"+At(t,Ie-1)+"*"+sr(e===47?e:Oe())}function Cs(e){for(;!Lt(We());)Oe();return At(e,Ie)}function Ss(e){return ri(pr("",null,null,null,[""],e=ti(e),0,[0],e))}function pr(e,t,r,n,o,i,a,s,l){for(var u=0,d=0,c=a,f=0,m=0,h=0,_=1,y=1,g=1,x=0,E="",S=o,b=i,C=n,P=E;y;)switch(h=x,x=Oe()){case 40:if(h!=108&&be(P,c-1)==58){cn(P+=ne(fr(x),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:P+=fr(x);break;case 9:case 10:case 13:case 32:P+=bs(h);break;case 92:P+=xs(dr()-1,7);continue;case 47:switch(We()){case 42:case 47:cr(ks(ws(Oe(),dr()),t,r),l);break;default:P+="/"}break;case 123*_:s[u++]=Ue(P)*g;case 125*_:case 59:case 0:switch(x){case 0:case 125:y=0;case 59+d:g==-1&&(P=ne(P,/\f/g,"")),m>0&&Ue(P)-c&&cr(m>32?oi(P+";",n,r,c-1):oi(ne(P," ","")+";",n,r,c-2),l);break;case 59:P+=";";default:if(cr(C=ni(P,t,r,u,d,o,s,E,S=[],b=[],c),i),x===123)if(d===0)pr(P,t,C,C,S,i,c,s,b);else switch(f===99&&be(P,3)===110?100:f){case 100:case 108:case 109:case 115:pr(e,C,C,n&&cr(ni(e,C,C,0,0,o,s,E,o,S=[],c),b),o,b,c,s,n?S:b);break;default:pr(P,C,C,C,[""],b,0,s,b)}}u=d=m=0,_=g=1,E=P="",c=a;break;case 58:c=1+Ue(P),m=h;default:if(_<1){if(x==123)--_;else if(x==125&&_++==0&&ys()==125)continue}switch(P+=sr(x),x*_){case 38:g=d>0?1:(P+="\f",-1);break;case 44:s[u++]=(Ue(P)-1)*g,g=1;break;case 64:We()===45&&(P+=fr(Oe())),f=We(),d=c=Ue(E=P+=Cs(dr())),x++;break;case 45:h===45&&Ue(P)==2&&(_=0)}}return i}function ni(e,t,r,n,o,i,a,s,l,u,d){for(var c=o-1,f=o===0?i:[""],m=ln(f),h=0,_=0,y=0;h<n;++h)for(var g=0,x=Vt(e,c+1,c=ps(_=a[h])),E=e;g<m;++g)(E=Zo(_>0?f[g]+" "+x:ne(x,/&\f/g,f[g])))&&(l[y++]=E);return ur(e,t,r,o===0?an:s,l,u,d)}function ks(e,t,r){return ur(e,t,r,Jo,sr(vs()),Vt(e,2,-2),0)}function oi(e,t,r,n){return ur(e,t,r,sn,Vt(e,0,n),Vt(e,n+1,-1),n)}function St(e,t){for(var r="",n=ln(e),o=0;o<n;o++)r+=t(e[o],o,e,t)||"";return r}function Es(e,t,r,n){switch(e.type){case fs:if(e.children.length)break;case ds:case sn:return e.return=e.return||e.value;case Jo:return"";case Qo:return e.return=e.value+"{"+St(e.children,n)+"}";case an:e.value=e.props.join(",")}return Ue(r=St(e.children,n))?e.return=e.value+"{"+r+"}":""}function Ps(e){var t=ln(e);return function(r,n,o,i){for(var a="",s=0;s<t;s++)a+=e[s](r,n,o,i)||"";return a}}function Ts(e){return function(t){t.root||(t=t.return)&&e(t)}}function Rs(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var Is=function(t,r,n){for(var o=0,i=0;o=i,i=We(),o===38&&i===12&&(r[n]=1),!Lt(i);)Oe();return At(t,Ie)},$s=function(t,r){var n=-1,o=44;do switch(Lt(o)){case 0:o===38&&We()===12&&(r[n]=1),t[n]+=Is(Ie-1,r,n);break;case 2:t[n]+=fr(o);break;case 4:if(o===44){t[++n]=We()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=sr(o)}while(o=Oe());return t},Ms=function(t,r){return ri($s(ti(t),r))},ii=new WeakMap,Os=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,o=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!ii.get(n))&&!o){ii.set(t,!0);for(var i=[],a=Ms(r,i),s=n.props,l=0,u=0;l<a.length;l++)for(var d=0;d<s.length;d++,u++)t.props[u]=i[l]?a[l].replace(/&\f/g,s[d]):s[d]+" "+a[l]}}},Ds=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function ai(e,t){switch(hs(e,t)){case 5103:return re+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return re+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return re+e+ar+e+Se+e+e;case 6828:case 4268:return re+e+Se+e+e;case 6165:return re+e+Se+"flex-"+e+e;case 5187:return re+e+ne(e,/(\w+).+(:[^]+)/,re+"box-$1$2"+Se+"flex-$1$2")+e;case 5443:return re+e+Se+"flex-item-"+ne(e,/flex-|-self/,"")+e;case 4675:return re+e+Se+"flex-line-pack"+ne(e,/align-content|flex-|-self/,"")+e;case 5548:return re+e+Se+ne(e,"shrink","negative")+e;case 5292:return re+e+Se+ne(e,"basis","preferred-size")+e;case 6060:return re+"box-"+ne(e,"-grow","")+re+e+Se+ne(e,"grow","positive")+e;case 4554:return re+ne(e,/([^-])(transform)/g,"$1"+re+"$2")+e;case 6187:return ne(ne(ne(e,/(zoom-|grab)/,re+"$1"),/(image-set)/,re+"$1"),e,"")+e;case 5495:case 3959:return ne(e,/(image-set\([^]*)/,re+"$1$`$1");case 4968:return ne(ne(e,/(.+:)(flex-)?(.*)/,re+"box-pack:$3"+Se+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+re+e+e;case 4095:case 3583:case 4068:case 2532:return ne(e,/(.+)-inline(.+)/,re+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ue(e)-1-t>6)switch(be(e,t+1)){case 109:if(be(e,t+4)!==45)break;case 102:return ne(e,/(.+:)(.+)-([^]+)/,"$1"+re+"$2-$3$1"+ar+(be(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~cn(e,"stretch")?ai(ne(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(be(e,t+1)!==115)break;case 6444:switch(be(e,Ue(e)-3-(~cn(e,"!important")&&10))){case 107:return ne(e,":",":"+re)+e;case 101:return ne(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+re+(be(e,14)===45?"inline-":"")+"box$3$1"+re+"$2$3$1"+Se+"$2box$3")+e}break;case 5936:switch(be(e,t+11)){case 114:return re+e+Se+ne(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return re+e+Se+ne(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return re+e+Se+ne(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return re+e+Se+e+e}return e}var Vs=function(t,r,n,o){if(t.length>-1&&!t.return)switch(t.type){case sn:t.return=ai(t.value,t.length);break;case Qo:return St([Nt(t,{value:ne(t.value,"@","@"+re)})],o);case an:if(t.length)return gs(t.props,function(i){switch(_s(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return St([Nt(t,{props:[ne(i,/:(read-\w+)/,":"+ar+"$1")]})],o);case"::placeholder":return St([Nt(t,{props:[ne(i,/:(plac\w+)/,":"+re+"input-$1")]}),Nt(t,{props:[ne(i,/:(plac\w+)/,":"+ar+"$1")]}),Nt(t,{props:[ne(i,/:(plac\w+)/,Se+"input-$1")]})],o)}return""})}},Ns=[Vs],si=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(_){var y=_.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var o=t.stylisPlugins||Ns,i={},a,s=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(_){for(var y=_.getAttribute("data-emotion").split(" "),g=1;g<y.length;g++)i[y[g]]=!0;s.push(_)});var l,u=[Os,Ds];{var d,c=[Es,Ts(function(_){d.insert(_)})],f=Ps(u.concat(o,c)),m=function(y){return St(Ss(y),f)};l=function(y,g,x,E){d=x,m(y?y+"{"+g.styles+"}":g.styles),E&&(h.inserted[g.name]=!0)}}var h={key:r,sheet:new us({key:r,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:i,registered:{},insert:l};return h.sheet.hydrate(s),h};function As(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mr={exports:{}},oe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci;function Ls(){if(ci)return oe;ci=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,n=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,i=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,l=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,c=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,m=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,_=e?Symbol.for("react.block"):60121,y=e?Symbol.for("react.fundamental"):60117,g=e?Symbol.for("react.responder"):60118,x=e?Symbol.for("react.scope"):60119;function E(b){if(typeof b=="object"&&b!==null){var C=b.$$typeof;switch(C){case t:switch(b=b.type,b){case l:case u:case n:case i:case o:case c:return b;default:switch(b=b&&b.$$typeof,b){case s:case d:case h:case m:case a:return b;default:return C}}case r:return C}}}function S(b){return E(b)===u}return oe.AsyncMode=l,oe.ConcurrentMode=u,oe.ContextConsumer=s,oe.ContextProvider=a,oe.Element=t,oe.ForwardRef=d,oe.Fragment=n,oe.Lazy=h,oe.Memo=m,oe.Portal=r,oe.Profiler=i,oe.StrictMode=o,oe.Suspense=c,oe.isAsyncMode=function(b){return S(b)||E(b)===l},oe.isConcurrentMode=S,oe.isContextConsumer=function(b){return E(b)===s},oe.isContextProvider=function(b){return E(b)===a},oe.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},oe.isForwardRef=function(b){return E(b)===d},oe.isFragment=function(b){return E(b)===n},oe.isLazy=function(b){return E(b)===h},oe.isMemo=function(b){return E(b)===m},oe.isPortal=function(b){return E(b)===r},oe.isProfiler=function(b){return E(b)===i},oe.isStrictMode=function(b){return E(b)===o},oe.isSuspense=function(b){return E(b)===c},oe.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===n||b===u||b===i||b===o||b===c||b===f||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===m||b.$$typeof===a||b.$$typeof===s||b.$$typeof===d||b.$$typeof===y||b.$$typeof===g||b.$$typeof===x||b.$$typeof===_)},oe.typeOf=E,oe}var ie={},li;function zs(){if(li)return ie;li=1;var e={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return e.NODE_ENV!=="production"&&function(){var t=typeof Symbol=="function"&&Symbol.for,r=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,o=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,u=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,c=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,m=t?Symbol.for("react.suspense_list"):60120,h=t?Symbol.for("react.memo"):60115,_=t?Symbol.for("react.lazy"):60116,y=t?Symbol.for("react.block"):60121,g=t?Symbol.for("react.fundamental"):60117,x=t?Symbol.for("react.responder"):60118,E=t?Symbol.for("react.scope"):60119;function S(D){return typeof D=="string"||typeof D=="function"||D===o||D===d||D===a||D===i||D===f||D===m||typeof D=="object"&&D!==null&&(D.$$typeof===_||D.$$typeof===h||D.$$typeof===s||D.$$typeof===l||D.$$typeof===c||D.$$typeof===g||D.$$typeof===x||D.$$typeof===E||D.$$typeof===y)}function b(D){if(typeof D=="object"&&D!==null){var Ve=D.$$typeof;switch(Ve){case r:var X=D.type;switch(X){case u:case d:case o:case a:case i:case f:return X;default:var ve=X&&X.$$typeof;switch(ve){case l:case c:case _:case h:case s:return ve;default:return Ve}}case n:return Ve}}}var C=u,P=d,T=l,O=s,R=r,M=c,B=o,H=_,K=h,ue=n,he=a,fe=i,ge=f,Q=!1;function Te(D){return Q||(Q=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),k(D)||b(D)===u}function k(D){return b(D)===d}function I(D){return b(D)===l}function N(D){return b(D)===s}function F(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function j(D){return b(D)===c}function W(D){return b(D)===o}function L(D){return b(D)===_}function z(D){return b(D)===h}function A(D){return b(D)===n}function Z(D){return b(D)===a}function q(D){return b(D)===i}function we(D){return b(D)===f}ie.AsyncMode=C,ie.ConcurrentMode=P,ie.ContextConsumer=T,ie.ContextProvider=O,ie.Element=R,ie.ForwardRef=M,ie.Fragment=B,ie.Lazy=H,ie.Memo=K,ie.Portal=ue,ie.Profiler=he,ie.StrictMode=fe,ie.Suspense=ge,ie.isAsyncMode=Te,ie.isConcurrentMode=k,ie.isContextConsumer=I,ie.isContextProvider=N,ie.isElement=F,ie.isForwardRef=j,ie.isFragment=W,ie.isLazy=L,ie.isMemo=z,ie.isPortal=A,ie.isProfiler=Z,ie.isStrictMode=q,ie.isSuspense=we,ie.isValidElementType=S,ie.typeOf=b}(),ie}var ui;function dn(){if(ui)return mr.exports;ui=1;var e={};return e.NODE_ENV==="production"?mr.exports=Ls():mr.exports=zs(),mr.exports}var fn,di;function Bs(){if(di)return fn;di=1;var e=dn(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[e.ForwardRef]=n,i[e.Memo]=o;function a(h){return e.isMemo(h)?o:i[h.$$typeof]||t}var s=Object.defineProperty,l=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,f=Object.prototype;function m(h,_,y){if(typeof _!="string"){if(f){var g=c(_);g&&g!==f&&m(h,g,y)}var x=l(_);u&&(x=x.concat(u(_)));for(var E=a(h),S=a(_),b=0;b<x.length;++b){var C=x[b];if(!r[C]&&!(y&&y[C])&&!(S&&S[C])&&!(E&&E[C])){var P=d(_,C);try{s(h,C,P)}catch{}}}}return h}return fn=m,fn}Bs();var Fs=!0;function js(e,t,r){var n="";return r.split(" ").forEach(function(o){e[o]!==void 0?t.push(e[o]+";"):o&&(n+=o+" ")}),n}var fi=function(t,r,n){var o=t.key+"-"+r.name;(n===!1||Fs===!1)&&t.registered[o]===void 0&&(t.registered[o]=r.styles)},Us=function(t,r,n){fi(t,r,n);var o=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var i=r;do t.insert(r===i?"."+o:"",i,t.sheet,!0),i=i.next;while(i!==void 0)}};function Ws(e){for(var t=0,r,n=0,o=e.length;o>=4;++n,o-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(o){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Hs={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Gs=/[A-Z]|^ms/g,qs=/_EMO_([^_]+?)_([^]*?)_EMO_/g,pi=function(t){return t.charCodeAt(1)===45},mi=function(t){return t!=null&&typeof t!="boolean"},pn=Rs(function(e){return pi(e)?e:e.replace(Gs,"-$&").toLowerCase()}),hi=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(qs,function(n,o,i){return He={name:o,styles:i,next:He},o})}return Hs[t]!==1&&!pi(t)&&typeof r=="number"&&r!==0?r+"px":r};function zt(e,t,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var o=r;if(o.anim===1)return He={name:o.name,styles:o.styles,next:He},o.name;var i=r;if(i.styles!==void 0){var a=i.next;if(a!==void 0)for(;a!==void 0;)He={name:a.name,styles:a.styles,next:He},a=a.next;var s=i.styles+";";return s}return Ys(e,t,r)}case"function":{if(e!==void 0){var l=He,u=r(e);return He=l,zt(e,t,u)}break}}var d=r;return d}function Ys(e,t,r){var n="";if(Array.isArray(r))for(var o=0;o<r.length;o++)n+=zt(e,t,r[o])+";";else for(var i in r){var a=r[i];if(typeof a!="object"){var s=a;mi(s)&&(n+=pn(i)+":"+hi(i,s)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&t==null)for(var l=0;l<a.length;l++)mi(a[l])&&(n+=pn(i)+":"+hi(i,a[l])+";");else{var u=zt(e,t,a);switch(i){case"animation":case"animationName":{n+=pn(i)+":"+u+";";break}default:n+=i+"{"+u+"}"}}}return n}var _i=/label:\s*([^\s;{]+)\s*(;|$)/g,He;function gi(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var n=!0,o="";He=void 0;var i=e[0];if(i==null||i.raw===void 0)n=!1,o+=zt(r,t,i);else{var a=i;o+=a[0]}for(var s=1;s<e.length;s++)if(o+=zt(r,t,e[s]),n){var l=i;o+=l[s]}_i.lastIndex=0;for(var u="",d;(d=_i.exec(o))!==null;)u+="-"+d[1];var c=Ws(o)+u;return{name:c,styles:o,next:He}}var Xs=function(t){return t()},Ks=on.useInsertionEffect?on.useInsertionEffect:!1,Js=Ks||Xs,vi=Me(typeof HTMLElement<"u"?si({key:"css"}):null),Qs=vi.Provider,Zs=function(t){return Re(function(r,n){var o=ae(vi);return t(r,o,n)})},ec=Me({}),Bt={}.hasOwnProperty,mn="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",hn=function(t,r){var n={};for(var o in r)Bt.call(r,o)&&(n[o]=r[o]);return n[mn]=t,n},tc=function(t){var r=t.cache,n=t.serialized,o=t.isStringTag;return fi(r,n,o),Js(function(){return Us(r,n,o)}),null},rc=Zs(function(e,t,r){var n=e.css;typeof n=="string"&&t.registered[n]!==void 0&&(n=t.registered[n]);var o=e[mn],i=[n],a="";typeof e.className=="string"?a=js(t.registered,i,e.className):e.className!=null&&(a=e.className+" ");var s=gi(i,void 0,ae(ec));a+=t.key+"-"+s.name;var l={};for(var u in e)Bt.call(e,u)&&u!=="css"&&u!==mn&&(l[u]=e[u]);return l.className=a,r&&(l.ref=r),ye(_e,null,ye(tc,{cache:t,serialized:s,isStringTag:typeof o=="string"}),ye(o,l))}),_n=rc,p=function(t,r,n){return Bt.call(r,"css")?Ce(_n,hn(t,r),n):Ce(t,r,n)},V=function(t,r,n){return Bt.call(r,"css")?Ce(_n,hn(t,r),n):Ce(t,r,n)},yi=function(t,r){var n=arguments;if(r==null||!Bt.call(r,"css"))return ye.apply(void 0,n);var o=n.length,i=new Array(o);i[0]=_n,i[1]=hn(t,r);for(var a=2;a<o;a++)i[a]=n[a];return ye.apply(null,i)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(yi||(yi={}));function w(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return gi(t)}function Ft(){var e=w.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}const nc=({hass:e,action:t,target:r,data:n})=>{const o=t.split(".")[0],i=t.split(".")[1],a={...n,...r};return e.callService(o,i,a)},gn=async(e,t,r,n)=>{const o=t[r+"_action"];if(o.action==="perform-action")return nc({hass:n,action:o.perform_action,target:o.target,data:o.data});const i=new CustomEvent("hass-action",{bubbles:!0,composed:!0,detail:{config:{...t,entity_id:t==null?void 0:t.entity},action:r}});return e.dispatchEvent(i),Promise.resolve()},vn=({icon:e,deviceClass:t})=>{if(e)return e;switch(t){case"speaker":return"mdi:speaker";case"receiver":return"mdi:audio-video";default:return"mdi:speaker"}},ft=(e,t,r)=>{const n=r?["state","attributes.volume_level","attributes.is_volume_muted","attributes.group_members"]:["state","attributes.media_duration","attributes.media_title","attributes.media_artist","attributes.media_album_name","attributes.icon","attributes.friendly_name","attributes.entity_picture","attributes.volume_level","attributes.is_volume_muted","attributes.source","attributes.shuffle","attributes.repeat","attributes.supported_features","attributes.group_members"],o=(a,s)=>s.split(".").reduce((u,d)=>u&&u[d]!==void 0?u[d]:void 0,a),i=(a,s)=>{if(a.length!==s.length)return!1;for(let l=0;l<a.length;l++)if(a[l]!==s[l])return!1;return!0};for(const a of n){const s=o(e,a),l=o(t,a);if(Array.isArray(s)&&Array.isArray(l)){if(!i(s,l))return!0}else if(s!==l)return!0}return!1};function le(){return document.querySelector("home-assistant").hass}const jt=(e,t)=>e===0||t?"mdi:volume-off":e<.5?"mdi:volume-medium":"mdi:volume-high",oc=(e,t,r=!1)=>{var i;const n=le(),o=n.states[e];if(o&&(n.callService("media_player","volume_set",{entity_id:e,volume_level:t}),r&&((i=o.attributes.group_members)==null?void 0:i.length)>0)){const a=o.attributes.volume_level||0,s=a>0?t/a:1;o.attributes.group_members.slice(1).forEach(l=>{const u=n.states[l];if(!u)return;const d=u.attributes.volume_level||0,c=Math.min(Math.max(d*s,0),1);n.callService("media_player","volume_set",{entity_id:l,volume_level:c})})}},hr={root:w({background:"none",border:"none",cursor:"pointer",padding:"0px",margin:"0px",position:"relative",overflow:"hidden",width:"var(--mmpc-art-width)",height:"var(--mmpc-art-height)","&::after":{content:'""',display:"block",paddingBottom:"100%"}}),contentContainer:w({position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden"}),image:w({height:"100%",aspectRatio:"1 / 1",objectFit:"cover",borderRadius:"var(--mmpc-art-border-radius, 4px)"}),iconContainer:w({display:"flex",justifyContent:"center",alignItems:"center","--icon-primary-color":"var(--card-background-color)",backgroundColor:"var(--primary-text-color)",opacity:.5,borderRadius:"var(--mmpc-art-border-radius, 4px)",height:"100%",aspectRatio:"1 / 1"})},bi=({size:e,borderRadius:t=4,iconSize:r,renderLongPressIndicator:n,...o})=>{const i=Pe(),{media_title:a,media_artist:s,entity_picture:l,icon:u,device_class:d,source:c}=i.attributes,f=i.state,[m,h]=U(!1);return de(()=>{h(!1)},[l]),V("button",{css:hr.root,style:{"--mmpc-art-border-radius":`${t}px`,"--mmpc-art-width":e?typeof e=="string"?e:`${e}px`:"100%","--mmpc-art-height":e?typeof e=="string"?e:`${e}px`:"unset",...typeof e=="number"?{flexShrink:0}:{}},...o,children:[p("div",{css:hr.contentContainer,children:l&&f!=="off"&&!m?p("img",{css:hr.image,src:l,alt:a&&s?`${a} by ${s}`:`Source: ${c}`,onError:()=>h(!0)}):p("div",{css:hr.iconContainer,children:p(ot,{icon:f==="off"?vn({icon:u,deviceClass:d}):ic({source:c}),size:r})})}),n&&n()]})},ic=({source:e})=>{switch(e==null?void 0:e.toLowerCase()){case"spotify":return"mdi:spotify";case"airplay":return"mdi:airplay";case"bluetooth":return"mdi:bluetooth";case"net radio":return"mdi:radio";case"server":return"mdi:server";case"usb":return"mdi:usb";case"aux":return"mdi:audio-input-rca";case"hdmi":return"mdi:hdmi-port";case"tv":return"mdi:television";case"tuner":return"mdi:radio-tower";case"optical":return"mdi:audio-input-stereo-minijack";default:return"mdi:music"}},xe=Me({rootElement:null,config:null}),xi=({rootElement:e,config:t,children:r})=>{const n=G(()=>({rootElement:e,config:t}),[e,t]);return p(xe.Provider,{value:n,children:r})},ac=Ft`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wi={root:w({position:"relative",background:"none",border:"none",display:"flex",flex:0,flexDirection:"row",height:"32px",fontSize:"13px",fontWeight:500,lineHeight:"32px",padding:"0 12px",borderRadius:"16px",color:"var(--mmpc-chip-foreground, var(--card-background-color))",backgroundColor:"var(--mmpc-chip-background, var(--primary-text-color))","--icon-primary-color":"var(--mmpc-chip-foreground, var(--card-background-color))",marginRight:"5px",alignItems:"center",gap:"4px",textWrap:"nowrap",cursor:"pointer","&:hover":{opacity:.8},opacity:1,"& ha-icon":{pointerEvents:"none"}}),rootLoading:w({opacity:.8,"& ha-icon":{animation:`${ac} 1s linear infinite`}})},Ut=({loading:e,icon:t,iconPosition:r="left",children:n,...o})=>{const i=()=>{if(e)return p(ot,{size:"x-small",icon:"mdi:loading"});if(t)return p(ot,{size:"x-small",icon:t})};return V("button",{css:[wi.root,e&&wi.rootLoading],...o,children:[r==="left"&&i(),n,r==="right"&&i()]})},Ci=({rootElement:e,children:t})=>{const[r]=U(()=>si({key:"mmpc",container:e,speedy:!1}));return p(Qs,{value:r,children:t})},sc=()=>[{name:"tap_action",label:"Tap Action",selector:{ui_action:{}}},{name:"hold_action",label:"Hold Action",selector:{ui_action:{}}},{name:"double_tap_action",label:"Double Tap Action",selector:{ui_action:{}}}],cc=({hass:e,value:t,onChange:r,disabled:n=!1})=>{const o=te(null),i=G(()=>t?{...t}:{action:"none"},[t]),a=$(s=>{const u=s.detail.value;r(u)},[r]);return de(()=>{const s=o.current;return s&&s.addEventListener("value-changed",a),()=>{s&&s.removeEventListener("value-changed",a)}},[o.current,a]),p("ha-form",{ref:o,hass:e,data:i,schema:sc(),computeLabel:s=>s.label||s.name,disabled:n})},rt=e=>{const{hass:t,value:r,onChange:n,label:o,domains:i,required:a=!1,disabled:s=!1,allowCustomEntity:l=!1}=e,u=te(null),d=$(c=>{const m=c.detail.value;n(m)},[n]);return de(()=>{const c=u.current;return c&&c.addEventListener("value-changed",d),()=>{c&&c.removeEventListener("value-changed",d)}},[u.current,d]),p("ha-entity-picker",{ref:u,hass:t,value:r,label:o||"Entity",includeDomains:i,disabled:s,required:a,"allow-custom-entity":l})},lc={root:w({display:"flex",flexDirection:"column",gap:"8px"})},Si=({hass:e,value:t,onChange:r,label:n,domains:o,disabled:i=!1,allowCustomEntity:a=!1})=>{const s=(t==null?void 0:t.filter(Boolean))||[],l=$((u,d)=>{const c=[...s];!u&&d<s.length?c.splice(d,1):d<s.length?c[d]=u||"":u&&c.push(u),r(c.filter(Boolean))},[s,r]);return V("div",{css:lc.root,className:"entities-picker",children:[n&&p("label",{children:n}),s.map((u,d)=>p(rt,{hass:e,value:u,onChange:c=>l(c,d),domains:o,disabled:i,required:!1,allowCustomEntity:a},`entity-${d}`)),p(rt,{hass:e,value:"",onChange:u=>l(u,s.length),domains:o,disabled:i,required:!1,allowCustomEntity:a},"entity-new")]})},_r=({hass:e,value:t={},onChange:r})=>p(cc,{hass:e,value:t,onChange:r}),uc=({options:e,onSelected:t,selected:r})=>p("select",{value:r,onChange:n=>t(n.target.value),children:e.map(n=>p("option",{value:n.value,children:n.name},n.value))}),Ge={formGroup:w({marginBottom:"16px"}),label:w({display:"block",marginBottom:"16px",fontWeight:500}),buttonsContainer:w({display:"flex",flexDirection:"column"}),button:w({padding:"8px 16px",border:"none",borderRadius:"4px",cursor:"pointer",backgroundColor:"var(--primary-color, #03a9f4)",color:"white",fontWeight:500,"&:hover":{backgroundColor:"var(--primary-color-dark, #007ac1)"},alignSelf:"flex-start"}),deleteButton:w({backgroundColor:"var(--error-color, #ff5252)","&:hover":{backgroundColor:"var(--error-color-dark, #c50b0b)"}}),inputGroup:w({display:"flex",flexDirection:"column",marginBottom:"16px"}),toggleContainer:w({display:"flex",alignItems:"center",marginBottom:"16px"}),toggleLabel:w({marginLeft:"8px",fontWeight:"normal"}),toggle:w({cursor:"pointer"})},me=e=>p("div",{css:Ge.formGroup,...e}),ki=e=>p("label",{css:Ge.label,...e}),Ei=e=>p("div",{css:Ge.buttonsContainer,...e}),Pi=e=>p("button",{css:Ge.button,...e}),Ti=e=>p("button",{css:[Ge.button,Ge.deleteButton],...e}),gr=e=>p("div",{css:Ge.inputGroup,...e}),yn=e=>p("div",{css:Ge.toggleContainer,...e}),bn=e=>p("label",{css:Ge.toggleLabel,...e}),xn=e=>p("input",{css:Ge.toggle,...e}),vr=({hass:e,value:t,onChange:r,label:n,required:o=!1,disabled:i=!1,isIconInput:a=!1})=>{const s=$(l=>{r(l.detail.value)},[r]);return a?p("ha-icon-picker",{label:n||"Icon",hass:e,value:t,disabled:i,required:o,"onvalue-changed":s}):p("ha-textfield",{label:n||"Text",value:t,disabled:i,required:o,onchange:l=>r(l.target.value)})},dc=({children:e})=>{const[t,r]=U(!1);return de(()=>{customElements.get("hui-glance-card").getConfigElement().then(()=>{r(!0)})},[]),t?e:null},Ri={root:w({display:"flex",flexDirection:"row",gap:"2px",justifyContent:"flex-start",overflowX:"auto",scrollbarWidth:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{display:"none"}}),speakerChip:w({"&:first-child":{marginLeft:"var(--mmpc-chip-horizontal-margin, 0px)"},"&:last-child":{marginRight:"var(--mmpc-chip-horizontal-margin, 0px)"}})},wn=({config:e,showGrouped:t,layout:r})=>{const n=kt(),{entity_id:o,speaker_group:i}=e,[a,s]=U([]),l=(i==null?void 0:i.entity_id)||o,u=n.states[l],d=G(()=>{var f;return(f=i==null?void 0:i.entities)!=null&&f.length?i.entities.filter(m=>n.states[m]).map(m=>{var h,_,y,g;return{entity_id:m,name:n.states[m].attributes.friendly_name,volume:n.states[m].attributes.volume_level||0,muted:n.states[m].attributes.is_volume_muted||!1,isGrouped:((_=(h=u==null?void 0:u.attributes)==null?void 0:h.group_members)==null?void 0:_.includes(m))||!1,isMainSpeaker:((g=(y=u==null?void 0:u.attributes)==null?void 0:y.group_members)==null?void 0:g[0])===m||!1}}).filter(m=>t?!0:!m.isGrouped).sort((m,h)=>m.entity_id===l?-1:h.entity_id===l?1:m.name.localeCompare(h.name)).sort((m,h)=>m.isGrouped&&!h.isGrouped?-1:!m.isGrouped&&h.isGrouped?1:0):[]},[n.states,i,t]),c=$(async(f,m)=>{if(!a.includes(f)){s(h=>[...h,f]);try{const h=n.states[f];m?await n.callService("media_player","unjoin",{entity_id:f}):(h.state==="off"&&await n.callService("media_player","turn_on",{entity_id:f}),await n.callService("media_player","join",{entity_id:l,group_members:[f]}))}catch(h){console.error(h)}s(h=>h.filter(_=>_!==f))}},[l,a]);return p("div",{css:Ri.root,children:d.map(f=>p(Ut,{css:Ri.speakerChip,loading:a.includes(f.entity_id),onClick:()=>c(f.entity_id,f.isGrouped),icon:f.isGrouped?"mdi:close":"mdi:plus",iconPosition:"right",style:{"--mmpc-chip-horizontal-margin":`${(r==null?void 0:r.horizontalMargin)??0}px`},children:f.name},f.entity_id))})},nt={speakersTable:w({width:"100%",borderCollapse:"collapse",tableLayout:"fixed"}),speakerRow:w({width:"100%",height:"32px"}),nameCell:w({paddingRight:"8px",fontSize:"14px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),nameCellMainSpeaker:w({fontWeight:500}),controlsCell:w({padding:"0px 4px"}),buttonCell:w({width:"28px",whiteSpace:"nowrap"}),controlsContainer:w({display:"flex",alignItems:"center",width:"100%"})},Ii=({config:{speaker_group:e,entity_id:t},syncMainSpeaker:r})=>{const n=kt(),[o,i]=U([]),a=(e==null?void 0:e.entity_id)||t,s=n.states[a],l=G(()=>{var m;return(m=e==null?void 0:e.entities)!=null&&m.length?e.entities.filter(h=>n.states[h]).map(h=>{var _,y,g,x;return{entity_id:h,name:n.states[h].attributes.friendly_name,volume:n.states[h].attributes.volume_level||0,muted:n.states[h].attributes.is_volume_muted||!1,isGrouped:((y=(_=s==null?void 0:s.attributes)==null?void 0:_.group_members)==null?void 0:y.includes(h))||!1,isMainSpeaker:((x=(g=s==null?void 0:s.attributes)==null?void 0:g.group_members)==null?void 0:x[0])===h||!1}}).sort((h,_)=>h.entity_id===a?-1:_.entity_id===a?1:h.name.localeCompare(_.name)):[]},[n.states,e]),u=$(async(m,h)=>{if(!o.includes(m)){i(_=>[..._,m]);try{const _=n.states[m];h?await n.callService("media_player","unjoin",{entity_id:m}):(_.state==="off"&&await n.callService("media_player","turn_on",{entity_id:m}),await n.callService("media_player","join",{entity_id:a,group_members:[m]}))}catch(_){console.error(_)}i(_=>_.filter(y=>y!==m))}},[a,o]),d=$((m,h)=>{le().callService("media_player","volume_mute",{entity_id:m,is_volume_muted:!h})},[]),c=$((m,h,_)=>{oc(m,h,_&&r)},[r]),f=(m,h,_)=>{const{entity_id:y,name:g,volume:x,muted:E,isGrouped:S,isMainSpeaker:b}=m,P=o.includes(y)||b&&!S;return V("tr",{css:nt.speakerRow,children:[p("td",{css:[nt.nameCell,b&&nt.nameCellMainSpeaker],children:g}),p("td",{css:nt.buttonCell,children:p(ee,{size:"x-small",onClick:()=>d(y,E),icon:jt(x,E)})}),p("td",{css:nt.controlsCell,children:p("div",{css:nt.controlsContainer,children:p(Wn,{min:0,max:1,step:.01,value:x,sliderSize:"small",onChange:T=>c(y,T,b)})})}),p("td",{css:nt.buttonCell,children:p(ee,{size:"x-small",onClick:()=>u(y,S),icon:S?"mdi:close":"mdi:plus",disabled:P})})]},y)};return p("div",{children:p("table",{css:nt.speakersTable,children:p("tbody",{children:l.filter(m=>m.isGrouped).map((m,h,_)=>f(m))})})})},$i=Me({hass:null}),fc=({hass:e,children:t})=>p($i.Provider,{value:{hass:e},children:t}),kt=()=>{const e=ae($i);if(!e)throw new Error("useHass must be used within a HassContextProvider");return e.hass},pc={root:w({background:"none",border:"none",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"var(--mmpc-icon-size)",aspectRatio:"1","& > ha-icon":{"--mdc-icon-size":"var(--mmpc-icon-size)",width:"var(--mmpc-icon-size)",display:"flex"}})},ot=({icon:e,size:t="medium",className:r})=>p("div",{css:pc.root,style:{"--mmpc-icon-size":`${mc(t)}px`},className:r,children:p("ha-icon",{icon:e})}),mc=e=>{switch(e){case"xx-small":return 12;case"x-small":return 18;case"small":return 24;case"medium":return 32;case"large":return 48;case"x-large":return 80}},hc=Ft`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,yr={root:w({position:"relative",background:"none",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"background-color 0.2s",padding:4,minWidth:"var(--mmpc-icon-button-size)",aspectRatio:"1",color:"var(--primary-text-color, #333)",touchAction:"manipulation","-webkit-tap-highlight-color":"transparent","&:hover":{backgroundColor:"var(--secondary-background-color, rgba(0, 0, 0, 0.05))"},"&:active":{backgroundColor:"var(--divider-color, rgba(0, 0, 0, 0.1))"},"@media (hover: none)":{"&:hover":{backgroundColor:"transparent"},"&:active":{backgroundColor:"var(--divider-color, rgba(0, 0, 0, 0.1))"}},"> ha-icon":{"--mdc-icon-size":"var(--mmpc-icon-button-size)",width:"var(--mmpc-icon-button-size)",display:"flex",pointerEvents:"none"}}),rootDisabled:w({color:"var(--disabled-text-color, #999)"}),rootXxsmall:w({padding:0}),rootLoading:w({"> ha-icon":{animation:`${hc} 1s linear infinite`}})},ee=({icon:e,size:t="medium",disabled:r=!1,loading:n=!1,className:o,renderLongPressIndicator:i,...a})=>V("button",{disabled:r,css:[yr.root,r&&yr.rootDisabled,t==="xx-small"&&yr.rootXxsmall,n&&yr.rootLoading],style:{"--mmpc-icon-button-size":`${_c(t)}px`},className:o,...a,children:[n?p("ha-icon",{icon:"mdi:loading"}):p("ha-icon",{icon:e}),i&&i()]}),_c=e=>{switch(e){case"xx-small":return 12;case"x-small":return 18;case"small":return 24;case"medium":return 32;case"large":return 48;case"x-large":return 80;case"xx-large":return 120}};var br={exports:{}};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Cn,Mi;function gc(){if(Mi)return Cn;Mi=1;var e=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function n(i){if(i==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}function o(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de",Object.getOwnPropertyNames(i)[0]==="5")return!1;for(var a={},s=0;s<10;s++)a["_"+String.fromCharCode(s)]=s;var l=Object.getOwnPropertyNames(a).map(function(d){return a[d]});if(l.join("")!=="0123456789")return!1;var u={};return"abcdefghijklmnopqrst".split("").forEach(function(d){u[d]=d}),Object.keys(Object.assign({},u)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return Cn=o()?Object.assign:function(i,a){for(var s,l=n(i),u,d=1;d<arguments.length;d++){s=Object(arguments[d]);for(var c in s)t.call(s,c)&&(l[c]=s[c]);if(e){u=e(s);for(var f=0;f<u.length;f++)r.call(s,u[f])&&(l[u[f]]=s[u[f]])}}return l},Cn}var Sn,Oi;function kn(){if(Oi)return Sn;Oi=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Sn=e,Sn}var En,Di;function Vi(){return Di||(Di=1,En=Function.call.bind(Object.prototype.hasOwnProperty)),En}var Pn,Ni;function vc(){if(Ni)return Pn;Ni=1;var e={},t=function(){};if(e.NODE_ENV!=="production"){var r=kn(),n={},o=Vi();t=function(a){var s="Warning: "+a;typeof console<"u"&&console.error(s);try{throw new Error(s)}catch{}}}function i(a,s,l,u,d){if(e.NODE_ENV!=="production"){for(var c in a)if(o(a,c)){var f;try{if(typeof a[c]!="function"){var m=Error((u||"React class")+": "+l+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof a[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw m.name="Invariant Violation",m}f=a[c](s,c,u,l,null,r)}catch(_){f=_}if(f&&!(f instanceof Error)&&t((u||"React class")+": type specification of "+l+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof f+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),f instanceof Error&&!(f.message in n)){n[f.message]=!0;var h=d?d():"";t("Failed "+l+" type: "+f.message+(h??""))}}}}return i.resetWarningCache=function(){e.NODE_ENV!=="production"&&(n={})},Pn=i,Pn}var Tn,Ai;function yc(){if(Ai)return Tn;Ai=1;var e={},t=dn(),r=gc(),n=kn(),o=Vi(),i=vc(),a=function(){};e.NODE_ENV!=="production"&&(a=function(l){var u="Warning: "+l;typeof console<"u"&&console.error(u);try{throw new Error(u)}catch{}});function s(){return null}return Tn=function(l,u){var d=typeof Symbol=="function"&&Symbol.iterator,c="@@iterator";function f(k){var I=k&&(d&&k[d]||k[c]);if(typeof I=="function")return I}var m="<<anonymous>>",h={array:x("array"),bigint:x("bigint"),bool:x("boolean"),func:x("function"),number:x("number"),object:x("object"),string:x("string"),symbol:x("symbol"),any:E(),arrayOf:S,element:b(),elementType:C(),instanceOf:P,node:M(),objectOf:O,oneOf:T,oneOfType:R,shape:H,exact:K};function _(k,I){return k===I?k!==0||1/k===1/I:k!==k&&I!==I}function y(k,I){this.message=k,this.data=I&&typeof I=="object"?I:{},this.stack=""}y.prototype=Error.prototype;function g(k){if(e.NODE_ENV!=="production")var I={},N=0;function F(W,L,z,A,Z,q,we){if(A=A||m,q=q||z,we!==n){if(u){var D=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw D.name="Invariant Violation",D}else if(e.NODE_ENV!=="production"&&typeof console<"u"){var Ve=A+":"+z;!I[Ve]&&N<3&&(a("You are manually calling a React.PropTypes validation function for the `"+q+"` prop on `"+A+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),I[Ve]=!0,N++)}}return L[z]==null?W?L[z]===null?new y("The "+Z+" `"+q+"` is marked as required "+("in `"+A+"`, but its value is `null`.")):new y("The "+Z+" `"+q+"` is marked as required in "+("`"+A+"`, but its value is `undefined`.")):null:k(L,z,A,Z,q)}var j=F.bind(null,!1);return j.isRequired=F.bind(null,!0),j}function x(k){function I(N,F,j,W,L,z){var A=N[F],Z=fe(A);if(Z!==k){var q=ge(A);return new y("Invalid "+W+" `"+L+"` of type "+("`"+q+"` supplied to `"+j+"`, expected ")+("`"+k+"`."),{expectedType:k})}return null}return g(I)}function E(){return g(s)}function S(k){function I(N,F,j,W,L){if(typeof k!="function")return new y("Property `"+L+"` of component `"+j+"` has invalid PropType notation inside arrayOf.");var z=N[F];if(!Array.isArray(z)){var A=fe(z);return new y("Invalid "+W+" `"+L+"` of type "+("`"+A+"` supplied to `"+j+"`, expected an array."))}for(var Z=0;Z<z.length;Z++){var q=k(z,Z,j,W,L+"["+Z+"]",n);if(q instanceof Error)return q}return null}return g(I)}function b(){function k(I,N,F,j,W){var L=I[N];if(!l(L)){var z=fe(L);return new y("Invalid "+j+" `"+W+"` of type "+("`"+z+"` supplied to `"+F+"`, expected a single ReactElement."))}return null}return g(k)}function C(){function k(I,N,F,j,W){var L=I[N];if(!t.isValidElementType(L)){var z=fe(L);return new y("Invalid "+j+" `"+W+"` of type "+("`"+z+"` supplied to `"+F+"`, expected a single ReactElement type."))}return null}return g(k)}function P(k){function I(N,F,j,W,L){if(!(N[F]instanceof k)){var z=k.name||m,A=Te(N[F]);return new y("Invalid "+W+" `"+L+"` of type "+("`"+A+"` supplied to `"+j+"`, expected ")+("instance of `"+z+"`."))}return null}return g(I)}function T(k){if(!Array.isArray(k))return e.NODE_ENV!=="production"&&(arguments.length>1?a("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):a("Invalid argument supplied to oneOf, expected an array.")),s;function I(N,F,j,W,L){for(var z=N[F],A=0;A<k.length;A++)if(_(z,k[A]))return null;var Z=JSON.stringify(k,function(we,D){var Ve=ge(D);return Ve==="symbol"?String(D):D});return new y("Invalid "+W+" `"+L+"` of value `"+String(z)+"` "+("supplied to `"+j+"`, expected one of "+Z+"."))}return g(I)}function O(k){function I(N,F,j,W,L){if(typeof k!="function")return new y("Property `"+L+"` of component `"+j+"` has invalid PropType notation inside objectOf.");var z=N[F],A=fe(z);if(A!=="object")return new y("Invalid "+W+" `"+L+"` of type "+("`"+A+"` supplied to `"+j+"`, expected an object."));for(var Z in z)if(o(z,Z)){var q=k(z,Z,j,W,L+"."+Z,n);if(q instanceof Error)return q}return null}return g(I)}function R(k){if(!Array.isArray(k))return e.NODE_ENV!=="production"&&a("Invalid argument supplied to oneOfType, expected an instance of array."),s;for(var I=0;I<k.length;I++){var N=k[I];if(typeof N!="function")return a("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Q(N)+" at index "+I+"."),s}function F(j,W,L,z,A){for(var Z=[],q=0;q<k.length;q++){var we=k[q],D=we(j,W,L,z,A,n);if(D==null)return null;D.data&&o(D.data,"expectedType")&&Z.push(D.data.expectedType)}var Ve=Z.length>0?", expected one of type ["+Z.join(", ")+"]":"";return new y("Invalid "+z+" `"+A+"` supplied to "+("`"+L+"`"+Ve+"."))}return g(F)}function M(){function k(I,N,F,j,W){return ue(I[N])?null:new y("Invalid "+j+" `"+W+"` supplied to "+("`"+F+"`, expected a ReactNode."))}return g(k)}function B(k,I,N,F,j){return new y((k||"React class")+": "+I+" type `"+N+"."+F+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+j+"`.")}function H(k){function I(N,F,j,W,L){var z=N[F],A=fe(z);if(A!=="object")return new y("Invalid "+W+" `"+L+"` of type `"+A+"` "+("supplied to `"+j+"`, expected `object`."));for(var Z in k){var q=k[Z];if(typeof q!="function")return B(j,W,L,Z,ge(q));var we=q(z,Z,j,W,L+"."+Z,n);if(we)return we}return null}return g(I)}function K(k){function I(N,F,j,W,L){var z=N[F],A=fe(z);if(A!=="object")return new y("Invalid "+W+" `"+L+"` of type `"+A+"` "+("supplied to `"+j+"`, expected `object`."));var Z=r({},N[F],k);for(var q in Z){var we=k[q];if(o(k,q)&&typeof we!="function")return B(j,W,L,q,ge(we));if(!we)return new y("Invalid "+W+" `"+L+"` key `"+q+"` supplied to `"+j+"`.\nBad object: "+JSON.stringify(N[F],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(k),null,"  "));var D=we(z,q,j,W,L+"."+q,n);if(D)return D}return null}return g(I)}function ue(k){switch(typeof k){case"number":case"string":case"undefined":return!0;case"boolean":return!k;case"object":if(Array.isArray(k))return k.every(ue);if(k===null||l(k))return!0;var I=f(k);if(I){var N=I.call(k),F;if(I!==k.entries){for(;!(F=N.next()).done;)if(!ue(F.value))return!1}else for(;!(F=N.next()).done;){var j=F.value;if(j&&!ue(j[1]))return!1}}else return!1;return!0;default:return!1}}function he(k,I){return k==="symbol"?!0:I?I["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&I instanceof Symbol:!1}function fe(k){var I=typeof k;return Array.isArray(k)?"array":k instanceof RegExp?"object":he(I,k)?"symbol":I}function ge(k){if(typeof k>"u"||k===null)return""+k;var I=fe(k);if(I==="object"){if(k instanceof Date)return"date";if(k instanceof RegExp)return"regexp"}return I}function Q(k){var I=ge(k);switch(I){case"array":case"object":return"an "+I;case"boolean":case"date":case"regexp":return"a "+I;default:return I}}function Te(k){return!k.constructor||!k.constructor.name?m:k.constructor.name}return h.checkPropTypes=i,h.resetWarningCache=i.resetWarningCache,h.PropTypes=h,h},Tn}var Rn,Li;function bc(){if(Li)return Rn;Li=1;var e=kn();function t(){}function r(){}return r.resetWarningCache=t,Rn=function(){function n(a,s,l,u,d,c){if(c!==e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}n.isRequired=n;function o(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:o,element:n,elementType:n,instanceOf:o,node:n,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:r,resetWarningCache:t};return i.PropTypes=i,i},Rn}var zi;function xc(){if(zi)return br.exports;zi=1;var e={};if(e.NODE_ENV!=="production"){var t=dn(),r=!0;br.exports=yc()(t.isElement,r)}else br.exports=bc()();return br.exports}var wc=xc();const v=As(wc);function Bi(e,t){let r={};return Object.entries(e).forEach(([n,o])=>{if(t!=null&&t.hasOwnProperty(n)){const i=t[n](o);i!=null&&(r={...r,...i});return}o===!0?r[`data-${n.toLowerCase()}`]="":o&&(r[`data-${n.toLowerCase()}`]=o.toString())}),r}function Fi(e,t){return typeof e=="function"?e(t):e}function $e(...e){if(e.length===0)return{};if(e.length===1)return ji(e[0],{});let t=ji(e[0],{});for(let r=1;r<e.length;r+=1){const n=e[r];n&&(Ui(n)?t=n(t):t=Cc(t,n))}return t??{}}function ji(e,t){return Ui(e)?e(t):e??{}}function Cc(e,t){return t?e?Object.entries(t).reduce((r,[n,o])=>(Sc(n,o)?r[n]=kc(e[n],o):n==="style"?r[n]=Pc(e.style,o):n==="className"?r[n]=Tc(e.className,o):r[n]=o,r),{...e}):t:e||{}}function Sc(e,t){const r=e.charCodeAt(2);return e[0]==="o"&&e[1]==="n"&&r>=65&&r<=90&&typeof t=="function"}function Ui(e){return typeof e=="function"}function kc(e,t){return r=>{if(Rc(r)){const o=r;Ec(o);const i=t(o);return o.baseUIHandlerPrevented||e==null||e(o),i}const n=t(r);return e==null||e(r),n}}function Ec(e){return e.preventBaseUIHandler=()=>{e.baseUIHandlerPrevented=!0},e}function Pc(e,t){if(t||e)return{...e,...t}}function Tc(e,t){return t?e?t+" "+e:t:e}function Rc(e){return e!=null&&typeof e=="object"&&"nativeEvent"in e}function Ic(e,t,r){return typeof e=="function"?e(t,r):ir(e,{...$e(t,e.props),ref:t.ref})}function Et(...e){const t=te(void 0),r=$(n=>{const o=e.map(i=>{if(i==null)return null;if(typeof i=="function"){const a=i,s=a(n);return typeof s=="function"?s:()=>{a(null)}}return i.current=n,()=>{i.current=null}});return()=>{o.forEach(i=>i==null?void 0:i())}},e);return G(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}const $c=parseInt(jo,10);function Wi(e){return $c>=e}function Mc(e,...t){let r;return typeof e!="function"?r=Wi(19)?e.props.ref:e.ref:r=null,Et(r,...t)}function Oc(e){return function(r){return e==="button"?Ce("button",{type:"button",...r}):e==="img"?Ce("img",{alt:"",...r}):Ce(e,{...r})}}const Hi={};function Dc(e,t,r={}){const{className:n,render:o}=t,{propGetter:i=g=>g,state:a=Hi,ref:s,props:l,customStyleHookMapping:u,styleHooks:d=!0}=r,c=o||(typeof e=="string"?Oc(e):e),f=Fi(n,a),m=G(()=>d?Bi(a,u):Hi,[a,u,d]),h=i({...m,...Array.isArray(l)?$e(...l):l});let _=[];s!==void 0&&(_=Array.isArray(s)?s:[s]);const y={...h,ref:Mc(c,h.ref,..._)};return f!==void 0&&(y.className=f),()=>Ic(c,y,a)}function Xe(e){const t=typeof e.render=="string"?e.render:void 0,r=typeof e.render=="string"?void 0:e.render;return{renderElement:Dc(t,{className:e.className,render:r},{...e,props:e.extraProps})}}let Gi=function(e){return e.disabled="data-disabled",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.filled="data-filled",e.focused="data-focused",e}({});const In={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:null,valueMissing:!1},Wt={valid(e){return e===null?null:e?{[Gi.valid]:""}:{[Gi.invalid]:""}}};var Vc={};const Ke=()=>{},$n=Me({invalid:void 0,controlId:void 0,setControlId:Ke,labelId:void 0,setLabelId:Ke,messageIds:[],setMessageIds:Ke,name:void 0,validityData:{state:In,errors:[],error:"",value:"",initialValue:null},setValidityData:Ke,disabled:void 0,touched:!1,setTouched:Ke,dirty:!1,setDirty:Ke,filled:!1,setFilled:Ke,focused:!1,setFocused:Ke,validate:()=>null,validationMode:"onBlur",validationDebounceTime:0,state:{disabled:!1,valid:null,touched:!1,dirty:!1,filled:!1,focused:!1},markedDirtyRef:{current:!1}});Vc.NODE_ENV!=="production"&&($n.displayName="FieldRootContext");function De(e=!0){const t=ae($n);if(t.setControlId===Ke&&!e)throw new Error("Base UI: FieldRootContext is missing. Field parts must be placed within <Field.Root>.");return t}var Nc={};const qi=Me({legendId:void 0,setLegendId:()=>{},disabled:void 0});Nc.NODE_ENV!=="production"&&(qi.displayName="FieldsetRootContext");function Ac(){return ae(qi)}const Ee=typeof window<"u"?dt:de;function ze(e){const t=te(e);return Ee(()=>{t.current=e}),$((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var Lc={};const Yi=Me({formRef:{current:{fields:new Map}},errors:{},onClearErrors:()=>{}});Lc.NODE_ENV!=="production"&&(Yi.displayName="FormContext");function Ht(){return ae(Yi)}var zc={};const Bc=Re(function(t,r){const{render:n,className:o,validate:i,validationDebounceTime:a=0,validationMode:s="onBlur",name:l,disabled:u=!1,invalid:d,...c}=t,{disabled:f}=Ac(),{errors:m}=Ht(),h=ze(i||(()=>null)),_=f||u,[y,g]=U(void 0),[x,E]=U(void 0),[S,b]=U([]),[C,P]=U(!1),[T,O]=U(!1),[R,M]=U(!1),[B,H]=U(!1),K=te(!1),ue=$(N=>{N&&(K.current=!0),O(N)},[]),he=!!(d||l&&{}.hasOwnProperty.call(m,l)),[fe,ge]=U({state:In,error:"",errors:[],value:null,initialValue:null}),Q=!he&&fe.state.valid,Te=G(()=>({disabled:_,touched:C,dirty:T,valid:Q,filled:R,focused:B}),[_,C,T,Q,R,B]),k=G(()=>({invalid:he,controlId:y,setControlId:g,labelId:x,setLabelId:E,messageIds:S,setMessageIds:b,name:l,validityData:fe,setValidityData:ge,disabled:_,touched:C,setTouched:P,dirty:T,setDirty:ue,filled:R,setFilled:M,focused:B,setFocused:H,validate:h,validationMode:s,validationDebounceTime:a,state:Te,markedDirtyRef:K}),[he,y,x,S,l,fe,_,C,T,ue,R,M,B,H,h,s,a,Te]),{renderElement:I}=Xe({render:n??"div",ref:r,className:o,state:Te,extraProps:c,customStyleHookMapping:Wt});return Ce($n.Provider,{value:k,children:I()})});zc.NODE_ENV!=="production"&&(Bc.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),disabled:v.bool,invalid:v.bool,name:v.string,render:v.oneOfType([v.element,v.func]),validate:v.func,validationDebounceTime:v.number,validationMode:v.oneOf(["onBlur","onChange"])});function Fc(){const{controlId:e,labelId:t}=De(),r=$((n={})=>$e({id:t,htmlFor:e,onMouseDown(o){var a;const i=window.getSelection();i&&!((a=i.anchorNode)!=null&&a.contains(o.currentTarget))&&i.empty(),o.preventDefault()}},n),[e,t]);return G(()=>({getLabelProps:r}),[r])}let Xi=0;function jc(e,t="mui"){const[r,n]=U(e),o=e||r;return de(()=>{r==null&&(Xi+=1,n(`${t}-${Xi}`))},[r,t]),o}const Ki={...on}.useId;function Uc(e,t){if(Ki!==void 0){const r=Ki();return e??`${t}-${r}`}return jc(e,t)}function pt(e){return Uc(e,"base-ui")}var Wc={};const Hc=Re(function(t,r){const{render:n,className:o,id:i,...a}=t,{setLabelId:s,state:l}=De(!1),u=pt(i);Ee(()=>(s(u),()=>{s(void 0)}),[u,s]);const{getLabelProps:d}=Fc(),{renderElement:c}=Xe({propGetter:d,render:n??"label",ref:r,className:o,state:l,extraProps:a,customStyleHookMapping:Wt});return c()});Wc.NODE_ENV!=="production"&&(Hc.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),id:v.string,render:v.oneOfType([v.element,v.func])});function Gc(e){const{id:t,rendered:r,formError:n}=e,{setMessageIds:o,validityData:i}=De(),a=pt(t);Ee(()=>{if(!(!r||!a))return o(l=>l.concat(a)),()=>{o(l=>l.filter(u=>u!==a))}},[r,a,o]);const s=$((l={})=>$e({id:a,children:n||(i.errors.length>1?ye("ul",{},i.errors.map(u=>ye("li",{key:u},u))):i.error)},l),[a,n,i]);return G(()=>({getErrorProps:s}),[s])}var qc={};const Yc=Re(function(t,r){const{render:n,id:o,className:i,match:a,forceShow:s,...l}=t,{validityData:u,state:d,name:c}=De(!1),{errors:f}=Ht(),m=c?f[c]:null;let h=!1;m||s?h=!0:a?h=!!u.state[a]:s==null&&(h=u.state.valid===!1);const{getErrorProps:_}=Gc({id:o,rendered:h,formError:m}),{renderElement:y}=Xe({propGetter:_,render:n??"div",ref:r,className:i,state:d,extraProps:l,customStyleHookMapping:Wt});return h?y():null});qc.NODE_ENV!=="production"&&(Yc.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),forceShow:v.bool,id:v.string,match:v.oneOf(["badInput","customError","patternMismatch","rangeOverflow","rangeUnderflow","stepMismatch","tooLong","tooShort","typeMismatch","valid","valueMissing"]),render:v.oneOfType([v.element,v.func])});function Xc(e){const{id:t}=e,{setMessageIds:r}=De(),n=pt(t);Ee(()=>{if(n)return r(i=>i.concat(n)),()=>{r(i=>i.filter(a=>a!==n))}},[n,r]);const o=$((i={})=>$e({id:n},i),[n]);return G(()=>({getDescriptionProps:o}),[o])}var Kc={};const Jc=Re(function(t,r){const{render:n,id:o,className:i,...a}=t,{state:s}=De(!1),{getDescriptionProps:l}=Xc({id:o}),{renderElement:u}=Xe({propGetter:l,render:n??"p",ref:r,className:i,state:s,extraProps:a,customStyleHookMapping:Wt});return u()});Kc.NODE_ENV!=="production"&&(Jc.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),id:v.string,render:v.oneOfType([v.element,v.func])});function Ji(e,t){return{...e,state:{...e.state,valid:!t&&e.state.valid}}}const Qc=Object.keys(In);function xr(){const{setValidityData:e,validate:t,messageIds:r,validityData:n,validationMode:o,validationDebounceTime:i,invalid:a,markedDirtyRef:s,controlId:l,state:u}=De(),{formRef:d}=Ht(),c=te(-1),f=te(null);de(()=>()=>{window.clearTimeout(c.current)},[]);const m=ze(async y=>{const g=f.current;if(!g)return;function x(O){return Qc.reduce((R,M)=>(R[M]=O.validity[M],!O.validity.customError&&!s.current&&(R[M]=M==="valid"),R),{})}window.clearTimeout(c.current);const E=t(y);let S=null;typeof E=="object"&&E!==null&&"then"in E?S=await E:S=E;let b="";S!==null&&(b=Array.isArray(S)?S.join(`
`):S),g.setCustomValidity(b);const C=x(g);let P=[];Array.isArray(S)?P=S:S?P=[S]:g.validationMessage&&(P=[g.validationMessage]);const T={value:y,state:C,error:Array.isArray(S)?S[0]:S??g.validationMessage,errors:P,initialValue:n.initialValue};if(l){const O=d.current.fields.get(l);O&&d.current.fields.set(l,{...O,...Ji(T,a)})}e(T)}),h=$((y={})=>$e({...r.length&&{"aria-describedby":r.join(" ")},...u.valid===!1&&{"aria-invalid":!0}},y),[r,u.valid]),_=$((y={})=>$e({onChange(g){if(g.nativeEvent.defaultPrevented||a||o!=="onChange")return;const x=g.currentTarget;if(x.value===""){m(x.value);return}window.clearTimeout(c.current),i?c.current=window.setTimeout(()=>{m(x.value)},i):m(x.value)}},h(y)),[h,a,o,i,m]);return G(()=>({getValidationProps:h,getInputValidationProps:_,inputRef:f,commitValidation:m}),[h,_,m])}function Zc(e){const t=te(e);return Ee(()=>{t.current=e}),t}function Qi(e){const{formRef:t}=Ht(),{invalid:r,markedDirtyRef:n,validityData:o,setValidityData:i}=De(),{value:a,id:s,controlRef:l,commitValidation:u}=e,d=Zc(e.getValue);Ee(()=>{var f;let c=a;c===void 0&&(c=(f=d.current)==null?void 0:f.call(d)),o.initialValue===null&&c!==o.initialValue&&i(m=>({...m,initialValue:c}))},[i,a,o.initialValue,d]),Ee(()=>{s&&t.current.fields.set(s,{controlRef:l,validityData:Ji(o,r),validate(){var f;let c=a;c===void 0&&(c=(f=d.current)==null?void 0:f.call(d)),n.current=!0,nn(()=>u(c))}})},[u,l,t,d,s,r,n,o,a])}var el={};function Zi({controlled:e,default:t,name:r,state:n="value"}){const{current:o}=te(e!==void 0),[i,a]=U(t),s=o?e:i;if(el.NODE_ENV!=="production"){de(()=>{o!==(e!==void 0)&&console.error([`Base UI: A component is changing the ${o?"":"un"}controlled ${n} state of ${r} to be ${o?"un":""}controlled.`,"Elements should not switch from uncontrolled to controlled (or vice versa).",`Decide between using a controlled or uncontrolled ${r} element for the lifetime of the component.`,"The nature of the state is determined during the first render. It's considered controlled if the value is not `undefined`.","More info: https://fb.me/react-controlled-components"].join(`
`))},[n,r,e]);const{current:u}=te(t);de(()=>{!o&&!Object.is(u,t)&&console.error([`Base UI: A component is changing the default ${n} state of an uncontrolled ${r} after being initialized. To suppress this warning opt to use a controlled ${r}.`].join(`
`))},[JSON.stringify(t)])}const l=$(u=>{o||a(u)},[]);return[s,l]}function tl(e){const{id:t,name:r,value:n,defaultValue:o,onValueChange:i,disabled:a}=e,{setControlId:s,labelId:l,setTouched:u,setDirty:d,validityData:c,setFocused:f,setFilled:m,validationMode:h}=De(),{errors:_,onClearErrors:y}=Ht(),{getValidationProps:g,getInputValidationProps:x,commitValidation:E,inputRef:S}=xr(),b=pt(t);Ee(()=>(s(b),()=>{s(void 0)}),[b,s]),Ee(()=>{var M;const R=n!=null;(M=S.current)!=null&&M.value||R&&n!==""?m(!0):R&&n===""&&m(!1)},[S,m,n]);const[C,P]=Zi({controlled:n,default:o,name:"FieldControl",state:"value"}),T=ze((R,M)=>{P(R),i==null||i(R,M)});Qi({id:b,commitValidation:E,value:C,getValue:()=>{var R;return(R=S.current)==null?void 0:R.value},controlRef:S});const O=$((R={})=>$e({id:b,disabled:a,name:r,ref:S,"aria-labelledby":l,value:C,onChange(M){if(C!=null&&T(M.currentTarget.value,M.nativeEvent),d(M.currentTarget.value!==c.initialValue),m(M.currentTarget.value!==""),r&&{}.hasOwnProperty.call(_,r)){const B={..._};delete B[r],y(B)}},onFocus(){f(!0)},onBlur(M){u(!0),f(!1),h==="onBlur"&&E(M.currentTarget.value)},onKeyDown(M){M.currentTarget.tagName==="INPUT"&&M.key==="Enter"&&(u(!0),E(M.currentTarget.value))}},g(x(R))),[g,x,b,a,r,S,l,C,d,c.initialValue,m,_,T,y,f,u,h,E]);return G(()=>({getControlProps:O}),[O])}var rl={};const ea=Re(function(t,r){const{render:n,className:o,id:i,name:a,value:s,disabled:l=!1,onValueChange:u,defaultValue:d,...c}=t,{state:f,name:m,disabled:h}=De(),_=h||l,y=m??a,g=G(()=>({...f,disabled:_}),[f,_]),{getControlProps:x}=tl({id:i,name:y,disabled:_,value:s,defaultValue:d,onValueChange:u}),{renderElement:E}=Xe({propGetter:x,render:n??"input",ref:r,className:o,state:g,extraProps:c,customStyleHookMapping:Wt});return E()});rl.NODE_ENV!=="production"&&(ea.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),defaultValue:v.oneOfType([v.arrayOf(v.string),v.number,v.string]),disabled:v.bool,id:v.string,name:v.string,onValueChange:v.func,render:v.oneOfType([v.element,v.func]),value:v.oneOfType([v.arrayOf(v.string),v.number,v.string])});var nl={};nl.NODE_ENV!=="production"&&v.func.isRequired;var ol={};const ta=Re(function(t,r){const{render:n,className:o,...i}=t;return Ce(ea,{ref:r,render:n,className:o,...i})});ol.NODE_ENV!=="production"&&(ta.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),render:v.oneOfType([v.element,v.func])});const il=Ft({"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}),wr={root:w({display:"flex",position:"relative"}),label:w({display:"block",marginBottom:"8px",color:"var(--primary-text-color)",fontSize:"14px",fontWeight:500}),input:w({"--input-text-color":"var(--primary-text-color)","--input-bg-color":"var(--secondary-background-color)","--input-border-color":"var(--divider-color)","--input-focus-border-color":"var(--secondary-text-color)","--input-disabled-bg-color":"var(--disabled-color)","--input-disabled-text-color":"var(--disabled-text-color)",width:"100%",padding:"8px",color:"var(--input-text-color)",backgroundColor:"var(--input-bg-color)",border:"none",boxShadow:"0 0 1px 1px var(--input-border-color)",borderRadius:"6px",fontSize:"14px","&:focus":{outline:"none",boxShadow:"0 0 1px 1px var(--input-focus-border-color)"},"&:disabled":{backgroundColor:"var(--input-disabled-bg-color)",color:"var(--input-disabled-text-color)",cursor:"not-allowed"}}),icon:w({position:"absolute",right:"16px",top:"50%",transform:"translateY(-50%)","& ha-icon":{pointerEvents:"none",animation:`${il} 1s linear infinite`}})},al=({value:e="",placeholder:t,onChange:r,disabled:n,type:o="text",label:i,name:a,loading:s=!1,className:l})=>{const u=d=>{r==null||r(d.target.value)};return V("div",{css:wr.root,className:l,children:[i&&p("label",{css:wr.label,children:i}),p(ta,{css:wr.input,value:e,placeholder:t,onChange:u,disabled:n,type:o,name:a}),s&&p(ot,{size:"x-small",icon:"mdi:loading",css:wr.icon})]})};function sl(e,t){const[r,n]=U(e);return de(()=>{const o=setTimeout(()=>{n(e)},t);return()=>{clearTimeout(o)}},[e,t]),r}const cl={root:w({width:"100%",aspectRatio:"1",borderRadius:"4px",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:"var(--mmpc-media-image-background)","--icon-primary-color":"var(--card-background-color)"})},ra=({imageUrl:e,className:t})=>p("div",{css:cl.root,style:{"--mmpc-media-image-background":e?`url(${e})`:"var(--primary-text-color)"},className:t,children:!e&&p(ot,{icon:"mdi:image-broken-variant",size:"small"})}),Cr={root:w({display:"flex",flexDirection:"column",alignItems:"center",cursor:"pointer",transition:"transform 0.2s",borderRadius:"8px",padding:"8px",background:"rgba(255, 255, 255, 0.05)","@media (prefers-color-scheme: light)":{background:"rgba(0, 0, 0, 0.05)"},"&:hover":{transform:"translateY(-4px)"}}),name:w({fontSize:"14px",fontWeight:500,textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",width:"100%",color:"var(--primary-text-color)"}),artist:w({fontSize:"12px",color:"var(--secondary-text-color)",textAlign:"center",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",width:"100%"}),mediaImage:w({marginBottom:8})},ll=({imageUrl:e,name:t,artist:r,onClick:n})=>V("div",{css:Cr.root,onClick:n,children:[p(ra,{css:Cr.mediaImage,imageUrl:e}),p("div",{css:Cr.name,children:t}),p("div",{css:Cr.artist,children:r})]}),na={root:w({display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",margin:"0 4px",padding:"0px var(--mmpc-search-padding, 0px)","&:first-child":{marginTop:-12}}),title:w({fontSize:"16px",fontWeight:500,color:"var(--primary-text-color)"})},ul=({children:e,onClick:t})=>V("div",{css:na.root,onClick:t,children:[p("h3",{css:na.title,children:e}),p(ot,{icon:"mdi:chevron-right",size:"small"})]}),Gt={root:w({display:"grid",gridTemplateColumns:"50px 1fr auto",alignItems:"center",gap:"12px",padding:"8px 12px",borderRadius:"8px",background:"rgba(255, 255, 255, 0.05)",cursor:"pointer","&:hover":{background:"rgba(255, 255, 255, 0.1)"},"@media (prefers-color-scheme: light)":{background:"rgba(0, 0, 0, 0.05)","&:hover":{background:"rgba(0, 0, 0, 0.01)"}}}),trackInfo:w({display:"flex",flexDirection:"column",overflow:"hidden"}),trackName:w({fontSize:"14px",fontWeight:500,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"var(--primary-text-color)"}),trackArtist:w({fontSize:"12px",color:"var(--secondary-text-color)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}),mediaImage:w({width:50,height:50})},dl=({imageUrl:e,title:t,artist:r,onClick:n})=>V("div",{css:Gt.root,onClick:n,children:[p(ra,{css:Gt.mediaImage,imageUrl:e}),V("div",{css:Gt.trackInfo,children:[p("div",{css:Gt.trackName,children:t}),p("div",{css:Gt.trackArtist,children:r})]})]}),Ne={root:w({display:"flex",flexDirection:"column",gap:"12px","--mmpc-search-padding":"var(--mmpc-search-padding, 0px)"}),rootSearchBarBottom:w({overflow:"hidden"}),searchBarContainer:w({display:"flex",flexDirection:"column",gap:12}),searchInput:w({padding:"1px var(--mmpc-search-padding, 0px)"}),filterContainer:w({display:"flex",flexDirection:"row",gap:"2px",justifyContent:"flex-start",overflowX:"auto",scrollbarWidth:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{display:"none"}}),chip:w({"&:first-child":{marginLeft:"var(--mmpc-chip-horizontal-margin, 0px)"},"&:last-child":{marginRight:"var(--mmpc-chip-horizontal-margin, 0px)"}}),verticalChipSeperator:w({height:"28px",alignSelf:"center",borderRight:"1px solid var(--divider-color)",marginRight:"6px"}),mediaGrid:w({display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gridGap:"16px",padding:"0px var(--mmpc-search-padding, 0px)"}),trackListContainer:w({display:"flex",flexDirection:"column",gap:"8px",padding:"0px var(--mmpc-search-padding, 0px)"}),mediaEmptyText:w({padding:"0px var(--mmpc-search-padding, 0px)"}),resultsContainerSearchBarBottom:w({overflowY:"auto"})},fl=(e,t)=>{const[r,n]=U(null),[o,i]=U(null),[a,s]=U(!1);de(()=>{le().callApi("GET","config/config_entries/entry").then(d=>{const c=d.find(f=>f.domain==="music_assistant");c&&n(c.entry_id)})},[]),de(()=>{if(e===""||!r)return;const u={type:"call_service",domain:"music_assistant",service:"search",service_data:{name:e,config_entry_id:r,media_type:t==="all"?void 0:t,limit:t==="all"?8:100},return_response:!0},d=le();s(!0),d.connection.sendMessagePromise(u).then(c=>{c.response&&(s(!1),i(c.response))})},[e,r,t]);const l=$(async(u,d,c)=>le().callService("music_assistant","play_media",{entity_id:d,media_type:u.media_type,media_id:u.uri,enqueue:c}),[]);return G(()=>({results:o,loading:a,playItem:l}),[o,a])},pl=[{type:"all",label:"All",icon:"mdi:all-inclusive"},{type:"artist",label:"Artists",icon:"mdi:account-music"},{type:"album",label:"Albums",icon:"mdi:album"},{type:"track",label:"Tracks",icon:"mdi:music-note"},{type:"playlist",label:"Playlists",icon:"mdi:playlist-music"},{type:"radio",label:"Radio",icon:"mdi:radio"},{type:"audiobook",label:"Audiobooks",icon:"mdi:book"},{type:"podcast",label:"Podcasts",icon:"mdi:podcast"}],ml={artists:"artist",albums:"album",tracks:"track",playlists:"playlist",radio:"radio",audiobooks:"audiobook",podcasts:"podcast"},hl={artist:"Artists",album:"Albums",track:"Tracks",playlist:"Playlists",radio:"Radio",audiobook:"Audiobooks",podcast:"Podcasts"},oa=({maEntityId:e,horizontalPadding:t,searchBarPosition:r="top"})=>{const[n,o]=U(""),[i,a]=U("play"),s=sl(n,300),[l,u]=U("all"),d=$(()=>{const g=["play","replace","next","replace_next","add"],E=(g.indexOf(i)+1)%g.length;a(g[E])},[i]),{results:c,loading:f,playItem:m}=fl(s,l),h=()=>V("div",{css:Ne.searchBarContainer,children:[p(al,{placeholder:"Search..",onChange:o,value:n,loading:f,css:Ne.searchInput}),V("div",{css:Ne.filterContainer,children:[p(Ut,{css:Ne.chip,style:{"--mmpc-chip-horizontal-margin":`${t}px`},icon:_l(i),onClick:d,children:gl(i)}),p("div",{css:Ne.verticalChipSeperator}),_()]})]}),_=()=>pl.map(g=>p(Ut,{css:Ne.chip,style:{"--mmpc-chip-horizontal-margin":`${t}px`,opacity:l===g.type?1:.6,fontWeight:l===g.type?"bold":"normal"},onClick:()=>u(g.type),icon:g.icon,children:g.label},g.type)),y=(g,x)=>!g||l!=="all"&&l!==x||g.length===0&&l==="all"?null:V(_e,{children:[l==="all"&&p(ul,{onClick:()=>u(x),children:hl[x]}),x==="track"?p("div",{css:Ne.trackListContainer,children:(l==="all"?g.slice(0,5):g).map(E=>{var S;return p(dl,{imageUrl:E.image||((S=E.album)==null?void 0:S.image),title:E.name,artist:E.artists.map(b=>b.name).join(", "),onClick:()=>m(E,e,i)},E.uri)})}):p("div",{css:Ne.mediaGrid,children:(l==="all"?g.slice(0,6):g).map(E=>{var S;return p(ll,{imageUrl:E.image,name:E.name,artist:(S=E.artists)==null?void 0:S.map(b=>b.name).join(", "),onClick:()=>m(E,e,i)},E.uri)})}),g.length===0&&p("p",{css:Ne.mediaEmptyText,children:f?"Searching...":"No results found."})]},x);return V("div",{css:[Ne.root,r==="bottom"&&Ne.rootSearchBarBottom],style:{"--mmpc-search-padding":`${t}px`},children:[r==="top"&&h(),c&&p("div",{css:r==="bottom"?Ne.resultsContainerSearchBarBottom:{},children:Object.entries(c).map(([g,x])=>y(x,ml[g]))}),r==="bottom"&&h()]})},_l=e=>{switch(e){case"play":return"mdi:play-circle";case"replace":return"mdi:playlist-remove";case"next":return"mdi:playlist-play";case"replace_next":return"mdi:playlist-edit";case"add":return"mdi:playlist-plus";default:return"mdi:play-circle"}},gl=e=>{switch(e){case"play":return"Play now";case"replace":return"Replace queue";case"next":return"Add next";case"replace_next":return"Replace next";case"add":return"Add to queue";default:return"Play"}},vl={root:w({display:"contents","--mmpc-chip-background":"var(--card-background-color)","--mmpc-chip-foreground":"var(--primary-text-color)"})},yl=()=>{const{config:e}=ae(xe);return p("div",{css:vl.root,children:p(wn,{config:{entity_id:e.entity_id,speaker_group:{entities:e.entities}},showGrouped:!0})})};function qt({actionConfig:e,rootElement:t,overrideCallback:r}){const n=G(()=>({onTap:e!=null&&e.tap_action?()=>gn(t,e,"tap",le()):void 0,onLongPress:e!=null&&e.hold_action?()=>gn(t,e,"hold",le()):void 0,onDoubleTap:e!=null&&e.double_tap_action?()=>gn(t,e,"double_tap",le()):void 0,...r??{}}),[e,r]),o=Wl(n);return G(()=>o,[o])}class bl{constructor(t,r){this.pixels=t,this.opts=r;const{sigBits:n}=r,o=(S,b,C)=>(S<<2*n)+(b<<n)+C;this.getColorIndex=o;const i=8-n,a=1<<3*n,s=new Uint32Array(a);let l,u,d,c,f,m,h,_,y,g;l=d=f=0,u=c=m=Number.MAX_VALUE;const x=t.length/4;let E=0;for(;E<x;){const S=E*4;if(E++,h=t[S+0],_=t[S+1],y=t[S+2],g=t[S+3],g===0)continue;h=h>>i,_=_>>i,y=y>>i;const b=o(h,_,y);s[b]===void 0&&(s[b]=0),s[b]+=1,h>l&&(l=h),h<u&&(u=h),_>d&&(d=_),_<c&&(c=_),y>f&&(f=y),y<m&&(m=y)}this._colorCount=s.reduce((S,b)=>b>0?S+1:S,0),this.hist=s,this.rmax=l,this.rmin=u,this.gmax=d,this.gmin=c,this.bmax=f,this.bmin=m}get colorCount(){return this._colorCount}}class xl{scaleDown(t){const r=this.getWidth(),n=this.getHeight();let o=1;if(t.maxDimension>0){const i=Math.max(r,n);i>t.maxDimension&&(o=t.maxDimension/i)}else o=1/t.quality;o<1&&this.resize(r*o,n*o,o)}}function wl(e,t){var r;if(t.length>0){const n=e.data,o=n.length/4;let i,a,s,l,u;for(let d=0;d<o;d++){i=d*4,a=n[i+0],s=n[i+1],l=n[i+2],u=n[i+3];for(let c=0;c<t.length;c++)if(!((r=t[c])!=null&&r.call(t,a,s,l,u))){n[i+3]=0;break}}}return e}function Cl(e){const t=new URL(e,location.href);return t.protocol===location.protocol&&t.host===location.host&&t.port===location.port}function Sl(e,t){const r=new URL(e),n=new URL(t);return r.protocol===n.protocol&&r.hostname===n.hostname&&r.port===n.port}class kl extends xl{_getCanvas(){if(!this._canvas)throw new Error("Canvas is not initialized");return this._canvas}_getContext(){if(!this._context)throw new Error("Context is not initialized");return this._context}_getWidth(){if(!this._width)throw new Error("Width is not initialized");return this._width}_getHeight(){if(!this._height)throw new Error("Height is not initialized");return this._height}_initCanvas(){const t=this.image;if(!t)throw new Error("Image is not initialized");const r=this._canvas=document.createElement("canvas"),n=r.getContext("2d");if(!n)throw new ReferenceError("Failed to create canvas context");this._context=n,r.className="@vibrant/canvas",r.style.display="none",this._width=r.width=t.width,this._height=r.height=t.height,n.drawImage(t,0,0),document.body.appendChild(r)}load(t){let r,n;if(typeof t=="string")r=document.createElement("img"),n=t,!Cl(n)&&!Sl(window.location.href,n)&&(r.crossOrigin="anonymous"),r.src=n;else if(t instanceof HTMLImageElement)r=t,n=t.src;else return Promise.reject(new Error("Cannot load buffer as an image in browser"));return this.image=r,new Promise((o,i)=>{const a=()=>{this._initCanvas(),o(this)};r.complete?a():(r.onload=a,r.onerror=s=>i(new Error(`Fail to load image: ${n}`)))})}clear(){this._getContext().clearRect(0,0,this._getWidth(),this._getHeight())}update(t){this._getContext().putImageData(t,0,0)}getWidth(){return this._getWidth()}getHeight(){return this._getHeight()}resize(t,r,n){if(!this.image)throw new Error("Image is not initialized");this._width=this._getCanvas().width=t,this._height=this._getCanvas().height=r,this._getContext().scale(n,n),this._getContext().drawImage(this.image,0,0)}getPixelCount(){return this._getWidth()*this._getHeight()}getImageData(){return this._getContext().getImageData(0,0,this._getWidth(),this._getHeight())}remove(){this._canvas&&this._canvas.parentNode&&this._canvas.parentNode.removeChild(this._canvas)}}function Yt(e,...t){return t.forEach(r=>{if(r){for(const n in r)if(r.hasOwnProperty(n)){const o=r[n];Array.isArray(o)?e[n]=o.slice(0):typeof o=="object"?(e[n]||(e[n]={}),Yt(e[n],o)):e[n]=o}}}),e}function El(e,t){const{colorCount:r,quantizer:n,generators:o,filters:i}=e,a={colorCount:r},s=typeof n=="string"?{name:n,options:{}}:n;return s.options=Yt({},a,s.options),Yt({},{quantizer:s,generators:o,filters:i},t)}class Pl{constructor(t,r={}){this._src=t,this._opts=Yt({},it.DefaultOpts,r)}maxColorCount(t){return this._opts.colorCount=t,this}maxDimension(t){return this._opts.maxDimension=t,this}addFilter(t){return this._opts.filters?this._opts.filters.push(t):this._opts.filters=[t],this}removeFilter(t){if(this._opts.filters){const r=this._opts.filters.indexOf(t);r>0&&this._opts.filters.splice(r)}return this}clearFilters(){return this._opts.filters=[],this}quality(t){return this._opts.quality=t,this}useImageClass(t){return this._opts.ImageClass=t,this}useGenerator(t,r){return this._opts.generators||(this._opts.generators=[]),this._opts.generators.push(r?{name:t,options:r}:t),this}useQuantizer(t,r){return this._opts.quantizer=r?{name:t,options:r}:t,this}build(){return new it(this._src,this._opts)}getPalette(){return this.build().getPalette()}}class Mn{constructor(t){this.pipeline=t,this._map={}}names(){return Object.keys(this._map)}has(t){return!!this._map[t]}get(t){return this._map[t]}register(t,r){return this._map[t]=r,this.pipeline}}class Tl{constructor(){this.filter=new Mn(this),this.quantizer=new Mn(this),this.generator=new Mn(this)}_buildProcessTasks({filters:t,quantizer:r,generators:n}){return n.length===1&&n[0]==="*"&&(n=this.generator.names()),{filters:t.map(i=>o(this.filter,i)),quantizer:o(this.quantizer,r),generators:n.map(i=>o(this.generator,i))};function o(i,a){let s,l;return typeof a=="string"?s=a:(s=a.name,l=a.options),{name:s,fn:i.get(s),options:l}}}async process(t,r){const{filters:n,quantizer:o,generators:i}=this._buildProcessTasks(r),a=await this._filterColors(n,t),s=await this._generateColors(o,a),l=await this._generatePalettes(i,s);return{colors:s,palettes:l}}_filterColors(t,r){return Promise.resolve(wl(r,t.map(({fn:n})=>n)))}_generateColors(t,r){return Promise.resolve(t.fn(r.data,t.options))}async _generatePalettes(t,r){const n=await Promise.all(t.map(({fn:o,options:i})=>Promise.resolve(o(r,i))));return Promise.resolve(n.reduce((o,i,a)=>(o[t[a].name]=i,o),{}))}}function Rl(e,t,r){return"#"+((1<<24)+(e<<16)+(t<<8)+r).toString(16).slice(1,7)}function Il(e,t,r){e/=255,t/=255,r/=255;const n=Math.max(e,t,r),o=Math.min(e,t,r);let i=0,a=0;const s=(n+o)/2;if(n!==o){const l=n-o;switch(a=s>.5?l/(2-n-o):l/(n+o),n){case e:i=(t-r)/l+(t<r?6:0);break;case t:i=(r-e)/l+2;break;case r:i=(e-t)/l+4;break}i/=6}return[i,a,s]}function Je(e,t,r){let n,o,i;function a(s,l,u){return u<0&&(u+=1),u>1&&(u-=1),u<1/6?s+(l-s)*6*u:u<1/2?l:u<2/3?s+(l-s)*(2/3-u)*6:s}if(t===0)n=o=i=r;else{const s=r<.5?r*(1+t):r+t-r*t,l=2*r-s;n=a(l,s,e+1/3),o=a(l,s,e),i=a(l,s,e-1/3)}return[n*255,o*255,i*255]}class Ae{static applyFilters(t,r){return r.length>0?t.filter(({r:n,g:o,b:i})=>{var a;for(let s=0;s<r.length;s++)if(!((a=r[s])!=null&&a.call(r,n,o,i,255)))return!1;return!0}):t}static clone(t){return new Ae(t._rgb,t._population)}get r(){return this._rgb[0]}get g(){return this._rgb[1]}get b(){return this._rgb[2]}get rgb(){return this._rgb}get hsl(){if(!this._hsl){const[t,r,n]=this._rgb;this._hsl=Il(t,r,n)}return this._hsl}get hex(){if(!this._hex){const[t,r,n]=this._rgb;this._hex=Rl(t,r,n)}return this._hex}get population(){return this._population}toJSON(){return{rgb:this.rgb,population:this.population}}getYiq(){if(!this._yiq){const t=this._rgb;this._yiq=(t[0]*299+t[1]*587+t[2]*114)/1e3}return this._yiq}get titleTextColor(){return this._titleTextColor||(this._titleTextColor=this.getYiq()<200?"#fff":"#000"),this._titleTextColor}get bodyTextColor(){return this._bodyTextColor||(this._bodyTextColor=this.getYiq()<150?"#fff":"#000"),this._bodyTextColor}constructor(t,r){this._rgb=t,this._population=r}}const ia=class qn{constructor(t,r){this._src=t,this.opts=Yt({},qn.DefaultOpts,r)}static use(t){this._pipeline=t}static from(t){return new Pl(t)}get result(){return this._result}_process(t,r){t.scaleDown(this.opts);const n=El(this.opts,r);return qn._pipeline.process(t.getImageData(),n)}async getPalette(){const t=new this.opts.ImageClass;try{const r=await t.load(this._src),n=await this._process(r,{generators:["default"]});this._result=n;const o=n.palettes.default;if(!o)throw new Error("Something went wrong and a palette was not found, please file a bug against our GitHub repo: https://github.com/vibrant-Colors/node-vibrant/");return t.remove(),o}catch(r){return t.remove(),Promise.reject(r)}}async getPalettes(){const t=new this.opts.ImageClass;try{const r=await t.load(this._src),n=await this._process(r,{generators:["*"]});this._result=n;const o=n.palettes;return t.remove(),o}catch(r){return t.remove(),Promise.reject(r)}}};ia.DefaultOpts={colorCount:64,quality:5,filters:[]};let it=ia;it.DefaultOpts.quantizer="mmcq",it.DefaultOpts.generators=["default"],it.DefaultOpts.filters=["default"],it.DefaultOpts.ImageClass=kl;const On=5,Dn=8-On;class Sr{constructor(t,r,n,o,i,a,s){this.histogram=s,this._volume=-1,this._avg=null,this._count=-1,this.dimension={r1:t,r2:r,g1:n,g2:o,b1:i,b2:a}}static build(t){const r=new bl(t,{sigBits:On}),{rmin:n,rmax:o,gmin:i,gmax:a,bmin:s,bmax:l}=r;return new Sr(n,o,i,a,s,l,r)}invalidate(){this._volume=this._count=-1,this._avg=null}volume(){if(this._volume<0){const{r1:t,r2:r,g1:n,g2:o,b1:i,b2:a}=this.dimension;this._volume=(r-t+1)*(o-n+1)*(a-i+1)}return this._volume}count(){if(this._count<0){const{hist:t,getColorIndex:r}=this.histogram,{r1:n,r2:o,g1:i,g2:a,b1:s,b2:l}=this.dimension;let u=0;for(let d=n;d<=o;d++)for(let c=i;c<=a;c++)for(let f=s;f<=l;f++){const m=r(d,c,f);t[m]&&(u+=t[m])}this._count=u}return this._count}clone(){const{histogram:t}=this,{r1:r,r2:n,g1:o,g2:i,b1:a,b2:s}=this.dimension;return new Sr(r,n,o,i,a,s,t)}avg(){if(!this._avg){const{hist:t,getColorIndex:r}=this.histogram,{r1:n,r2:o,g1:i,g2:a,b1:s,b2:l}=this.dimension;let u=0;const d=1<<8-On;let c,f,m;c=f=m=0;for(let h=n;h<=o;h++)for(let _=i;_<=a;_++)for(let y=s;y<=l;y++){const g=r(h,_,y),x=t[g];x&&(u+=x,c+=x*(h+.5)*d,f+=x*(_+.5)*d,m+=x*(y+.5)*d)}u?this._avg=[~~(c/u),~~(f/u),~~(m/u)]:this._avg=[~~(d*(n+o+1)/2),~~(d*(i+a+1)/2),~~(d*(s+l+1)/2)]}return this._avg}contains(t){let[r,n,o]=t;const{r1:i,r2:a,g1:s,g2:l,b1:u,b2:d}=this.dimension;return r>>=Dn,n>>=Dn,o>>=Dn,r>=i&&r<=a&&n>=s&&n<=l&&o>=u&&o<=d}split(){const{hist:t,getColorIndex:r}=this.histogram,{r1:n,r2:o,g1:i,g2:a,b1:s,b2:l}=this.dimension,u=this.count();if(!u)return[];if(u===1)return[this.clone()];const d=o-n+1,c=a-i+1,f=l-s+1,m=Math.max(d,c,f);let h=null,_,y;_=y=0;let g=null;if(m===d){g="r",h=new Uint32Array(o+1);for(let C=n;C<=o;C++){_=0;for(let P=i;P<=a;P++)for(let T=s;T<=l;T++){const O=r(C,P,T);t[O]&&(_+=t[O])}y+=_,h[C]=y}}else if(m===c){g="g",h=new Uint32Array(a+1);for(let C=i;C<=a;C++){_=0;for(let P=n;P<=o;P++)for(let T=s;T<=l;T++){const O=r(P,C,T);t[O]&&(_+=t[O])}y+=_,h[C]=y}}else{g="b",h=new Uint32Array(l+1);for(let C=s;C<=l;C++){_=0;for(let P=n;P<=o;P++)for(let T=i;T<=a;T++){const O=r(P,T,C);t[O]&&(_+=t[O])}y+=_,h[C]=y}}let x=-1;const E=new Uint32Array(h.length);for(let C=0;C<h.length;C++){const P=h[C];P&&(x<0&&P>y/2&&(x=C),E[C]=y-P)}const S=this;function b(C){const P=C+"1",T=C+"2",O=S.dimension[P];let R=S.dimension[T];const M=S.clone(),B=S.clone(),H=x-O,K=R-x;for(H<=K?(R=Math.min(R-1,~~(x+K/2)),R=Math.max(0,R)):(R=Math.max(O,~~(x-1-H/2)),R=Math.min(S.dimension[T],R));!h[R];)R++;let ue=E[R];for(;!ue&&h[R-1];)ue=E[--R];return M.dimension[T]=R,B.dimension[P]=R+1,[M,B]}return b(g)}}class aa{_sort(){this._sorted||(this.contents.sort(this._comparator),this._sorted=!0)}constructor(t){this._comparator=t,this.contents=[],this._sorted=!1}push(t){this.contents.push(t),this._sorted=!1}peek(t){return this._sort(),t=typeof t=="number"?t:this.contents.length-1,this.contents[t]}pop(){return this._sort(),this.contents.pop()}size(){return this.contents.length}map(t){return this._sort(),this.contents.map(t)}}const $l=.75;function sa(e,t){let r=e.size();for(;e.size()<t;){const n=e.pop();if(n&&n.count()>0){const[o,i]=n.split();if(!o||(e.push(o),i&&i.count()>0&&e.push(i),e.size()===r))break;r=e.size()}else break}}const Ml=(e,t)=>{if(e.length===0||t.colorCount<2||t.colorCount>256)throw new Error("Wrong MMCQ parameters");const r=Sr.build(e);r.histogram.colorCount;const n=new aa((i,a)=>i.count()-a.count());n.push(r),sa(n,$l*t.colorCount);const o=new aa((i,a)=>i.count()*i.volume()-a.count()*a.volume());return o.contents=n.contents,sa(o,t.colorCount-o.size()),Ol(o)};function Ol(e){const t=[];for(;e.size();){const r=e.pop(),n=r.avg();t.push(new Ae(n,r.count()))}return t}const Dl={targetDarkLuma:.26,maxDarkLuma:.45,minLightLuma:.55,targetLightLuma:.74,minNormalLuma:.3,targetNormalLuma:.5,maxNormalLuma:.7,targetMutesSaturation:.3,maxMutesSaturation:.4,targetVibrantSaturation:1,minVibrantSaturation:.35,weightSaturation:3,weightLuma:6.5,weightPopulation:.5};function Vl(e){let t=0;return e.forEach(r=>{t=Math.max(t,r.population)}),t}function Nl(e,t){return e.Vibrant===t||e.DarkVibrant===t||e.LightVibrant===t||e.Muted===t||e.DarkMuted===t||e.LightMuted===t}function Al(e,t,r,n,o,i,a){function s(...u){let d=0,c=0;for(let f=0;f<u.length;f+=2){const m=u[f],h=u[f+1];!m||!h||(d+=m*h,c+=h)}return d/c}function l(u,d){return 1-Math.abs(u-d)}return s(l(e,t),a.weightSaturation,l(r,n),a.weightLuma,o/i,a.weightPopulation)}function Pt(e,t,r,n,o,i,a,s,l,u){let d=null,c=0;return t.forEach(f=>{const[,m,h]=f.hsl;if(m>=s&&m<=l&&h>=o&&h<=i&&!Nl(e,f)){const _=Al(m,a,h,n,f.population,r,u);(d===null||_>c)&&(d=f,c=_)}}),d}function Ll(e,t,r){const n={Vibrant:null,DarkVibrant:null,LightVibrant:null,Muted:null,DarkMuted:null,LightMuted:null};return n.Vibrant=Pt(n,e,t,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.LightVibrant=Pt(n,e,t,r.targetLightLuma,r.minLightLuma,1,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.DarkVibrant=Pt(n,e,t,r.targetDarkLuma,0,r.maxDarkLuma,r.targetVibrantSaturation,r.minVibrantSaturation,1,r),n.Muted=Pt(n,e,t,r.targetNormalLuma,r.minNormalLuma,r.maxNormalLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n.LightMuted=Pt(n,e,t,r.targetLightLuma,r.minLightLuma,1,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n.DarkMuted=Pt(n,e,t,r.targetDarkLuma,0,r.maxDarkLuma,r.targetMutesSaturation,0,r.maxMutesSaturation,r),n}function zl(e,t,r){if(!e.Vibrant&&!e.DarkVibrant&&!e.LightVibrant){if(!e.DarkVibrant&&e.DarkMuted){let[n,o,i]=e.DarkMuted.hsl;i=r.targetDarkLuma,e.DarkVibrant=new Ae(Je(n,o,i),0)}if(!e.LightVibrant&&e.LightMuted){let[n,o,i]=e.LightMuted.hsl;i=r.targetDarkLuma,e.DarkVibrant=new Ae(Je(n,o,i),0)}}if(!e.Vibrant&&e.DarkVibrant){let[n,o,i]=e.DarkVibrant.hsl;i=r.targetNormalLuma,e.Vibrant=new Ae(Je(n,o,i),0)}else if(!e.Vibrant&&e.LightVibrant){let[n,o,i]=e.LightVibrant.hsl;i=r.targetNormalLuma,e.Vibrant=new Ae(Je(n,o,i),0)}if(!e.DarkVibrant&&e.Vibrant){let[n,o,i]=e.Vibrant.hsl;i=r.targetDarkLuma,e.DarkVibrant=new Ae(Je(n,o,i),0)}if(!e.LightVibrant&&e.Vibrant){let[n,o,i]=e.Vibrant.hsl;i=r.targetLightLuma,e.LightVibrant=new Ae(Je(n,o,i),0)}if(!e.Muted&&e.Vibrant){let[n,o,i]=e.Vibrant.hsl;i=r.targetMutesSaturation,e.Muted=new Ae(Je(n,o,i),0)}if(!e.DarkMuted&&e.DarkVibrant){let[n,o,i]=e.DarkVibrant.hsl;i=r.targetMutesSaturation,e.DarkMuted=new Ae(Je(n,o,i),0)}if(!e.LightMuted&&e.LightVibrant){let[n,o,i]=e.LightVibrant.hsl;i=r.targetMutesSaturation,e.LightMuted=new Ae(Je(n,o,i),0)}}const Bl=(e,t)=>{t=Object.assign({},Dl,t);const r=Vl(e),n=Ll(e,r,t);return zl(n,r,t),n},Fl=new Tl().filter.register("default",(e,t,r,n)=>n>=125&&!(e>250&&t>250&&r>250)).quantizer.register("mmcq",Ml).generator.register("default",Bl);it.use(Fl);const Vn=()=>window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches;function ca(){const{attributes:{entity_picture:e}}=Pe(),[t,r]=U(null),[n,o]=U(Vn()),i=$(()=>{e&&it.from(e).getPalette().then(r).catch(l=>{console.error("Error getting color with Vibrant:",l)})},[e]);de(()=>{r(null),e&&i()},[e]),de(()=>{const l=window.matchMedia("(prefers-color-scheme: dark)"),u=()=>o(Vn());if(o(Vn()),l.addEventListener)return l.addEventListener("change",u),()=>l.removeEventListener("change",u)},[]);const a=G(()=>{if(n||!t)return null;const l=t.Vibrant??t.Muted;if(!l)return null;const u={...kr(l.hsl),l:50},d=at(u),c={...u,s:4.35,l:95.49},f={...at(c),l:15.29},m={...c,l:c.l*.98},h=at(m),_={...c,l:c.l*1.1},y=at(_);return{artVars:{"--art-color":`${J(kr(l.hsl))}`,"--art-on-art-color":`${l.titleTextColor}`,"--art-primary-color":`${J(u)}`,"--art-on-primary-color":`${J(d)}`,"--art-surface-color":`${J(c)}`,"--art-on-surface-color":`${J(f)}`,"--art-surface-higher-color":`${J(m)}`,"--art-on-surface-higher-color":`${J(h)}`,"--art-surface-lower-color":`${J(_)}`,"--art-on-surface-lower-color":`${J(y)}`},haVars:{"--primary-color":`${J(u)}`,"--ha-card-background":`${J(c)}`,"--card-background-color":`${J(m)}`,"--primary-text-color":`${J(f)}`,"--secondary-text-color":`${J({...f,l:f.l*1.1})}`,"--icon-primary-color":`${J(f)}`,"--divider-color":`${J({...c,l:88})}`,"--clear-background-color":`${J({...c,l:100})}`,"--secondary-background-color":`${J({...f,l:95})}`}}},[t,n]),s=G(()=>{if(!n||!t)return null;const l=t.Vibrant??t.Muted;if(!l)return null;const u={...kr(l.hsl),l:50},d=at(u),c={...u,s:2.91,l:20.2},f={...at(c),l:86.47},m={...c,l:c.l*1.02},h=at(m),_={...c,l:c.l*.98},y=at(_);return{artVars:{"--art-color":`${J(kr(l.hsl))}`,"--art-on-art-color":`${l.titleTextColor}`,"--art-primary-color":`${J(u)}`,"--art-on-primary-color":`${J(d)}`,"--art-surface-color":`${J(c)}`,"--art-on-surface-color":`${J(f)}`,"--art-surface-higher-color":`${J(m)}`,"--art-on-surface-higher-color":`${J(h)}`,"--art-surface-lower-color":`${J(_)}`,"--art-on-surface-lower-color":`${J(y)}`},haVars:{"--primary-color":`${J(u)}`,"--ha-card-background":`${J(c)}`,"--card-background-color":`${J(m)}`,"--primary-text-color":`${J(f)}`,"--secondary-text-color":`${J({...f,l:f.l*.9})}`,"--icon-primary-color":`${J(f)}`,"--divider-color":`${J({...c,l:25})}`,"--clear-background-color":`${J({...c,l:0})}`,"--secondary-background-color":`${J({...f,l:19})}`}}},[t,n]);return G(()=>({artVars:n?s==null?void 0:s.artVars:a==null?void 0:a.artVars,haVars:n?s==null?void 0:s.haVars:a==null?void 0:a.haVars}),[s,a])}const kr=e=>{const t=Math.round(e[0]*360),r=Math.round(e[1]*100),n=Math.round(e[2]*100);return{h:t,s:r,l:n}},at=({h:e,s:t,l:r})=>({h:(e+180)%360,s:t,l:r}),J=({h:e,s:t,l:r,a:n})=>`hsla(${e}deg, ${t}%, ${r}%, ${n||1})`,jl="ontouchstart"in window,Ul={longPressIndicator:w({position:"fixed",width:"48px",height:"48px",borderRadius:"50%",backgroundColor:"var(--primary-color, rgba(7, 114, 244))",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",zIndex:9,animation:"pulse 1s infinite",transform:"translate(-50%, -50%)","@keyframes pulse":{"0%":{transform:"translate(-50%, -50%) scale(0.95)",opacity:.6},"50%":{transform:"translate(-50%, -50%) scale(1)",opacity:.8},"100%":{transform:"translate(-50%, -50%) scale(0.95)",opacity:.6}}})};function Wl({onTap:e,onLongPress:t,onDoubleTap:r}){const n=te(null),o=te(0),i=te(null),a=te(null),[s,l]=U(!1),[u,d]=U(!1),[c,f]=U({x:0,y:0}),m=$(()=>{i.current&&clearTimeout(i.current),a.current&&clearTimeout(a.current),d(!1),n.current=null,o.current=0},[]),h=()=>u?p("div",{css:Ul.longPressIndicator,style:{left:`${c.x}px`,top:`${c.y}px`}}):null,_=$(()=>{const T=Date.now();return!!(n.current&&T-n.current>=500)},[]),y=$((T,O)=>{f({x:T,y:O})},[]),g=$((T,O)=>{n.current=Date.now(),y(T,O),a.current=setTimeout(()=>{d(!0)},500)},[y]),x=$((T,O)=>{u&&y(T,O)},[u,y]),E=$(()=>{i.current&&clearTimeout(i.current),a.current&&(clearTimeout(a.current),d(!1)),o.current+=1,i.current=setTimeout(async()=>{l(!0);try{o.current>1?await(r==null?void 0:r()):_()?await(t==null?void 0:t()):await(e==null?void 0:e())}catch(T){console.error("Error in button callback:",T)}l(!1),n.current=null,o.current=0},250)},[_,r,t,e]),S=$(T=>{g(T.clientX,T.clientY)},[g]),b=$(T=>{x(T.clientX,T.clientY)},[x]),C=$(T=>{if(T.touches.length>0){const O=T.touches[0];g(O.clientX,O.clientY)}},[g]),P=$(T=>{if(T.touches.length>0){const O=T.touches[0];x(O.clientX,O.clientY)}},[x]);return G(()=>({...jl?{onTouchStart:C,onTouchMove:P,onTouchEnd:E,onTouchCancel:m,loading:s}:{onMouseDown:S,onMouseMove:b,onMouseUp:E,onMouseOut:m,loading:s},renderLongPressIndicator:h}),[S,b,E,m,C,P,h])}function Nn(){const{attributes:{shuffle:e,repeat:t,source:r,supported_features:n},state:o}=Pe(),i=o==="off",a=!i&&(n|16)===n,s=!i&&(n|32)===n,l=!i&&e!==void 0&&!["optical","aux"].includes(r==null?void 0:r.toLowerCase()),u=!i&&t!==void 0&&!["optical","aux"].includes(r==null?void 0:r.toLowerCase()),d=!i&&((n&4096)===4096||(n&16384)===16384);return G(()=>({supportPreviousTrack:a,supportNextTrack:s,supportsShuffle:l,supportsRepeat:u,supportsTogglePlayPause:d}),[a,s,l,u,d])}const la={root:w({display:"flex",flexDirection:"row",justifyContent:"flex-start",gap:"2px",overflowX:"auto",scrollbarWidth:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{display:"none"}}),chip:w({"&:first-child":{marginLeft:"16px"},"&:last-child":{marginRight:"16px"}})},Hl=()=>{const{config:e}=ae(xe),{custom_buttons:t}=e;return p("div",{css:la.root,children:t.map((r,n)=>p(Gl,{button:r},n))})},Gl=({button:e})=>{const{rootElement:t,config:r}=ae(xe),{icon:n,name:o,...i}=e,a=qt({rootElement:t,actionConfig:{...i,entity:r.entity_id}});return V(Ut,{css:la.chip,icon:n,...a,children:[!!o&&p("span",{children:o}),a.renderLongPressIndicator()]})},ql={root:w({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-around",width:"100%",paddingLeft:"var(--mmpc-extra-horizontal-padding, 0px)",paddingRight:"var(--mmpc-extra-horizontal-padding, 0px)"})},Yl=()=>{const{config:e}=ae(xe),{attributes:{shuffle:t,repeat:r},state:n}=Pe(),o=n==="playing",{supportPreviousTrack:i,supportNextTrack:a,supportsShuffle:s,supportsRepeat:l,supportsTogglePlayPause:u}=Nn(),d=$(()=>{le().callService("media_player","media_play_pause",{entity_id:e.entity_id})},[]),c=$(()=>{le().callService("media_player","media_next_track",{entity_id:e.entity_id})},[]),f=$(()=>{le().callService("media_player","media_previous_track",{entity_id:e.entity_id})},[]),m=$(()=>{le().callService("media_player","shuffle_set",{entity_id:e.entity_id,shuffle:!t})},[t]),h=$(()=>{const _=r==="off"?"one":r==="one"?"all":"off";le().callService("media_player","repeat_set",{entity_id:e.entity_id,repeat:_})},[r]);return V("div",{css:ql.root,children:[s&&p(ee,{size:"small",onClick:m,icon:t?"mdi:shuffle-variant":"mdi:shuffle-disabled"}),i&&p(ee,{size:"large",onClick:f,icon:"mdi:skip-previous"}),u&&p(ee,{size:"x-large",onClick:d,icon:o?"mdi:pause-circle":"mdi:play-circle"}),a&&p(ee,{size:"large",onClick:c,icon:"mdi:skip-next"}),l&&p(ee,{size:"small",onClick:h,icon:r==="one"?"mdi:repeat-once":r==="all"?"mdi:repeat":"mdi:repeat-off"})]})},ua={root:w({display:"flex",alignItems:"center",flex:1,maxHeight:"36px",marginTop:"auto",gap:"8px"}),buttonMuted:w({opacity:.8})},Xl=()=>{var s,l;const e=Pe(),t=e.entity_id,r=((s=e.attributes)==null?void 0:s.volume_level)??0,n=((l=e.attributes)==null?void 0:l.is_volume_muted)??!1,o=$(u=>{le().callService("media_player","volume_set",{entity_id:t,volume_level:u})},[]),i=$(()=>{le().callService("media_player","volume_mute",{entity_id:t,is_volume_muted:!n})},[n]),a=G(()=>jt(r,n),[r,n]);return V("div",{css:ua.root,children:[p(ee,{css:n?ua.buttonMuted:{},size:"small",onClick:i,icon:a}),p(Wn,{min:0,max:1,step:.01,value:r,sliderSize:"large",onChange:o})]})},Kl=({onClick:e})=>{var i,a;const t=Pe(),r=((i=t.attributes)==null?void 0:i.volume_level)??0,n=((a=t.attributes)==null?void 0:a.is_volume_muted)??!1,o=jt(r,n);return p(ee,{size:"small",onClick:e,icon:o})},Er={root:w({display:"flex",flexDirection:"column",gap:"18px"}),speakerList:w({display:"flex",flexDirection:"column",gap:"8px",marginLeft:"16px",marginRight:"16px"}),syncContainer:w({display:"flex",flexDirection:"row",alignItems:"center",marginLeft:"auto",gap:"4px",opacity:.8,position:"absolute",right:"56px",top:"12px"}),syncText:w({fontSize:"12px"})},Jl=()=>{var l,u;const e=kt(),{config:t}=ae(xe),{entity_id:r,speaker_group:n}=t,[o,i]=U(!0),a=(n==null?void 0:n.entity_id)||r,s=e.states[a];return V("div",{css:Er.root,children:[((u=(l=s==null?void 0:s.attributes)==null?void 0:l.group_members)==null?void 0:u.length)>1&&V("div",{children:[V("div",{css:Er.syncContainer,children:[p("span",{css:Er.syncText,onClick:()=>i(!o),children:"Link Volume"}),p(ee,{icon:o?"mdi:check-circle":"mdi:circle-outline",size:"x-small",onClick:()=>i(!o)})]}),p("div",{css:Er.speakerList,children:p(Ii,{config:{entity_id:r,speaker_group:n},syncMainSpeaker:o})})]}),p(wn,{config:{entity_id:r,speaker_group:n},showGrouped:!1,layout:{horizontalMargin:16}})]})},Ql=Ft`
  from {
    transform: translateY(30px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
`,Pr={root:w({backgroundColor:"var(--mmpc-surface-higher)",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderRadius:"12px",padding:"12px",width:"100%",position:"relative",boxSizing:"border-box",boxShadow:"0 15px 100px var(--clear-background-color)"}),modalRoot:w({position:"absolute",bottom:"calc(100% + 12px)",left:0,width:"100%",backgroundColor:"var(--mmpc-surface-higher)",borderRadius:"12px",boxSizing:"border-box",animation:`${Ql} 0.3s ease forwards`,boxShadow:"0 0px 80px var(--clear-background-color)"}),modalHeader:w({display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"8px 16px",color:"var(--primary-text-color, #fff)",borderBottom:"0.5px solid var(--divider-color, rgba(0, 0, 0, 0.12))","> h4":{margin:0}}),modalContent:w({display:"flex",flexDirection:"column",gap:"12px",maxHeight:"400px",overflowY:"auto",padding:"var(--mmpc-modal-padding, 16px)"})},Zl=()=>{const{config:e}=ae(xe),{custom_buttons:t,speaker_group:r,ma_entity_id:n}=e,[o,i]=U(),a=$(s=>{i(o===s?void 0:s)},[o]);return V("div",{css:Pr.root,children:[p(Tr,{title:"Volume",isOpen:o==="volume",onClose:()=>i(void 0),children:p(Xl,{})}),p(Tr,{title:"Speaker Grouping",isOpen:o==="speaker-grouping",onClose:()=>i(void 0),padding:"16px 0px 16px 0px",children:p(Jl,{})}),p(Tr,{title:"Search",isOpen:o==="search",onClose:()=>i(void 0),padding:"16px 0px 16px 0px",children:p(oa,{maEntityId:n,horizontalPadding:16,searchBarPosition:"bottom"})}),!!r&&p(ee,{size:"small",icon:"mdi:speaker-multiple",onClick:()=>a("speaker-grouping")}),t==null?void 0:t.slice(0,1).map((s,l)=>p(eu,{button:s},l)),(t==null?void 0:t.length)>2&&V(_e,{children:[p(ee,{size:"small",icon:"mdi:dots-horizontal",onClick:()=>a("custom-buttons")}),p(Tr,{title:"Shortcuts",isOpen:o==="custom-buttons",onClose:()=>i(void 0),padding:"16px 0px 16px 0px",children:p(Hl,{})})]}),!!n&&p(ee,{size:"small",icon:"mdi:magnify",onClick:()=>i("search")}),p(Kl,{onClick:()=>a("volume")})]})},Tr=({children:e,title:t,isOpen:r,padding:n,onClose:o})=>r?V("div",{css:Pr.modalRoot,children:[V("div",{css:Pr.modalHeader,children:[p("h4",{children:t}),p(ee,{type:"button",size:"small",icon:"mdi:close",onClick:o})]}),p("div",{css:Pr.modalContent,style:{"--mmpc-modal-padding":n??"16px"},children:e})]}):null,eu=({button:e})=>{const{rootElement:t,config:r}=ae(xe),{icon:n,name:o,...i}=e,a=qt({rootElement:t,actionConfig:{...i,entity:r.entity_id}});return p(ee,{icon:e.icon??"mdi:dots-vertical",size:"small",...a})},An={root:w({display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",textAlign:"center",color:"var(--primary-text-color, #fff)",paddingLeft:"var(--mmpc-extra-horizontal-padding, 0px)",paddingRight:"var(--mmpc-extra-horizontal-padding, 0px)","> h2, > h3":{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",width:"100%"}}),titleH2:w({margin:0}),titleH3:w({margin:0,fontWeight:"normal",color:"var(--secondary-text-color, #fff)"})},tu=()=>{const{title:e,subtitle:t}=Pe();return V("div",{css:An.root,children:[!!e&&p("h2",{css:An.titleH2,children:e}),!!t&&p("h3",{css:An.titleH3,children:t})]})},da={root:w({paddingLeft:"var(--mmpc-extra-horizontal-padding, 0px)",paddingRight:"var(--mmpc-extra-horizontal-padding, 0px)"}),timeWrap:w({display:"flex",flexDirection:"row",justifyContent:"space-between",marginTop:"4px",color:"var(--secondary-text-color, #888)",height:"20px",marginBottom:"-20px"})},ru=()=>{const e=Pe(),[t,r]=U(0),n=e.state==="playing";de(()=>{if(!n)return;const i=setInterval(()=>{r(a=>a+1)},1e3);return()=>clearInterval(i)},[n]);const o=G(()=>{var m,h,_;const i=((m=e.attributes)==null?void 0:m.media_position)??null,a=((h=e.attributes)==null?void 0:h.media_position_updated_at)??null,s=((_=e.attributes)==null?void 0:_.media_duration)??null;if(i===null||i<0||s===null||a===null)return null;const l=new Date,u=new Date(a),c=(l.getTime()-u.getTime())/1e3+i,f=y=>{const g=Math.floor(y/60).toString().padStart(2,"0"),x=Math.round(y-Number(g)*60).toString().padStart(2,"0");return`${g}:${x}`};return{currentPosition:c,mediaDuration:s,prettyNow:f(c),prettyEnd:f(s)}},[e,t]);return o?V("div",{css:da.root,children:[p(yu,{value:o.currentPosition,min:0,max:o.mediaDuration}),V("div",{css:da.timeWrap,children:[p("span",{children:o.prettyNow}),p("span",{children:o.prettyEnd})]})]}):null},st={root:w({display:"flex",justifyContent:"center",alignItems:"center","--mmpc-extra-horizontal-padding":"0px",boxSizing:"border-box","*":{boxSizing:"border-box"},"--mmpc-surface-higher":"var(--card-background-color)"}),rootPanelMode:w({width:"100%",height:"100%",background:"linear-gradient(var(--app-header-background-color), rgba(255, 255, 255, 0))",maxHeight:"calc(100vh - var(--header-height, 16px))"}),rootPopupMode:w({"--mmpc-extra-horizontal-padding":"12px"}),wrap:w({display:"flex",flex:1,flexDirection:"column",gap:"16px",justifyContent:"space-around",alignItems:"center",paddingTop:"16px",paddingBottom:"16px",height:"100%"}),wrapPanelMode:w({width:"90%",maxWidth:"400px",padding:"16px"}),wrapPopupMode:w({maxWidth:"100%",padding:"16px",paddingBottom:"max(calc(env(safe-area-inset-bottom) + 8px), 16px)"}),wrapCardMode:w({width:"100%",padding:"16px"}),controlsWrapper:w({display:"flex",flexDirection:"column",maxHeight:"300px",minHeight:"280px",width:"100%",height:"100%",justifyContent:"space-between"})},fa=({className:e})=>{const{config:t}=ae(xe),{mode:r,use_art_colors:n}=t,{artVars:o,haVars:i}=ca(),a=()=>p("div",{className:e,css:[st.root,r==="panel"&&st.rootPanelMode,r==="popup"&&st.rootPopupMode],style:{...o??{},...i&&n?i:{}},children:V("div",{css:[st.wrap,r==="panel"&&st.wrapPanelMode,r==="card"&&st.wrapCardMode,r==="popup"&&st.wrapPopupMode],children:[p(bi,{iconSize:"x-large",borderRadius:8}),V("div",{css:st.controlsWrapper,children:[p(tu,{}),p(ru,{}),p(Yl,{}),p(Zl,{})]})]})});return r==="card"?p("ha-card",{children:a()}):a()},nu=({config:e,rootElement:t,hass:r})=>{(!e||!r||!t)&&console.error("No config or hass");const n=$(d=>{const c=new Event("config-changed",{bubbles:!0,composed:!0});c.detail={config:d},t.dispatchEvent(c)},[t]),o=$((d,c)=>{if(!e)return;const f=d.split("."),m={...e};let h=m;for(let _=0;_<f.length-1;_++)h[f[_]]||(h[f[_]]={}),h=h[f[_]];h[f[f.length-1]]=c,n(m)},[e,n]),i=$(()=>{const d=[...e.custom_buttons||[],{icon:"mdi:paper-roll",name:"New Button",tap_action:{action:"toggle"}}];n({...e,custom_buttons:d})},[e,n]),a=$(d=>{const c=[...e.custom_buttons||[]];c.splice(d,1),n({...e,custom_buttons:c})},[e,n]),s=$((d,c,f)=>{const m=[...e.custom_buttons||[]];m[d]={...m[d],[c]:f},n({...e,custom_buttons:m})},[e,n]),l=$((d,c)=>{const f=[...e.custom_buttons||[]];f[d]={...f[d],...c},n({...e,custom_buttons:f})},[e,n]);if(!e||!r)return null;const u={...e,use_art_colors:e.use_art_colors??!1,speaker_group:e.speaker_group||{entity_id:"",entities:[]},custom_buttons:e.custom_buttons||[]};return V("form",{children:[p(me,{children:p(rt,{hass:r,value:u.entity_id,onChange:d=>o("entity_id",d),label:"Media Player Entity",domains:["media_player"],required:!0})}),p(me,{children:V(yn,{children:[p(xn,{type:"checkbox",id:"use_art_colors",checked:u.use_art_colors,onChange:d=>o("use_art_colors",d.target.checked)}),p(bn,{htmlFor:"use_art_colors",children:"Use album art colors"})]})}),p(Ze,{title:"Display Mode",children:p(uc,{options:[{name:"Panel",value:"panel"},{name:"Card",value:"card"},{name:"In Card",value:"in-card"}],onSelected:d=>o("mode",d),selected:e.mode||"panel"})}),p(me,{children:p(Ze,{title:"Interactions",children:p(_r,{hass:r,value:u.action||{},onChange:d=>o("action",d)})})}),p(me,{children:V(Ze,{title:"Speaker Group Configuration (optional)",children:[p(me,{children:p(rt,{hass:r,value:u.speaker_group.entity_id,onChange:d=>o("speaker_group.entity_id",d),label:"Main Speaker Entity ID (Optional)",domains:["media_player"]})}),p(me,{children:p(Si,{hass:r,value:u.speaker_group.entities,onChange:d=>o("speaker_group.entities",d),label:"Select Speakers (including main speaker)",domains:["media_player"]})})]})}),p(me,{children:p(Ze,{title:"Music Assistant Configuration (optional)",children:p(me,{children:p(rt,{hass:r,value:u.ma_entity_id,onChange:d=>o("ma_entity_id",d),label:"Music Assistant Entity ID (Optional)",domains:["media_player"]})})})}),p(me,{children:V(Ei,{children:[u.custom_buttons.map((d,c)=>{const{name:f,icon:m,...h}=d;return V(Ze,{title:`Button ${c} - ${d.name}`,children:[V(me,{children:[p(gr,{children:p(vr,{value:f||"",onChange:_=>s(c,"name",_),hass:r,label:"Name"})}),p(gr,{children:p(vr,{value:m||"",onChange:_=>s(c,"icon",_),hass:r,isIconInput:!0,label:"Icon"})}),p(ki,{children:"Interactions"}),p(_r,{hass:r,value:h,onChange:_=>l(c,_)})]}),p(Ti,{type:"button",onClick:()=>a(c),children:"Remove Button"})]},c)}),p(Pi,{type:"button",onClick:i,children:"Add Custom Button"})]})})]})},pa={root:w({display:"flex",flexDirection:"row",justifyContent:"flex-start",overflowX:"auto",scrollbarWidth:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{display:"none"},paddingTop:"16px",paddingBottom:"16px",borderTop:"0.5px solid var(--divider-color, rgba(0, 0, 0, 0.12))",gap:"2px"}),chip:w({"&:first-child":{marginLeft:16},"&:last-child":{marginRight:16}})},ou=()=>{const{config:e}=ae(xe),{custom_buttons:t}=e;return p("div",{css:pa.root,children:t.map((r,n)=>p(ma,{button:r},n))})},ma=({button:e,type:t="chip"})=>{const{rootElement:r,config:n}=ae(xe),{icon:o,name:i,...a}=e,s=qt({rootElement:r,actionConfig:{...a,entity:n.entity_id}});return t==="icon-button"?p(ee,{icon:e.icon??"mdi:dots-vertical",size:"x-small",...s}):V(Ut,{css:pa.chip,icon:o,...s,children:[!!i&&p("span",{children:i}),s.renderLongPressIndicator()]})},iu=Ft`
  from {
    transform: translateY(15%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
`,ha=58,mt={overlay:w({position:"fixed",top:0,left:0,width:"100%",height:"100%",zIndex:8,transition:"opacity 0.3s ease-in-out",display:"flex",justifyContent:"center",alignItems:"flex-end","@media screen and (min-height: 832px)":{alignItems:"center"}}),clickableBackground:w({position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:0}),popUpContainer:w({animation:`${iu} 0.55s cubic-bezier(0.25, 1, 0.5, 1) forwards`,maxHeight:"98vh",height:"fit-content",width:"424px",maxWidth:"98vw",backgroundColor:"var(--ha-card-background, var(--card-background-color))",overflow:"hidden",boxShadow:"0px 10px 20px var(--clear-background-color)",borderTopLeftRadius:"var(--ha-dialog-border-radius, 28px)",borderTopRightRadius:"var(--ha-dialog-border-radius, 28px)","@media screen and (min-height: 832px)":{borderRadius:"var(--ha-dialog-border-radius, 28px)",boxShadow:"0px 0px 20px var(--clear-background-color)"},"@media (prefers-color-scheme: light)":{boxShadow:"0px 10px 20px rgba(0, 0, 0, 0.2)"}}),popUpContent:w({display:"grid",height:"100%"}),popUpHeader:w({display:"flex",height:ha,justifyContent:"flex-start",alignItems:"center",padding:"0px 16px",borderBottom:"1px solid var(--divider-color, rgba(0, 0, 0, 0.12))",gap:"8px"}),title:w({margin:0,fontSize:"18px",fontWeight:500,color:"var(--primary-text-color, #212121)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginRight:"auto"}),massiveCard:w({maxHeight:`calc(98vh - ${ha}px)`,maxWidth:"98vw",width:"100%",height:"100%",overflow:"hidden"})},au=({visible:e,setVisible:t})=>{var h,_;const r=kt(),{config:n,rootElement:o}=ae(xe),{entity_id:i,speaker_group:a}=n,{attributes:{friendly_name:s,icon:l,device_class:u}}=Pe(),d=(_=(h=r.states[(a==null?void 0:a.entity_id)??i])==null?void 0:h.attributes)==null?void 0:_.group_members,c=vn({icon:l,deviceClass:u}),f=G(()=>{const{tap_opens_popup:y,...g}=n;return{...g,mode:"popup"}},[n]),m=qt({rootElement:o,actionConfig:{tap_action:{action:"more-info"},entity:i}});return e?V("div",{css:mt.overlay,children:[p("div",{css:mt.clickableBackground,onClick:()=>t(!1)}),V("div",{css:mt.popUpContainer,children:[V("div",{css:mt.popUpHeader,children:[p(ot,{size:"small",icon:c}),V("h2",{css:mt.title,children:[s,(d==null?void 0:d.length)>1&&V("span",{children:[" +",d.length-1]})]}),p(ee,{size:"small",...m,icon:"mdi:dots-vertical"}),p(ee,{icon:"mdi:close",size:"small",onClick:()=>t(!1)})]}),p("div",{css:mt.popUpContent,children:p(xi,{rootElement:o,config:f,children:p(fa,{css:mt.massiveCard})})})]})]}):null},_a=Me({player:null}),su=({hass:e,children:t,entityId:r})=>{const n=G(()=>{const o=e.states[r];if(!o)return{player:null};const{attributes:{media_title:i,media_artist:a,media_album_name:s,source:l,friendly_name:u},state:d}=o;if(d==="off")return{player:{...o,title:u,subtitle:void 0}};if(d==="unavailable")return{player:{...o,title:"Unavailable",subtitle:`${r} unavailable`}};let c=i;(!c||c==="")&&(l&&typeof l=="string"&&!l.startsWith("media_player.")?c=l:c=u);const f=s||a?`${s&&s!==c?`${s} - `:""}${a??""}`:void 0;return{player:{...o,title:c,subtitle:f}}},[e.states,r]);return p(_a.Provider,{value:n,children:t})},Pe=()=>{const e=ae(_a);if(!e)throw new Error("useHass must be used within a HassContextProvider");return e.player},ga={titleText:w({margin:0,fontSize:"16px",fontWeight:600,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",color:"var(--primary-text-color, #333)"}),artistText:w({margin:0,fontSize:"14px",color:"var(--secondary-text-color, #666)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"})},cu=()=>{const{title:e,subtitle:t}=Pe();return V(_e,{children:[!!e&&p("h3",{css:ga.titleText,children:e}),!!t&&p("p",{css:ga.artistText,children:t})]})},Xt={root:w({display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",marginTop:"auto",height:"36px",marginLeft:"-4px"}),buttonMuted:w({opacity:.8}),shuffleButton:w({"@container (max-width: 150px)":{display:"none"}}),repeatButton:w({"@container (max-width: 130px)":{display:"none"}})},lu=()=>{const{config:e}=ae(xe),{attributes:{shuffle:t,repeat:r},state:n}=Pe(),o=n==="playing",{supportPreviousTrack:i,supportNextTrack:a,supportsShuffle:s,supportsRepeat:l,supportsTogglePlayPause:u}=Nn(),d=$(()=>{le().callService("media_player","media_play_pause",{entity_id:e.entity_id})},[]),c=$(()=>{le().callService("media_player","media_next_track",{entity_id:e.entity_id})},[]),f=$(()=>{le().callService("media_player","media_previous_track",{entity_id:e.entity_id})},[]),m=$(()=>{le().callService("media_player","shuffle_set",{entity_id:e.entity_id,shuffle:!t})},[t]),h=$(()=>{const _=r==="off"?"one":r==="one"?"all":"off";le().callService("media_player","repeat_set",{entity_id:e.entity_id,repeat:_})},[r]);return V("div",{css:Xt.root,children:[!!s&&p(ee,{css:[Xt.shuffleButton,...t?[]:[Xt.buttonMuted]],size:"x-small",onClick:m,icon:t?"mdi:shuffle-variant":"mdi:shuffle-disabled"}),!!i&&p(ee,{size:"small",onClick:f,icon:"mdi:skip-previous"}),u&&p(ee,{size:"medium",onClick:d,icon:o?"mdi:pause-circle":"mdi:play-circle"}),!!a&&p(ee,{size:"small",onClick:c,icon:"mdi:skip-next"}),!!l&&p(ee,{css:[Xt.repeatButton,...r==="off"?[Xt.buttonMuted]:[]],size:"x-small",onClick:h,icon:r==="one"?"mdi:repeat-once":r==="all"?"mdi:repeat":"mdi:repeat-off"})]})},Ln={root:w({display:"flex",flexDirection:"row",alignItems:"center",gap:"4px"}),friendlyName:w({fontSize:"11px",color:"var(--secondary-text-color, #888)",opacity:.8,fontStyle:"italic"})},uu=()=>{var d,c;const e=kt(),{config:t}=ae(xe),{entity_id:r,speaker_group:n}=t,{attributes:{friendly_name:o,icon:i,device_class:a},state:s}=Pe(),l=(c=(d=e.states[(n==null?void 0:n.entity_id)??r])==null?void 0:d.attributes)==null?void 0:c.group_members,u=vn({icon:i,deviceClass:a});return s==="off"?null:V("div",{css:Ln.root,children:[p(ot,{icon:u,size:"xx-small"}),p("span",{css:Ln.friendlyName,children:o}),l&&l.length>1&&V("span",{css:Ln.friendlyName,children:["+",l.length-1]})]})},du={root:w({maxHeight:300,paddingTop:12,paddingBottom:12,borderTop:"0.5px solid var(--divider-color, rgba(0, 0, 0, 0.12))",overflowY:"auto"})},fu=()=>{const{config:e}=ae(xe),{ma_entity_id:t}=e;return p("div",{css:du.root,children:p(oa,{maEntityId:t,horizontalPadding:12})})},ht={speakerGroupContainer:w({display:"flex",flexDirection:"column",paddingTop:"12px",paddingBottom:"16px",borderTop:"0.5px solid var(--divider-color, rgba(0, 0, 0, 0.12))",gap:"12px"}),groupTitle:w({fontSize:"16px",fontWeight:500,color:"var(--primary-text-color)",margin:"0px 16px"}),syncContainer:w({display:"flex",flexDirection:"row",alignItems:"center",marginLeft:"auto",gap:"4px",marginRight:"19px"}),syncText:w({fontSize:"12px",color:"var(--secondary-text-color)"}),groupedSpeakers:w({display:"flex",flexDirection:"column",gap:"8px",marginLeft:"16px",marginRight:"16px"}),titleRow:w({display:"flex",alignItems:"center"})},pu=()=>{var l,u;const e=kt(),{config:t}=ae(xe),{entity_id:r,speaker_group:n}=t,[o,i]=U(!0),a=(n==null?void 0:n.entity_id)||r,s=e.states[a];return V("div",{css:ht.speakerGroupContainer,children:[((u=(l=s==null?void 0:s.attributes)==null?void 0:l.group_members)==null?void 0:u.length)>1&&V(_e,{children:[V("div",{css:ht.titleRow,children:[p("h3",{css:ht.groupTitle,children:"Grouped Speakers"}),V("div",{css:ht.syncContainer,children:[p("span",{css:ht.syncText,onClick:()=>i(!o),children:"Link Volume"}),p(ee,{icon:o?"mdi:check-circle":"mdi:circle-outline",size:"x-small",onClick:()=>i(!o)})]})]}),p("div",{css:ht.groupedSpeakers,children:p(Ii,{config:{entity_id:r,speaker_group:n},syncMainSpeaker:o})})]}),p("h3",{css:ht.groupTitle,children:"Add speakers to group"}),p(wn,{config:{entity_id:r,speaker_group:n},showGrouped:!1,layout:{horizontalMargin:16}})]})},mu={root:w({display:"flex",alignItems:"center",transition:"all 0.3s ease",width:"100%",gap:"4px"})},hu=()=>{var s,l;const e=Pe(),t=e.entity_id,r=((s=e.attributes)==null?void 0:s.volume_level)??0,n=((l=e.attributes)==null?void 0:l.is_volume_muted)??!1,o=$(u=>{le().callService("media_player","volume_set",{entity_id:t,volume_level:u})},[]),i=$(()=>{le().callService("media_player","volume_mute",{entity_id:t,is_volume_muted:!n})},[n]),a=G(()=>jt(r,n),[r,n]);return V("div",{css:mu.root,children:[p(ee,{size:"x-small",onClick:i,icon:a}),p(Wn,{min:0,max:1,step:.01,value:r,sliderSize:"small",onChange:o})]})},_u=({sliderVisible:e,setSliderVisible:t})=>{var a,s;const r=Pe(),n=((a=r.attributes)==null?void 0:a.volume_level)??0,o=((s=r.attributes)==null?void 0:s.is_volume_muted)??!1,i=jt(n,o);return p(_e,{children:e?p(ee,{size:"x-small",onClick:()=>t(!1),icon:"mdi:chevron-left"}):p(ee,{size:"x-small",onClick:()=>t(!0),icon:i})})},Be={card:w({borderRadius:"var(--ha-card-border-radius, 12px)",overflow:"hidden"}),cardArtBackground:w({background:`
      radial-gradient( circle at bottom right, var(--art-color, transparent) -500%, transparent 40% ),
      radial-gradient( circle at top center, var(--art-color, transparent) -500%, transparent 40% ),
      radial-gradient( circle at bottom center, var(--art-color, transparent) -500%, transparent 40% ),
      radial-gradient( circle at top left, var(--art-color, transparent) -500%, transparent 40% )`}),cardContent:w({display:"flex",gap:"14px",padding:"12px",opacity:1,transition:"opacity 0.3s ease",position:"relative"}),cardRowRight:w({display:"grid",gridTemplateColumns:"repeat(2, auto)",gap:"4px",minWidth:"max-content"}),cardRow:w({display:"flex",flexDirection:"row",gap:"8px",alignItems:"center",justifyContent:"space-between"}),alignStart:w({alignItems:"start"}),cardColumn:w({display:"flex",flexDirection:"column",flex:1}),grid:w({display:"grid"}),controlsContainer:w({display:"flex",flexGrow:1,containerType:"inline-size"})},gu=()=>{const{rootElement:e,config:t}=ae(xe),{entity_id:r,custom_buttons:n,action:o,tap_opens_popup:i,use_art_colors:a,ma_entity_id:s}=t,l=n&&n.length>0,u=s&&s.length>0,[d,c]=U(!1),[f,m]=U(!1),[h,_]=U(!1),[y,g]=U(!1),{artVars:x,haVars:E}=ca(),{state:S,subtitle:b}=Pe(),C=Nn(),P=!C.supportsTogglePlayPause&&!C.supportNextTrack&&!C.supportPreviousTrack&&!C.supportsShuffle&&!C.supportsRepeat,T=S!=="off"&&S!=="unavailable",O=t.speaker_group&&t.speaker_group.entities&&t.speaker_group.entities.length>0,R=()=>{c(!d)},[M,B]=U(!1),H=S==="off"||!b&&P?68:100,ue=qt({rootElement:e,actionConfig:{...o??{tap_action:{action:"more-info"}},entity:t.entity_id},overrideCallback:i?{onTap:()=>{B(!0)}}:{}}),he=$(()=>{le().callService("media_player","toggle",{entity_id:r})},[r]);return p("ha-card",{children:V("div",{css:[Be.card,a&&Be.cardArtBackground],style:{...x??{},...E&&a?E:{}},children:[V("div",{css:Be.cardContent,style:{opacity:T?1:.7},children:[p(bi,{size:H,iconSize:"large",...ue}),V("div",{css:Be.cardColumn,children:[V("div",{css:[Be.cardRow,Be.alignStart],children:[V("div",{css:Be.grid,children:[p(cu,{}),p(uu,{})]}),V("div",{css:Be.cardRowRight,children:[l&&p(_e,{children:n.length===1?p(ma,{button:n[0],type:"icon-button"}):p(ee,{size:"x-small",onClick:()=>m(!f),icon:"mdi:dots-vertical"})}),u&&p(ee,{size:"x-small",onClick:()=>g(!y),icon:"mdi:magnify"})]})]}),V("div",{css:Be.cardRow,style:{marginTop:"auto",minHeight:P?"unset":"36px"},children:[p("div",{css:Be.controlsContainer,children:h||P?p(hu,{}):p(lu,{})}),V("div",{css:Be.cardRowRight,children:[!!T&&!P&&p(_u,{sliderVisible:h,setSliderVisible:_}),!!T&&O&&p(ee,{size:"x-small",onClick:R,icon:"mdi:speaker-multiple"}),(!T||P)&&p(ee,{size:"x-small",onClick:he,icon:"mdi:power"})]})]})]})]}),d&&O&&p(pu,{}),f&&p(ou,{}),y&&p(fu,{}),M&&p(au,{visible:M,setVisible:B})]})})},vu=({config:e,rootElement:t,hass:r})=>{(!e||!r||!t)&&console.error("No config or hass");const n=$(d=>{const c=new Event("config-changed",{bubbles:!0,composed:!0});c.detail={config:d},t.dispatchEvent(c)},[t]),o=$((d,c)=>{if(!e)return;const f=d.split("."),m={...e};let h=m;for(let _=0;_<f.length-1;_++)h[f[_]]||(h[f[_]]={}),h=h[f[_]];h[f[f.length-1]]=c,n(m)},[e,n]),i=$(()=>{const d=[...e.custom_buttons||[],{icon:"mdi:paper-roll",name:"New Button",tap_action:{action:"toggle"}}];n({...e,custom_buttons:d})},[e,n]),a=$(d=>{const c=[...e.custom_buttons||[]];c.splice(d,1),n({...e,custom_buttons:c})},[e,n]),s=$((d,c,f)=>{const m=[...e.custom_buttons||[]];m[d]={...m[d],[c]:f},n({...e,custom_buttons:m})},[e,n]),l=$((d,c)=>{const f=[...e.custom_buttons||[]];f[d]={...f[d],...c},n({...e,custom_buttons:f})},[e,n]);if(!e||!r)return null;const u={...e,use_art_colors:e.use_art_colors??!1,speaker_group:e.speaker_group||{entity_id:"",entities:[]},custom_buttons:e.custom_buttons||[]};return V("form",{children:[p(me,{children:p(rt,{hass:r,value:u.entity_id,onChange:d=>o("entity_id",d),label:"Media Player Entity",domains:["media_player"],required:!0})}),p(me,{children:V(yn,{children:[p(xn,{type:"checkbox",id:"use_art_colors",checked:u.use_art_colors,onChange:d=>o("use_art_colors",d.target.checked)}),p(bn,{htmlFor:"use_art_colors",children:"Use album art colors"})]})}),p(me,{children:V(Ze,{title:"Interactions",children:[V(yn,{children:[p(xn,{type:"checkbox",id:"tap_opens_popup",checked:u.tap_opens_popup||!1,onChange:d=>o("tap_opens_popup",d.target.checked)}),p(bn,{htmlFor:"tap_opens_popup",children:"Tap opens popup (this will override any setting under tap in action)"})]}),p(_r,{hass:r,value:u.action||{},onChange:d=>o("action",d)})]})}),p(me,{children:V(Ze,{title:"Speaker Group Configuration (optional)",children:[p(me,{children:p(rt,{hass:r,value:u.speaker_group.entity_id,onChange:d=>o("speaker_group.entity_id",d),label:"Main Speaker Entity ID (Optional)",domains:["media_player"]})}),p(me,{children:p(Si,{hass:r,value:u.speaker_group.entities,onChange:d=>o("speaker_group.entities",d),label:"Select Speakers (including main speaker)",domains:["media_player"]})})]})}),p(me,{children:p(Ze,{title:"Music Assistant Configuration (optional)",children:p(me,{children:p(rt,{hass:r,value:u.ma_entity_id,onChange:d=>o("ma_entity_id",d),label:"Music Assistant Entity ID (Optional)",domains:["media_player"]})})})}),p(me,{children:V(Ei,{children:[u.custom_buttons.map((d,c)=>{const{name:f,icon:m,...h}=d;return V(Ze,{title:`Button ${c} - ${d.name}`,children:[V(me,{children:[p(gr,{children:p(vr,{value:f||"",onChange:_=>s(c,"name",_),hass:r,label:"Name"})}),p(gr,{children:p(vr,{value:m||"",onChange:_=>s(c,"icon",_),hass:r,isIconInput:!0,label:"Icon"})}),p(ki,{children:"Interactions"}),p(_r,{hass:r,value:h,onChange:_=>l(c,_)})]}),p(Ti,{type:"button",onClick:()=>a(c),children:"Remove Button"})]},c)}),p(Pi,{type:"button",onClick:i,children:"Add Custom Button"})]})})]})},va={root:w({display:"flex",flexDirection:"row",height:"4px",width:"100%",backgroundColor:"var(--divider-color)",borderRadius:"2px",overflow:"hidden"}),progress:w({height:"100%",backgroundColor:"var(--secondary-text-color)",width:"0%",transition:"width 1s linear"})},yu=({min:e,max:t,value:r})=>{const n=(r-e)/(t-e)*100;return p("div",{css:va.root,children:p("div",{css:va.progress,style:{width:`${n}%`}})})},ya=()=>{};var bu={};const zn=Me({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});bu.NODE_ENV!=="production"&&(zn.displayName="CompositeListContext");function xu(){return ae(zn)}var wu={};function Cu(e,t){const r=e.compareDocumentPosition(t);return r&Node.DOCUMENT_POSITION_FOLLOWING||r&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:r&Node.DOCUMENT_POSITION_PRECEDING||r&Node.DOCUMENT_POSITION_CONTAINS?1:0}function ba(e){const{children:t,elementsRef:r,labelsRef:n,onMapChange:o}=e,[i,a]=U(()=>new Map),s=$((c,f)=>{a(m=>new Map(m).set(c,f??null))},[]),l=$(c=>{a(f=>{const m=new Map(f);return m.delete(c),m})},[]),u=G(()=>{const c=new Map;return Array.from(i.keys()).sort(Cu).forEach((m,h)=>{const _=i.get(m)??{};c.set(m,{..._,index:h})}),c},[i]);Ee(()=>{o==null||o(u)},[u,o]);const d=G(()=>({register:s,unregister:l,map:u,elementsRef:r,labelsRef:n}),[s,l,u,r,n]);return Ce(zn.Provider,{value:d,children:t})}wu.NODE_ENV!=="production"&&(ba.propTypes={children:v.node,elementsRef:v.any,labelsRef:v.shape({current:v.arrayOf(v.string).isRequired}),onMapChange:v.func});const Rr={activeThumbIndex:()=>null,max:()=>null,min:()=>null,minStepsBetweenValues:()=>null,step:()=>null,values:()=>null};function xa(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function Bn(e,t,r=(n,o)=>n===o){return e.length===t.length&&e.every((n,o)=>r(n,t[o]))}function Qe(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}function Kt(e){return e&&e.ownerDocument||document}function Jt(e,t,r){return(e-t)*100/(r-t)}var wa={};let Fn;wa.NODE_ENV!=="production"&&(Fn=new Set);function Su(...e){if(wa.NODE_ENV!=="production"){const t=e.join(" ");Fn.has(t)||(Fn.add(t),console.warn(`Base UI: ${t}`))}}var ku={};const Ca=Me(void 0);ku.NODE_ENV!=="production"&&(Ca.displayName="DirectionContext");function Sa(e=!0){const t=ae(Ca);if(t===void 0&&!e)throw new Error("Base UI: DirectionContext is missing.");return(t==null?void 0:t.direction)??"ltr"}function ka(e,t){return e-t}function Ir(e,t,r){const n=e.slice();return n[t]=r,n.sort(ka)}function Ea(e,t,r,n,o,i){let a=e;return a=Qe(a,r,n),o&&(a=Ir(i,t,Qe(a,i[t-1]||-1/0,i[t+1]||1/0))),a}function Eu(e){if(Math.abs(e)<1){const r=e.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}function Pa(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(Eu(t)))}let $r=function(e){return e.index="data-index",e.dragging="data-dragging",e.orientation="data-orientation",e.disabled="data-disabled",e.readonly="data-readonly",e.required="data-required",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.focused="data-focused",e}({});function Pu(e,t){return typeof e=="number"&&typeof t=="number"?e===t:Array.isArray(e)&&Array.isArray(t)?Bn(e,t):!1}function Tu(e,t,r){let n,o;for(let i=0;i<e.length;i+=1){const a=Math.abs(t-e[i]);(o===void 0||(e[i]===r?a<o:a<=o))&&(n=i,o=a)}return n}function jn(e,t,r){const n=[];for(let o=0;o<e.length;o+=1)n.push(Qe(Jt(e[o],t,r),0,100));return n}function Mr(e,t,r){if(!t.current)return;const n=xa(Kt(t.current));(n==null||!t.current.contains(n)||Number(n.getAttribute($r.index))!==e)&&t.current.querySelector(`[type="range"][${$r.index}="${e}"]`).focus(),r&&r(e)}function Ta(e,t,r){if(!Array.isArray(e))return!0;const n=e.reduce((o,i,a,s)=>(a===s.length-1||o.push(Math.abs(i-s[a+1])),o),[]);return Math.min(...n)>=t*r}function Ru(e,t){if(!e)return{start:0,end:0};const r=t==="horizontal"?"InlineStart":"Top",n=t==="horizontal"?"InlineEnd":"Bottom";return{start:parseFloat(e[`border${r}Width`])+parseFloat(e[`padding${r}`]),end:parseFloat(e[`border${n}Width`])+parseFloat(e[`padding${n}`])}}function Iu(e){const{"aria-labelledby":t,defaultValue:r,disabled:n=!1,id:o,largeStep:i=10,max:a=100,min:s=0,minStepsBetweenValues:l=0,name:u,onValueChange:d,onValueCommitted:c,orientation:f="horizontal",rootRef:m,step:h=1,value:_}=e,y=Sa(),{setControlId:g,setTouched:x,setDirty:E,validityData:S,validationMode:b}=De(),{getValidationProps:C,inputRef:P,commitValidation:T}=xr(),[O,R]=Zi({controlled:_,default:r??s,name:"Slider"}),M=te(null),B=te(null),H=te([]),K=te(null),[ue,he]=U(()=>new Map);Ee(()=>(g(o),()=>{g(void 0)}),[o,g]),Qi({id:o,commitValidation:T,value:O,controlRef:B});const[fe,ge]=U(-1),[Q,Te]=U(!1),k=te(null),I=$(X=>{X&&(B.current=X,k.current==null&&(k.current=getComputedStyle(X)),P.current=X.querySelector('input[type="range"]'))},[P]),N=Array.isArray(O),F=G(()=>N?O.slice().sort(ka):[Qe(O,s,a)],[a,s,N,O]);function j(){return jn(F,s,a)}const[W,L]=U(j),z=ze((X,ve,Fe,ke)=>{if(Number.isNaN(X)||Pu(X,O))return;R(X),L(ve);const Zt=new ke.constructor(ke.type,ke);Object.defineProperty(Zt,"target",{writable:!0,value:{value:X,name:u}}),K.current=X,d(X,Zt,Fe)}),A=ze((X,ve)=>{if(Array.isArray(X)){const Fe=jn(X,s,a);Bn(Fe,W)||L(Fe)}else typeof X=="number"&&L([Jt(X,s,a)]);c(X,ve)}),Z=Et(m,M),q=ze((X,ve,Fe)=>{const ke=Ea(X,ve,s,a,N,F);N&&Mr(ve,M),Ta(ke,h,l)&&(Array.isArray(ke)?z(ke,Ir(W,ve,Jt(ke[ve],s,a)),ve,Fe.nativeEvent):z(ke,[Jt(ke,s,a)],ve,Fe.nativeEvent),E(ke!==S.initialValue),x(!0),c(K.current??ke,Fe.nativeEvent),b==="onChange"&&T(K.current??ke))}),we=te(null),D=ze((X,ve=!1,Fe=0)=>{if(X==null)return null;const ke=B.current;if(!ke)return null;const Zt=y==="rtl",od=f==="vertical",{width:id,height:ad,bottom:sd,left:cd,right:ld}=ke.getBoundingClientRect(),_t=Ru(k.current,f);let gt=od?(sd-_t.end-X.y)/(ad-_t.start-_t.end)+Fe:(Zt?ld-_t.start-X.x:X.x-cd-_t.start)/(id-_t.start-_t.end)+Fe*(Zt?-1:1);gt=Qe(gt,0,1);let et=(a-s)*gt+s;if(et=Pa(et,h,s),et=Qe(et,s,a),!N)return{value:et,valueRescaled:gt,percentageValues:[gt*100],thumbIndex:0};ve&&(we.current=Tu(F,et,a)??0);const vt=we.current??0,Gn=l*h,Aa=Gn*100/(a-s);et=Qe(et,F[vt-1]+Gn||-1/0,F[vt+1]-Gn||1/0);const ud=Qe(gt*100,W[vt-1]+Aa||-1/0,W[vt+1]-Aa||1/0);return{value:Ir(F,vt,et),valueRescaled:gt,percentageValues:Ir(W,vt,ud),thumbIndex:vt}});Ee(()=>{if(!(_===void 0||Q)){if(s>=a&&Su("Slider `max` must be greater than `min`"),typeof O=="number"){const X=Qe(Jt(O,s,a),0,100);X!==W[0]&&!Number.isNaN(X)&&L([X])}else if(Array.isArray(O)){const X=jn(O,s,a);Bn(X,W)||L(X)}}},[Q,s,a,W,L,_,O]),Ee(()=>{var ve;const X=xa(Kt(M.current));n&&((ve=M.current)!=null&&ve.contains(X))&&X.blur()},[n]),n&&fe!==-1&&ge(-1);const Ve=$((X={})=>$e({"aria-labelledby":t,id:o,ref:Z,role:"group"},C(X)),[t,C,Z,o]);return G(()=>({"aria-labelledby":t,active:fe,commitValue:A,disabled:n,dragging:Q,getFingerState:D,getRootProps:Ve,handleInputChange:q,largeStep:i,lastChangedValueRef:K,max:a,min:s,minStepsBetweenValues:l,name:u,onValueCommitted:c,orientation:f,percentageValues:W,range:N,registerSliderControl:I,setActive:ge,setDragging:Te,setThumbMap:he,setValue:z,step:h,thumbMap:ue,thumbRefs:H,values:F}),[fe,t,A,n,Q,D,Ve,q,i,K,a,s,l,u,c,f,W,N,I,ge,Te,he,z,h,ue,H,F])}var $u={};const Un=Me(void 0);$u.NODE_ENV!=="production"&&(Un.displayName="SliderRootContext");function Or(){const e=ae(Un);if(e===void 0)throw new Error("Base UI: SliderRootContext is missing. Slider parts must be placed within <Slider.Root>.");return e}var Mu={};const Ra=Re(function(t,r){const{className:n,defaultValue:o,disabled:i=!1,id:a,format:s,largeStep:l=10,render:u,max:d=100,min:c=0,minStepsBetweenValues:f=0,name:m,onValueChange:h,onValueCommitted:_,orientation:y="horizontal",step:g=1,tabIndex:x,value:E,...S}=t,b=pt(a),{labelId:C,state:P,disabled:T,name:O}=De(),R=T||i,M=O??m??"",{getRootProps:B,...H}=Iu({"aria-labelledby":t["aria-labelledby"]??C,defaultValue:o,disabled:R,id:b??"",largeStep:l,max:d,min:c,minStepsBetweenValues:f,name:M,onValueChange:h??ya,onValueCommitted:_??ya,orientation:y,rootRef:r,step:g,value:E}),K=G(()=>({...P,activeThumbIndex:H.active,disabled:R,dragging:H.dragging,orientation:y,max:H.max,min:H.min,minStepsBetweenValues:H.minStepsBetweenValues,step:H.step,values:H.values}),[P,R,y,H.active,H.dragging,H.max,H.min,H.minStepsBetweenValues,H.step,H.values]),ue=G(()=>({...H,format:s,state:K,tabIndex:x??null}),[H,s,K,x]),{renderElement:he}=Xe({propGetter:B,render:u??"div",state:K,className:n,extraProps:S,customStyleHookMapping:Rr});return Ce(Un.Provider,{value:ue,children:Ce(ba,{elementsRef:H.thumbRefs,onMapChange:H.setThumbMap,children:he()})})});Mu.NODE_ENV!=="production"&&(Ra.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),defaultValue:v.oneOfType([v.arrayOf(v.number),v.number]),disabled:v.bool,format:v.shape({compactDisplay:v.oneOf(["long","short"]),currency:v.string,currencyDisplay:v.oneOf(["code","name","narrowSymbol","symbol"]),currencySign:v.oneOf(["accounting","standard"]),localeMatcher:v.oneOf(["best fit","lookup"]),maximumFractionDigits:v.number,maximumSignificantDigits:v.number,minimumFractionDigits:v.number,minimumIntegerDigits:v.number,minimumSignificantDigits:v.number,notation:v.oneOf(["compact","engineering","scientific","standard"]),numberingSystem:v.string,signDisplay:v.oneOf(["always","auto","exceptZero","never"]),style:v.oneOf(["currency","decimal","percent","unit"]),unit:v.string,unitDisplay:v.oneOf(["long","narrow","short"]),useGrouping:v.bool}),id:v.string,largeStep:v.number,max:v.number,min:v.number,minStepsBetweenValues:v.number,name:v.string,onValueChange:v.func,onValueCommitted:v.func,orientation:v.oneOf(["horizontal","vertical"]),render:v.oneOfType([v.element,v.func]),step:v.number,tabIndex:v.number,value:v.oneOfType([v.arrayOf(v.number),v.number])});const Ia=new Map;function Ou(e,t){const r=JSON.stringify({locale:e,options:t}),n=Ia.get(r);if(n)return n;const o=new Intl.NumberFormat(e,t);return Ia.set(r,o),o}function Dr(e,t,r){return e==null?"":Ou(t,r).format(e)}const Du=2;function Vr(e,t){if(t.current!==void 0&&e.changedTouches){const r=e;for(let n=0;n<r.changedTouches.length;n+=1){const o=r.changedTouches[n];if(o.identifier===t.current)return{x:o.clientX,y:o.clientY}}return null}return{x:e.clientX,y:e.clientY}}function Vu(e){const{disabled:t,dragging:r,getFingerState:n,lastChangedValueRef:o,minStepsBetweenValues:i,commitValue:a,percentageValues:s,registerSliderControl:l,rootRef:u,setActive:d,setDragging:c,setValue:f,step:m,thumbRefs:h}=e,{commitValidation:_}=xr(),y=te(null),g=Et(u,l,y),x=te(null),E=te(0),S=te(0),b=ze(R=>{const M=Vr(R,x);if(M==null)return;if(E.current+=1,R.type==="pointermove"&&R.buttons===0){C(R);return}const B=n(M,!1,S.current);B!=null&&(Mr(B.thumbIndex,y,d),Ta(B.value,m,i)&&(!r&&E.current>Du&&c(!0),f(B.value,B.percentageValues,B.thumbIndex,R)))}),C=ze(R=>{const M=Vr(R,x);if(c(!1),M==null)return;const B=n(M,!1);B!=null&&(d(-1),_(o.current??B.value),a(o.current??B.value,R),x.current=null,T())}),P=ze(R=>{if(t)return;const M=R.changedTouches[0];M!=null&&(x.current=M.identifier);const B=Vr(R,x);if(B!=null){const K=n(B,!0);if(K==null)return;Mr(K.thumbIndex,y,d),f(K.value,K.percentageValues,K.thumbIndex,R)}E.current=0;const H=Kt(y.current);H.addEventListener("touchmove",b,{passive:!0}),H.addEventListener("touchend",C,{passive:!0})}),T=ze(()=>{S.current=0;const R=Kt(y.current);R.removeEventListener("pointermove",b),R.removeEventListener("pointerup",C),R.removeEventListener("touchmove",b),R.removeEventListener("touchend",C)});de(()=>{const{current:R}=y;return R?(R.addEventListener("touchstart",P,{passive:!0}),()=>{R.removeEventListener("touchstart",P),T()}):()=>T()},[T,P,y]),de(()=>{t&&T()},[t,T]);const O=$((R={})=>$e({onPointerDown(M){if(t||M.defaultPrevented||M.button!==0)return;M.preventDefault();const B=Vr(M,x);if(B!=null){const K=n(B,!0);if(K==null)return;Mr(K.thumbIndex,y,d),h.current.includes(M.target)?S.current=s[K.thumbIndex]/100-K.valueRescaled:f(K.value,K.percentageValues,K.thumbIndex,M.nativeEvent)}E.current=0;const H=Kt(y.current);H.addEventListener("pointermove",b,{passive:!0}),H.addEventListener("pointerup",C)},ref:g},R),[t,n,g,b,C,f,s,d,h]);return G(()=>({getRootProps:O}),[O])}var Nu={};const $a=Re(function(t,r){const{render:n,className:o,...i}=t,{commitValue:a,disabled:s,dragging:l,getFingerState:u,lastChangedValueRef:d,minStepsBetweenValues:c,percentageValues:f,registerSliderControl:m,setActive:h,setDragging:_,setValue:y,state:g,step:x,thumbRefs:E}=Or(),{getRootProps:S}=Vu({commitValue:a,disabled:s,dragging:l,getFingerState:u,lastChangedValueRef:d,minStepsBetweenValues:c,percentageValues:f,registerSliderControl:m,rootRef:r,setActive:h,setDragging:_,setValue:y,step:x,thumbRefs:E}),{renderElement:b}=Xe({propGetter:S,render:n??"div",state:g,className:o,extraProps:i,customStyleHookMapping:Rr});return b()});Nu.NODE_ENV!=="production"&&($a.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),render:v.oneOfType([v.element,v.func])});var Au={};const Ma=Re(function(t,r){const{render:n,className:o,...i}=t,{state:a}=Or(),{renderElement:s}=Xe({render:n??"div",state:a,className:o,ref:r,extraProps:{...i,style:{position:"relative",...i.style}},customStyleHookMapping:Rr});return s()});Au.NODE_ENV!=="production"&&(Ma.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),render:v.oneOfType([v.element,v.func]),style:v.object});const Oa={clip:"rect(0 0 0 0)",overflow:"hidden",whiteSpace:"nowrap",position:"fixed",top:0,left:0,border:0,padding:0,width:1,height:1,margin:-1},Lu="ArrowUp",zu="ArrowDown",Bu="ArrowLeft",Fu="ArrowRight",ju="Home",Uu="End";function Wu(e={}){const{label:t,metadata:r}=e,{register:n,unregister:o,map:i,elementsRef:a,labelsRef:s}=xu(),[l,u]=U(null),d=te(null),c=$(f=>{if(d.current=f,l!==null&&(a.current[l]=f,s)){const m=t!==void 0;s.current[l]=m?t:(f==null?void 0:f.textContent)??null}},[l,a,s,t]);return Ee(()=>{const f=d.current;if(f)return n(f,r),()=>{o(f)}},[n,o,r]),Ee(()=>{var m;const f=d.current?(m=i.get(d.current))==null?void 0:m.index:null;f!=null&&u(f)},[i]),G(()=>({ref:c,index:l??-1}),[l,c])}function Tt(e,t,r,n,o){return r===1?Math.min(e+t,o):Math.max(e-t,n)}function Hu(e,t,r){if(!(t<0))return e.length===2?t===0?`${Dr(e[t],[],r)} start range`:`${Dr(e[t],[],r)} end range`:r?Dr(e[t],[],r):void 0}function Gu(e){const{active:t,"aria-label":r,"aria-labelledby":n,"aria-valuetext":o,handleInputChange:i,disabled:a,format:s,getAriaLabel:l=null,getAriaValueText:u=null,id:d,inputId:c,largeStep:f,max:m,min:h,minStepsBetweenValues:_,name:y,orientation:g,percentageValues:x,rootRef:E,step:S,tabIndex:b,values:C}=e,P=Sa(),{setTouched:T,setFocused:O,validationMode:R}=De(),{getInputValidationProps:M,inputRef:B,commitValidation:H}=xr(),K=te(null),ue=te(null),he=Et(ue,B),fe=G(()=>({inputId:c}),[c]),{ref:ge,index:Q}=Wu({metadata:fe}),Te=Et(E,ge,K),k=C[Q],I=x.length===1?x[0]:x[Q],N=P==="rtl",F=$(()=>{const L=g==="vertical";return Number.isFinite(I)?{position:"absolute",[{horizontal:"insetInlineStart",vertical:"bottom"}[g]]:`${I}%`,[L?"left":"top"]:"50%",transform:`translate(${(L||!N?-1:1)*50}%, ${(L?1:-1)*50}%)`,zIndex:t===Q?1:void 0}:Oa},[t,N,g,I,Q]),j=$((L={})=>$e({[$r.index]:Q,id:d,onFocus(){O(!0)},onBlur(){K.current&&(T(!0),O(!1),R==="onBlur"&&H(Ea(k,Q,h,m,C.length>1,C)))},onKeyDown(z){let A=null;const Z=C.length>1,q=Pa(k,S,h);switch(z.key){case Lu:A=Tt(q,z.shiftKey?f:S,1,h,m);break;case Fu:A=Tt(q,z.shiftKey?f:S,N?-1:1,h,m);break;case zu:A=Tt(q,z.shiftKey?f:S,-1,h,m);break;case Bu:A=Tt(q,z.shiftKey?f:S,N?1:-1,h,m);break;case"PageUp":A=Tt(q,f,1,h,m);break;case"PageDown":A=Tt(q,f,-1,h,m);break;case Uu:A=m,Z&&(A=Number.isFinite(C[Q+1])?C[Q+1]-S*_:m);break;case ju:A=h,Z&&(A=Number.isFinite(C[Q-1])?C[Q-1]+S*_:h);break}A!==null&&(i(A,Q,z),z.preventDefault())},ref:Te,style:F(),tabIndex:b??(a?void 0:0)},L),[H,a,b,F,i,Q,N,f,m,Te,h,_,O,T,C,S,d,k,R]),W=$((L={})=>{let z;return g==="vertical"&&(z=N?"vertical-rl":"vertical-lr"),$e({"aria-label":l!=null?l(Q):r,"aria-labelledby":n,"aria-orientation":g,"aria-valuemax":m,"aria-valuemin":h,"aria-valuenow":k,"aria-valuetext":u!=null?u(Dr(k,[],s??void 0),k,Q):o||Hu(C,Q,s??void 0),[$r.index]:Q,disabled:a,id:c,max:m,min:h,name:y,onChange(A){i(A.target.valueAsNumber,Q,A)},ref:he,step:S,style:{...Oa,width:"100%",height:"100%",writingMode:z},tabIndex:-1,type:"range",value:k??""},M(L))},[r,n,o,i,a,s,l,u,M,Q,N,m,he,h,y,g,C,S,c,k]);return G(()=>({getRootProps:j,getThumbInputProps:W,disabled:a,index:Q}),[j,W,a,Q])}var qu={};function Yu(e,t){const{children:r,...n}=e;return Ce("div",{...n,children:[r,Ce("input",{...t})]})}const Da=Re(function(t,r){const{render:n,className:o,disabled:i=!1,getAriaLabel:a,getAriaValueText:s,id:l,inputId:u,onBlur:d,onFocus:c,onKeyDown:f,tabIndex:m,...h}=t,_=pt(l),y=pt(u),g=n??Yu,{active:x,"aria-labelledby":E,handleInputChange:S,disabled:b,format:C=null,largeStep:P,max:T,min:O,minStepsBetweenValues:R,name:M,orientation:B,state:H,percentageValues:K,step:ue,tabIndex:he,values:fe}=Or();let ge=null;typeof g!="function"&&(ge=Wi(19)?g.props.ref:g.ref);const Q=Et(ge,r),{getRootProps:Te,getThumbInputProps:k,disabled:I,index:N}=Gu({active:x,"aria-label":t["aria-label"],"aria-labelledby":E,"aria-valuetext":t["aria-valuetext"],handleInputChange:S,disabled:i||b,format:C,getAriaLabel:a??null,getAriaValueText:s??null,id:_,inputId:y,largeStep:P,max:T,min:O,minStepsBetweenValues:R,name:M,orientation:B,percentageValues:K,rootRef:Q,step:ue,tabIndex:m??he,values:fe}),F=G(()=>Bi({disabled:I,dragging:N!==-1&&x===N}),[x,I,N]),j=Te({...F,...h,className:Fi(o,H)}),W=k({disabled:I});if(typeof g=="function")return g(j,W,H);const{children:L,...z}=g.props,A=j.children??L;return ir(g,{...$e({...j,children:Ce(_e,{children:[typeof A=="function"?A():A,Ce("input",{...W})]})},z),ref:j.ref})});qu.NODE_ENV!=="production"&&(Da.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),disabled:v.bool,getAriaLabel:v.func,getAriaValueText:v.func,id:v.string,inputId:v.string,onBlur:v.func,onFocus:v.func,onKeyDown:v.func,onPointerLeave:v.func,onPointerOver:v.func,render:v.oneOfType([v.func,v.node]),tabIndex:v.number});function Xu(e,t,r){return e==="vertical"?{position:"absolute",bottom:`${t}%`,height:`${r}%`,width:"inherit"}:{position:"relative",insetInlineStart:`${t}%`,width:`${r}%`,height:"inherit"}}function Ku(e){const{orientation:t,percentageValues:r}=e;let n;if(r.length>1){const i=r[0],a=r[r.length-1]-i;n=Xu(t,i,a)}else t==="vertical"?n={position:"absolute",bottom:0,height:`${r[0]}%`,width:"inherit"}:n={position:"relative",insetInlineStart:0,width:`${r[0]}%`,height:"inherit"};const o=$((i={})=>$e({style:n},i),[n]);return G(()=>({getRootProps:o}),[o])}var Ju={};const Va=Re(function(t,r){const{render:n,className:o,...i}=t,{disabled:a,orientation:s,state:l,percentageValues:u}=Or(),{getRootProps:d}=Ku({orientation:s,percentageValues:u}),{renderElement:c}=Xe({propGetter:d,render:n??"div",state:l,className:o,ref:r,extraProps:i,customStyleHookMapping:Rr});return c()});Ju.NODE_ENV!=="production"&&(Va.propTypes={children:v.node,className:v.oneOfType([v.func,v.string]),render:v.oneOfType([v.element,v.func])});const Qt={root:w({width:"100%","--unselected-color":"var(--divider-color)",margin:"0"}),control:w({position:"relative",cursor:"pointer"}),track:w({background:"var(--unselected-color)",height:"var(--mmpc-slider-height)",borderRadius:"6px",overflow:"hidden"}),indicator:w({background:"var(--primary-color)",height:"100%",borderRadius:"4px"}),thumb:w({width:"6px",height:"64%",backgroundColor:"var(--text-primary-color)","@media (prefers-color-scheme: light)":{backgroundColor:"var(--art-surface-color, rgba(255, 255, 255, 0.8))"},cursor:"pointer",borderRadius:"2px",marginLeft:"-8px"})},Wn=({min:e,max:t,step:r,value:n,sliderSize:o="medium",onChange:i})=>{const[a,s]=U(n),l=te(),u=$(d=>{s(d),l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{i(d)},200)},[i]);return de(()=>{n!==a&&s(n)},[n]),p(Ra,{css:Qt.root,value:a,onValueChange:u,min:e,max:t,step:r,children:p($a,{css:Qt.control,children:V(Ma,{css:Qt.track,style:{"--mmpc-slider-height":Qu(o)},children:[p(Va,{css:Qt.indicator}),p(Da,{css:Qt.thumb})]})})})},Qu=e=>{switch(e){case"xsmall":return"16px";case"small":return"22px";case"medium":return"28px";case"large":return"32px"}},Rt={root:w({border:"1px solid var(--divider-color, #e0e0e0)",borderRadius:"8px",position:"relative",marginBottom:"16px",backgroundColor:"var(--card-background-color, #fff)"}),header:w({display:"flex",justifyContent:"space-between",alignItems:"center",padding:"12px 16px",borderBottom:"none"}),headerExpanded:w({borderBottom:"1px solid var(--divider-color, #e0e0e0)"}),title:w({margin:0,fontSize:"16px",fontWeight:500}),content:w({padding:16,display:"none"}),contentExpanded:w({display:"block"})},Ze=({title:e,children:t,initiallyExpanded:r=!1})=>{const[n,o]=U(r);return V("div",{css:Rt.root,children:[V("div",{css:[Rt.header,n&&Rt.headerExpanded],children:[p("h3",{css:Rt.title,children:e}),p(ee,{onClick:()=>o(!n),icon:n?"mdi:chevron-up":"mdi:chevron-down",type:"button",size:"small"})]}),p("div",{css:[Rt.content,n&&Rt.contentExpanded],children:t})]})};class Na extends HTMLElement{constructor(){super(...arguments),this._config=null,this.Card=null,this.extraProps={},this._hass=null}set hass(t){this._hass=t}setConfig(t){this._config=t,lt(p(Ci,{rootElement:this,children:p(dc,{children:p(this.Card,{config:this._config,hass:this._hass,rootElement:this,...this.extraProps})})}),this)}}class Hn extends HTMLElement{constructor(){super(...arguments),this.Card=null,this.config=null,this.shouldUpdate=null,this._previousHass=null}set hass(t){if(!this.Card)throw new Error("Preact Card is not defined");const r=this.config.entity_id;this.shouldUpdate(this._previousHass,t)?(this._previousHass=t,lt(p(Ci,{rootElement:this,children:p(xi,{rootElement:this,config:this.config,children:p(fc,{hass:t,children:p(su,{hass:t,entityId:r,children:p(this.Card,{})})})})}),this)):this._previousHass=t}getCardSize(){return 1}}class Zu extends Hn{constructor(){super(...arguments),this.Card=yl,this.shouldUpdate=(t,r)=>!t&&r?!0:ft(t.states[this.config.entity_id],r.states[this.config.entity_id])}setConfig(t){if(!t.entity_id)throw new Error("You need to define an entity_id");if(!t.entities)throw new Error("You need to define entities");this.config=t}getCardSize(){return 1}getLayoutOptions(){return{grid_rows:1,grid_columns:6,grid_min_rows:1,grid_max_rows:1}}}customElements.define("mediocre-chip-media-player-group-card",Zu);class ed extends Na{constructor(){super(...arguments),this.Card=nu,this.extraProps={isMassive:!0,className:void 0}}}customElements.define("mediocre-massive-media-player-card-editor",ed);class td extends Hn{constructor(){super(...arguments),this.Card=fa,this.shouldUpdate=(t,r)=>{var n,o;if(!t&&r||ft(t.states[this.config.entity_id],r.states[this.config.entity_id])||(n=this.config.speaker_group)!=null&&n.entity_id&&ft(t.states[this.config.speaker_group.entity_id],r.states[this.config.speaker_group.entity_id]))return!0;if((o=this.config.speaker_group)!=null&&o.entities){for(const i of this.config.speaker_group.entities)if(ft(t.states[i],r.states[i],!0))return!0}return!1}}setConfig(t){if(!t.entity_id)throw new Error("You need to define an entity_id");this.config=t}static getConfigElement(){return document.createElement("mediocre-massive-media-player-card-editor")}static getStubConfig(t){return{entity_id:Object.keys(t.states).filter(o=>o.substr(0,o.indexOf("."))==="media_player")[0]??"",mode:"card"}}}customElements.define("mediocre-massive-media-player-card",td),window.customCards=window.customCards||[],window.customCards.push({type:"mediocre-massive-media-player-card",name:"Mediocre Massive Media Player Card",preview:!0,description:"A media player card with player grouping support.",documentationURL:"https://github.com/antontanderup/mediocre-hass-media-player-cards"});class rd extends Na{constructor(){super(...arguments),this.Card=vu}}customElements.define("mediocre-media-player-card-editor",rd);class nd extends Hn{constructor(){super(...arguments),this.Card=gu,this.shouldUpdate=(t,r)=>{var n,o;if(!t&&r||ft(t.states[this.config.entity_id],r.states[this.config.entity_id])||(n=this.config.speaker_group)!=null&&n.entity_id&&ft(t.states[this.config.speaker_group.entity_id],r.states[this.config.speaker_group.entity_id]))return!0;if((o=this.config.speaker_group)!=null&&o.entities){for(const i of this.config.speaker_group.entities)if(ft(t.states[i],r.states[i],!0))return!0}return!1}}setConfig(t){if(!t.entity_id)throw new Error("You need to define an entity_id");this.config=t}static getConfigElement(){return document.createElement("mediocre-media-player-card-editor")}static getStubConfig(t){return{entity_id:Object.keys(t.states).filter(o=>o.substr(0,o.indexOf("."))==="media_player")[0]??""}}getCardSize(){return 2}getGridOptions(){return{columns:12,min_columns:8}}}customElements.define("mediocre-media-player-card",nd),window.customCards=window.customCards||[],window.customCards.push({type:"mediocre-media-player-card",name:"Mediocre Media Player Card",preview:!0,description:"A media player card with player grouping support.",documentationURL:"https://github.com/antontanderup/mediocre-hass-media-player-cards"})});
