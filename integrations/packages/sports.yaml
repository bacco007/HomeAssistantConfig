---
sensor:
  - platform: template
    sensors:
      # Manchester United
      sport_manu:
        friendly_name: Manchester United
        entity_picture_template: /local/sportlogos/manu.png
        value_template: >-
          {%- if state_attr('calendar.ical_manchester_united', 'message') %}
            {{ state_attr('calendar.ical_manchester_united', 'message') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_manchester_united', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_manchester_united', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_manchester_united', 'message') %}
            {%- set st = state_attr('calendar.ical_manchester_united', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_manchester_united', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_manchester_united', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_manchester_united', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_newengpats:
        friendly_name: New England Patriots
        entity_picture_template: /local/sportlogos/newengpats.png
        value_template: >-
          {%- if state_attr('calendar.ical_new_england_patriots', 'message') %}
            {{ state_attr('calendar.ical_new_england_patriots', 'message') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_new_england_patriots', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_new_england_patriots', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_new_england_patriots', 'message') %}
            {%- set st = state_attr('calendar.ical_new_england_patriots', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_new_england_patriots', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_new_england_patriots', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_new_england_patriots', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_anaducks:
        friendly_name: Anaheim (Mighty) Ducks
        entity_picture_template: /local/sportlogos/Anaheim_Ducks.svg
        value_template: >-
          {%- if state_attr('calendar.ical_anaheim_ducks', 'message') %}
            {{ state_attr('calendar.ical_anaheim_ducks', 'message') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_anaheim_ducks', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_anaheim_ducks', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_anaheim_ducks', 'message') %}
            {%- set st = state_attr('calendar.ical_anaheim_ducks', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_anaheim_ducks', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_anaheim_ducks', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_anaheim_ducks', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      # New York Yankees
      sport_yankees:
        friendly_name: New York Yankees
        entity_picture_template: /local/sportlogos/yankees.png
        value_template: >-
          {%- if state_attr('calendar.ical_new_york_yankees', 'message') %}
            {{ state_attr('calendar.ical_new_york_yankees', 'message') | replace('âš¾ï¸ ','') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_new_york_yankees', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_new_york_yankees', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_new_york_yankees', 'message') | replace('âš¾ï¸ ','') %}
            {%- set st = state_attr('calendar.ical_new_york_yankees', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_new_york_yankees', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_new_york_yankees', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_new_york_yankees', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      # Cricket
      sport_cricket:
        friendly_name: Cricket (Australia)
        entity_picture_template: /local/sportlogos/cricket.png
        value_template: >-
          {%- if state_attr('calendar.ical_australia_cricket', 'message') %}
            {{ state_attr('calendar.ical_australia_cricket', 'message') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_australia_cricket', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_australia_cricket', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_australia_cricket', 'message') %}
            {%- set st = state_attr('calendar.ical_australia_cricket', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Match Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_australia_cricket', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_australia_cricket', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_australia_cricket', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      # Supercars
      sport_supercars:
        friendly_name: Supercars
        entity_picture_template: /local/sportlogos/supercars.png
        value_template: >-
          {%- if state_attr('calendar.ical_supercars', 'message') %}
            {{ state_attr('calendar.ical_supercars', 'message') | replace('Repco Supercars - ','') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_supercars', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_supercars', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_supercars', 'message') | replace('Repco Supercars - ','') %}
            {%- set st = state_attr('calendar.ical_supercars', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_supercars', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_supercars', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_supercars', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      # F1
      sport_f1:
        friendly_name: Formula One
        entity_picture_template: /local/sportlogos/f1.png
        value_template: >-
          {%- if state_attr('calendar.ical_f1', 'message') %}
            {{ state_attr('calendar.ical_f1', 'message') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_f1', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_f1', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_f1', 'message')  %}
            {%- set st = state_attr('calendar.ical_f1', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_f1', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_f1', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_f1', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_wec:
        friendly_name: FIA WEC
        entity_picture_template: /local/sportlogos/wec.png
        value_template: >-
          {%- if state_attr('calendar.ical_wec', 'message') %}
            {{ state_attr('calendar.ical_wec', 'message') | replace('FIA WEC - ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_wec', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_wec', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_wec', 'message') | replace('FIA WEC - ', '') %}
            {%- set st = state_attr('calendar.ical_wec', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_wec', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_wec', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_wec', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      # Nascar
      sport_nascar_cup:
        friendly_name: NASCAR Cup Series
        entity_picture_template: /local/sportlogos/nascarcup.png
        value_template: >-
          {%- if state_attr('calendar.ical_nascar_cup_series', 'message') %}
            {{ state_attr('calendar.ical_nascar_cup_series', 'message') | replace('ðŸ ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_nascar_cup_series', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_nascar_cup_series', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_nascar_cup_series', 'message') | replace('ðŸ ', '') %}
            {%- set st = state_attr('calendar.ical_nascar_cup_series', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_nascar_cup_series', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_nascar_cup_series', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_nascar_cup_series', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_nascar_xfinity:
        friendly_name: NASCAR Xfinity Series
        entity_picture_template: /local/sportlogos/nascarxfinity.png
        value_template: >-
          {%- if state_attr('calendar.ical_nascar_xfinity_series', 'message') %}
            {{ state_attr('calendar.ical_nascar_xfinity_series', 'message') | replace('ðŸ ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_nascar_xfinity_series', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_nascar_xfinity_series', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_nascar_xfinity_series', 'message') | replace('ðŸ ', '') %}
            {%- set st = state_attr('calendar.ical_nascar_xfinity_series', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_nascar_xfinity_series', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_nascar_xfinity_series', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_nascar_xfinity_series', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      # Indycar
      sport_indycar:
        friendly_name: IndyCar
        entity_picture_template: /local/sportlogos/indycar.png
        value_template: >-
          {%- if state_attr('calendar.ical_indycar', 'message') %}
            {{ state_attr('calendar.ical_indycar', 'message') | replace('Indycar - ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_indycar', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_indycar', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_indycar', 'message') | replace('Indycar - ', '') %}
            {%- set st = state_attr('calendar.ical_indycar', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_indycar', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_indycar', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_indycar', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      # Newcastle Knights
      sport_newknights:
        friendly_name: Newcastle Knights
        entity_picture_template: /local/sportlogos/newknights.svg
        value_template: >-
          {%- if state_attr('calendar.ical_newcastle_knights', 'message') %}
            {{ state_attr('calendar.ical_newcastle_knights', 'message') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_newcastle_knights', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_newcastle_knights', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_newcastle_knights', 'message') %}
            {%- set st = state_attr('calendar.ical_newcastle_knights', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_newcastle_knights', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_newcastle_knights', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_newcastle_knights', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_sydfc:
        friendly_name: Sydney FC
        entity_picture_template: /local/sportlogos/sydfc.png
        value_template: >-
          {%- if state_attr('calendar.ical_sydney_fc', 'message')  == None %}
            No Game Scheduled
          {%- else %}
            {%- set op = state_attr('calendar.ical_sydney_fc', 'message').split(' - ')[0] %}
            {%- set st = state_attr('calendar.ical_sydney_fc', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_sydney_fc', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_fc', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- if state_attr('calendar.ical_sydney_fc', 'message')  == None %}
              No Game Scheduled
            {%- else %}
              {%- set op = state_attr('calendar.ical_sydney_fc', 'message').split(' - ')[0] %}
              {%- set st = state_attr('calendar.ical_sydney_fc', 'start_time') %}
              {%- if st != None %}
                {{ op }}
              {%- else %}
                No Game Scheduled
              {%- endif %}
            {%- endif %}
          nextlocation: >-
            {%- if state_attr('calendar.ical_sydney_fc', 'message')  == None %}
              No Location Noted
            {%- else %}
              {%- set op = state_attr('calendar.ical_sydney_fc', 'location') %}
              {%- if op != None %}
                {{ op }}
              {%- else %}
                No Location Noted
              {%- endif %}
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_sydney_fc', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_fc', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_sydfc_women:
        friendly_name: Sydney FC Women
        entity_picture_template: /local/sportlogos/sydfc.png
        value_template: >-
          {%- if state_attr('calendar.ical_sydney_fc_women', 'message')  == None %}
            No Game Scheduled
          {%- else %}
            {%- set op = state_attr('calendar.ical_sydney_fc_women', 'message').split(' - ')[0] %}
            {%- set st = state_attr('calendar.ical_sydney_fc_women', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_sydney_fc_women', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_fc_women', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- if state_attr('calendar.ical_sydney_fc_women', 'message')  == None %}
              No Game Scheduled
            {%- else %}
              {%- set op = state_attr('calendar.ical_sydney_fc_women', 'message').split(' - ')[0] %}
              {%- set st = state_attr('calendar.ical_sydney_fc_women', 'start_time') %}
              {%- if st != None %}
                {{ op }}
              {%- else %}
                No Game Scheduled
              {%- endif %}
            {%- endif %}
          nextlocation: >-
            {%- if state_attr('calendar.ical_sydney_fc_women', 'message')  == None %}
              No Location Noted
            {%- else %}
              {%- set op = state_attr('calendar.ical_sydney_fc_women', 'location') %}
              {%- if op != None %}
                {{ op }}
              {%- else %}
                No Location Noted
              {%- endif %}
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_sydney_fc_women', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_fc_women', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_sydswans:
        friendly_name: Sydney Swans
        entity_picture_template: /local/sportlogos/sydswans.png
        value_template: >-
          {%- if state_attr('calendar.ical_sydney_swans', 'message')  == None %}
            No Game Scheduled
          {%- else %}
            {%- set op = state_attr('calendar.ical_sydney_swans', 'message').split(' - ')[0] %}
            {%- set st = state_attr('calendar.ical_sydney_swans', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_sydney_swans', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_swans', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- if state_attr('calendar.ical_sydney_swans', 'message')  == None %}
              No Game Scheduled
            {%- else %}
              {%- set op = state_attr('calendar.ical_sydney_swans', 'message').split(' - ')[0] %}
              {%- set st = state_attr('calendar.ical_sydney_swans', 'start_time') %}
              {%- if st != None %}
                {{ op }}
              {%- else %}
                No Game Scheduled
              {%- endif %}
            {%- endif %}
          nextlocation: >-
            {%- if state_attr('calendar.ical_sydney_swans', 'message')  == None %}
              No Location Noted
            {%- else %}
              {%- set op = state_attr('calendar.ical_sydney_swans', 'location') %}
              {%- if op != None %}
                {{ op }}
              {%- else %}
                No Location Noted
              {%- endif %}
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_sydney_swans', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_swans', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_sydswans_vfl:
        friendly_name: Sydney Swans (VFL)
        entity_picture_template: /local/sportlogos/sydswans.png
        value_template: >-
          {%- if state_attr('calendar.ical_sydney_swans_vfl', 'message')  == None %}
            No Game Scheduled
          {%- else %}
            {%- set op = state_attr('calendar.ical_sydney_swans_vfl', 'message').split(' - ')[0] %}
            {%- set st = state_attr('calendar.ical_sydney_swans_vfl', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_sydney_swans_vfl', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_swans_vfl', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- if state_attr('calendar.ical_sydney_swans_vfl', 'message')  == None %}
              No Game Scheduled
            {%- else %}
              {%- set op = state_attr('calendar.ical_sydney_swans_vfl', 'message').split(' - ')[0] %}
              {%- set st = state_attr('calendar.ical_sydney_swans_vfl', 'start_time') %}
              {%- if st != None %}
                {{ op }}
              {%- else %}
                No Game Scheduled
              {%- endif %}
            {%- endif %}
          nextlocation: >-
            {%- if state_attr('calendar.ical_sydney_swans_vfl', 'message')  == None %}
              No Location Noted
            {%- else %}
              {%- set op = state_attr('calendar.ical_sydney_swans_vfl', 'location') %}
              {%- if op != None %}
                {{ op }}
              {%- else %}
                No Location Noted
              {%- endif %}
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_sydney_swans_vfl', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_swans_vfl', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_nswwaratahs:
        friendly_name: NSW Waratahs
        entity_picture_template: /local/sportlogos/nswaratahs.png
        value_template: >-
          {%- if state_attr('calendar.ical_nsw_waratahs', 'message')  %}
            {{ state_attr('calendar.ical_nsw_waratahs', 'message') | replace('ðŸ‰ ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_nsw_waratahs', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_nsw_waratahs', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_nsw_waratahs', 'message') | replace('ðŸ‰ ', '') %}
            {%- set st = state_attr('calendar.ical_nsw_waratahs', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_nsw_waratahs', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_nsw_waratahs', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_nsw_waratahs', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_btcc:
        friendly_name: BTCC
        entity_picture_template: /local/sportlogos/btcc.png
        value_template: >-
          {%- if state_attr('calendar.ical_btcc', 'message')  %}
            {{ state_attr('calendar.ical_btcc', 'message') | replace('BTCC - ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_btcc', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_btcc', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_btcc', 'message') | replace('BTCC - ', '') %}
            {%- set st = state_attr('calendar.ical_btcc', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_btcc', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_btcc', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_btcc', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_icgtc:
        friendly_name: Intercontinental GT Challenge
        entity_picture_template: /local/sportlogos/icgtc.png
        value_template: >-
          {%- if state_attr('calendar.ical_igtc', 'message')  %}
            {{ state_attr('calendar.ical_igtc', 'message') | replace('IGTC - ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_igtc', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_igtc', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_igtc', 'message') | replace('IGTC - ', '') %}
            {%- set st = state_attr('calendar.ical_igtc', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_igtc', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_igtc', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_igtc', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_imsasports:
        friendly_name: IMSA SportsCar Championship
        entity_picture_template: /local/sportlogos/imsasc.png
        value_template: >-
          {%- if state_attr('calendar.ical_imsa', 'message')  %}
            {{ state_attr('calendar.ical_imsa', 'message') | replace('IMSA WeatherTech Championship - ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_imsa', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_imsa', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_imsa', 'message') | replace('IMSA WeatherTech Championship - ', '') %}
            {%- set st = state_attr('calendar.ical_imsa', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_imsa', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_imsa', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_imsa', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_motogp:
        friendly_name: MotoGP
        entity_picture_template: /local/sportlogos/motogp.png
        value_template: >-
          {%- if state_attr('calendar.ical_motogp', 'message')   %}
            {{ state_attr('calendar.ical_motogp', 'message') | replace('MotoGP - ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_motogp', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_motogp', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_motogp', 'message') | replace('MotoGP - ', '') %}
            {%- set st = state_attr('calendar.ical_motogp', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_motogp', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_motogp', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_motogp', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_wrc:
        friendly_name: World Rally Championship
        entity_picture_template: /local/sportlogos/wrc.png
        value_template: >-
          {%- if state_attr('calendar.ical_wrc', 'message')  %}
            {{ state_attr('calendar.ical_wrc', 'message') | replace('WRC - ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_wrc', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_wrc', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_wrc', 'message') | replace('WRC - ', '') %}
            {%- set st = state_attr('calendar.ical_wrc', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_wrc', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_wrc', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_wrc', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_dtm:
        friendly_name: DTM
        entity_picture_template: /local/sportlogos/dtm.png
        value_template: >-
          {%- if state_attr('calendar.ical_dtm', 'message')  %}
            {{ state_attr('calendar.ical_dtm', 'message') | replace('DTM - ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_dtm', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_dtm', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_dtm', 'message') | replace('DTM - ', '') %}
            {%- set st = state_attr('calendar.ical_dtm', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_dtm', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_dtm', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_dtm', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_formula_e:
        friendly_name: Formula E
        entity_picture_template: /local/sportlogos/formulae.png
        value_template: >-
          {%- if state_attr('calendar.ical_formula_e', 'message')  %}
            {{ state_attr('calendar.ical_formula_e', 'message') | replace('Formula E - ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_formula_e', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_formula_e', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_formula_e', 'message') | replace('Formula E - ', '') %}
            {%- set st = state_attr('calendar.ical_formula_e', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_formula_e', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_formula_e', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_formula_e', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_extreme_e:
        friendly_name: Extreme E
        entity_picture_template: /local/sportlogos/extremee.png
        value_template: >-
          {%- if state_attr('calendar.ical_extreme_e', 'message')  %}
            {{ state_attr('calendar.ical_extreme_e', 'message') | replace('Extreme E - ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_extreme_e', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_extreme_e', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_extreme_e', 'message') | replace('Extreme E - ', '') %}
            {%- set st = state_attr('calendar.ical_extreme_e', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Race Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_extreme_e', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_extreme_e', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_extreme_e', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_swifts:
        friendly_name: Swifts
        entity_picture_template: /local/sportlogos/swifts.png
        value_template: >-
          {%- if state_attr('calendar.ical_swifts', 'message')  == None %}
            No Game Scheduled
          {%- else %}
            {%- set op = state_attr('calendar.ical_swifts', 'message').split(' - ')[0] %}
            {%- set st = state_attr('calendar.ical_swifts', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_swifts', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_swifts', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- if state_attr('calendar.ical_swifts', 'message')  == None %}
              No Game Scheduled
            {%- else %}
              {%- set op = state_attr('calendar.ical_swifts', 'message').split(' - ')[0] %}
              {%- set st = state_attr('calendar.ical_swifts', 'start_time') %}
              {%- if st != None %}
                {{ op }}
              {%- else %}
                No Game Scheduled
              {%- endif %}
            {%- endif %}
          nextlocation: >-
            {%- if state_attr('calendar.ical_swifts', 'message')  == None %}
              No Location Noted
            {%- else %}
              {%- set op = state_attr('calendar.ical_swifts', 'location') %}
              {%- if op != None %}
                {{ op }}
              {%- else %}
                No Location Noted
              {%- endif %}
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_swifts', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_swifts', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_miscmotorsport:
        friendly_name: Miscellaneous Motorsports
        entity_picture_template: /local/sportlogos/miscmotorsports.png
        value_template: >-
          {%- if state_attr('calendar.ical_misc_motorsport', 'message')  == None %}
            No Game Scheduled
          {%- else %}
            {%- set op = state_attr('calendar.ical_misc_motorsport', 'message').split(' - ')[0] %}
            {%- set st = state_attr('calendar.ical_misc_motorsport', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_misc_motorsport', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_misc_motorsport', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- if state_attr('calendar.ical_misc_motorsport', 'message')  == None %}
              No Game Scheduled
            {%- else %}
              {%- set op = state_attr('calendar.ical_misc_motorsport', 'message').split(' - ')[0] %}
              {%- set st = state_attr('calendar.ical_misc_motorsport', 'start_time') %}
              {%- if st != None %}
                {{ op }}
              {%- else %}
                No Game Scheduled
              {%- endif %}
            {%- endif %}
          nextlocation: >-
            {%- if state_attr('calendar.ical_misc_motorsport', 'message')  == None %}
              No Location Noted
            {%- else %}
              {%- set op = state_attr('calendar.ical_misc_motorsport', 'location') %}
              {%- if op != None %}
                {{ op }}
              {%- else %}
                No Location Noted
              {%- endif %}
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_misc_motorsport', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_misc_motorsport', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_wallabies:
        friendly_name: Wallabies
        entity_picture_template: /local/sportlogos/wallabies.png
        value_template: >-
          {%- if state_attr('calendar.ical_wallabies', 'message') %}
            {{ state_attr('calendar.ical_wallabies', 'message') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_wallabies', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_wallabies', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_wallabies', 'message') %}
            {%- set st = state_attr('calendar.ical_wallabies', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_wallabies', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_wallabies', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_wallabies', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
      sport_socceroos:
        friendly_name: Socceroos
        entity_picture_template: /local/sportlogos/socceroos.png
        value_template: >-
          {%- if state_attr('calendar.ical_socceroos', 'message') %}
            {{ state_attr('calendar.ical_socceroos', 'message') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_socceroos', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_socceroos', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_socceroos', 'message') %}
            {%- set st = state_attr('calendar.ical_socceroos', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_socceroos', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_socceroos', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_socceroos', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_sydneykings:
        friendly_name: Sydney Kings
        entity_picture_template: /local/sportlogos/SydneyKings.png
        value_template: >-
          {%- if state_attr('calendar.ical_sydney_kings', 'message')  %}
            {{ state_attr('calendar.ical_sydney_kings', 'message') | replace('ðŸ€ ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_sydney_kings', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_kings', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_sydney_kings', 'message') | replace('ðŸ€ ', '') %}
            {%- set st = state_attr('calendar.ical_sydney_kings', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_sydney_kings', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_sydney_kings', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_kings', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_cricketwomen:
        friendly_name: Cricket (Australia) Women
        entity_picture_template: /local/sportlogos/cricket.png
        value_template: >-
          {%- if state_attr('calendar.ical_australia_cricket_women', 'message') %}
            {{ state_attr('calendar.ical_australia_cricket_women', 'message') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_australia_cricket_women', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_australia_cricket_women', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_australia_cricket_women', 'message') %}
            {%- set st = state_attr('calendar.ical_australia_cricket_women', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Match Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_australia_cricket_women', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_australia_cricket_women', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_australia_cricket_women', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_sydneysixers:
        friendly_name: Sydney Sixers
        entity_picture_template: /local/sportlogos/sydneysixers.png
        value_template: >-
          {%- if state_attr('calendar.ical_sydney_sixers', 'message')  %}
            {{ state_attr('calendar.ical_sydney_sixers', 'message') | replace('ðŸ ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_sydney_sixers', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_sixers', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_sydney_sixers', 'message') | replace('ðŸ ', '') %}
            {%- set st = state_attr('calendar.ical_sydney_sixers', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_sydney_sixers', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_sydney_sixers', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_sixers', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_sydneysixerswomen:
        friendly_name: Sydney Sixers Women
        entity_picture_template: /local/sportlogos/sydneysixers.png
        value_template: >-
          {%- if state_attr('calendar.ical_sydney_sixers_women', 'message')  %}
            {{ state_attr('calendar.ical_sydney_sixers_women', 'message') | replace('ðŸ ', '') }}
          {%- else %}
            Nothing Scheduled
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_sydney_sixers_women', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_sixers_women', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- set op = state_attr('calendar.ical_sydney_sixers_women', 'message') | replace('ðŸ ', '') %}
            {%- set st = state_attr('calendar.ical_sydney_sixers_women', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          nextlocation: >-
            {%- set op = state_attr('calendar.ical_sydney_sixers_women', 'location') %}
            {%- if op != None %}
              {{ op }}
            {%- else %}
              No Location Noted
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_sydney_sixers_women', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_sixers_women', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}

      sport_sydswansaflw:
        friendly_name: Sydney Swans AFLW
        entity_picture_template: /local/sportlogos/sydswans.png
        value_template: >-
          {%- if state_attr('calendar.ical_sydney_swans_aflw', 'message')  == None %}
            No Game Scheduled
          {%- else %}
            {%- set op = state_attr('calendar.ical_sydney_swans_aflw', 'message').split(' - ')[0] %}
            {%- set st = state_attr('calendar.ical_sydney_swans_aflw', 'start_time') %}
            {%- if st != None %}
              {{ op }}
            {%- else %}
              No Game Scheduled
            {%- endif %}
          {%- endif %}
        attribute_templates:
          nexttime: >-
            {%- if is_state('calendar.ical_sydney_swans_aflw', 'on') %}
              On Now!
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_swans_aflw', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                {%- if diff > 6 %}
                  {{ diff }} Days
                {%- else %}
                  {{ as_timestamp(st) | timestamp_custom("%a %H:%M") }}
                {%- endif %}
              {%- else %}
                No Time
              {%- endif %}
            {%- endif %}
          nextevent: >-
            {%- if state_attr('calendar.ical_sydney_swans_aflw', 'message')  == None %}
              No Game Scheduled
            {%- else %}
              {%- set op = state_attr('calendar.ical_sydney_swans_aflw', 'message').split(' - ')[0] %}
              {%- set st = state_attr('calendar.ical_sydney_swans_aflw', 'start_time') %}
              {%- if st != None %}
                {{ op }}
              {%- else %}
                No Game Scheduled
              {%- endif %}
            {%- endif %}
          nextlocation: >-
            {%- if state_attr('calendar.ical_sydney_swans_aflw', 'message')  == None %}
              No Location Noted
            {%- else %}
              {%- set op = state_attr('calendar.ical_sydney_swans_aflw', 'location') %}
              {%- if op != None %}
                {{ op }}
              {%- else %}
                No Location Noted
              {%- endif %}
            {%- endif %}
          sortorder: >-
            {%- if is_state('calendar.ical_sydney_swans_aflw', 'on') %}
              0.0
            {%- else %}
              {%- set st = state_attr('calendar.ical_sydney_swans_aflw', 'start_time') %}
              {%- if st != None %}
                {%- set diff = ((as_timestamp(st)-as_timestamp(now())) | int /60/1440) | round (0) %}
                  {{ diff }}.0
              {%- else %}
                999.0
              {%- endif %}
            {%- endif %}
