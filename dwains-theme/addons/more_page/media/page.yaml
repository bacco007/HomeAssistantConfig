# dwains_theme

- type: custom:dwains-flexbox-card
  items_classes: 'col-xs-12'
  cards:
    ##############
    ### SONARR ###
    ##############
    # - type: custom:stack-in-card
    #   style: |
    #     ha-card {
    #       color: teal;
    #       border-radius: 2.5px;
    #     }
    #   cards:
    - type: custom:dwains-flexbox-card
      items_classes: 'col-xs-12 col-md-12 col-lg-6 col-xl-6'
      cards:
        # - type: horizontal-stack
        #   cards:
        - type: vertical-stack
          cards:
            - type: markdown
              style: |
                ha-card { box-shadow: none; }
                ha-markdown { padding-bottom: 1px !important; }
              content: >
                <img width="125" src="https://brands.home-assistant.io/sonarr/logo.png"/><br/>
        - type: entities
          style: |
            ha-card {
              background-color: var(--dwains-theme-primary)
            }
            .card-header {
              padding: 5px 16px;
              font-size: 18px;
              font-weight: 700 !important;
            }
            .card-content div {
                margin: 0 !important;
            }
            #states {
              padding-top: 0px !important;
              padding-bottom: 0px !important;
            }
            .secondary {
              color: darkgray !important;
              margin-left: 2px !important;
            }
          entities:
            - entity: sensor.sonarr_status
              name: Version
            - entity: sensor.sonarr_series
              name: Tracked Shows
            - entity: sensor.sonarr_queue
              name: Queued Episodes
            - entity: sensor.sonarr_upcoming
              name: Upcoming Episodes
            - entity: sensor.sonarr_wanted
              name: Wanted Episodes

    - type: custom:auto-entities
      filter:
        include:
          - entity_id: sensor.lovelace_sonarr_upcoming_*
            attributes:
              name: '! '
            options:
              type: custom:button-card
              show_state: true
              show_label: true
              show_name: true
              show_icon: true
              name: '[[[ return entity.attributes.name ]]]'
              entity_picture: >
                [[[
                  if (entity.attributes.poster == '')
                    return 'https://via.placeholder.com/340x500?text=No%20Poster%20Available';
                  else
                    return entity.attributes.poster;
                ]]]
              show_entity_picture: true
              # entity: this.entity_id
              layout: vertical
              custom_fields:
                date: >
                  [[[ return entity.attributes.date ]]]
                episode: >
                  [[[ return entity.attributes.episode + ' (' + entity.attributes.number + ')' ]]]
              styles:
                grid:
                  - grid-template-areas: '"i" "n" "date" "episode"'
                  - grid-template-columns: 100%
                  - grid-template-rows: 1fr min-content min-content min-content
                card:
                  - background-color: >
                      [[[
                        if (entity.attributes.onairtoday == "True") return 'var(--dwains-theme-accent)';
                        else return 'var(--dwains-theme-primary)';
                      ]]]
                  - opacity: >
                      [[[
                        if (entity.attributes.downloaded == "True") return '0.5';
                        else return '1';
                      ]]]
                  - border-radius: 0
                  - box-shadow: none
                name:
                  - font-size: 15px
                  - font-weight: bold
                  - color: var(--dwains-theme-names)
                custom_fields:
                  episode:
                    - font-size: 13px
                    - color: var(--dwains-theme-names)
                  date:
                    - font-size: 13px
                    - color: var(--dwains-theme-names)
                icon:
                  - color: var(--dwains-theme-accent)
      sort:
        method: name
        ignore_case: true
      card:
        type: custom:dwains-flexbox-card
        items_classes: 'col-xs-6 col-sm-6 col-md-3 col-lg-2'

    ##############
    ### RADARR ###
    ##############
    # - type: custom:stack-in-card
    #   style: |
    #     ha-card {
    #       color: teal;
    #       border-radius: 2.5px;
    #     }
    #   cards:
    - type: custom:dwains-flexbox-card
      items_classes: 'col-xs-12 col-md-12 col-lg-6 col-xl-6'
      cards:
        # - type: horizontal-stack
        #   cards:
        - type: vertical-stack
          cards:
            - type: markdown
              style: |
                ha-card { box-shadow: none; }
                ha-markdown { padding-bottom: 1px !important; }
              content: >
                <img width="125" src="https://brands.home-assistant.io/radarr/logo.png"/><br/>
        - type: entities
          style: |
            ha-card {
              background-color: var(--dwains-theme-primary)
            }
            .card-header {
              padding: 5px 16px;
              font-size: 18px;
              font-weight: 700 !important;
            }
            .card-content div {
                margin: 0 !important;
            }
            #states {
              padding-top: 0px !important;
              padding-bottom: 0px !important;
            }
            .secondary {
              color: darkgray !important;
              margin-left: 2px !important;
            }
          entities:
            - entity: sensor.radarr_status
              name: Version
            - entity: sensor.radarr_movies
              name: Tracked Movies
            - entity: sensor.radarr_upcoming
              name: Upcoming Movies

    - type: custom:auto-entities
      filter:
        include:
          - entity_id: sensor.lovelace_radarr_upcoming_*
            attributes:
              name: '! '
            options:
              type: custom:button-card
              show_state: true
              show_label: true
              show_name: true
              show_icon: true
              name: '[[[ return entity.attributes.name ]]]'
              entity_picture: '[[[ return entity.attributes.poster ]]]'
              show_entity_picture: true
              # entity: this.entity_id
              layout: vertical
              custom_fields:
                date: >
                  [[[ return entity.attributes.date ]]]
              styles:
                grid:
                  - grid-template-areas: '"i" "n" "date"'
                  - grid-template-columns: 100%
                  - grid-template-rows: 1fr min-content min-content
                card:
                  - background-color: var(--dwains-theme-primary)
                  - border-radius: 0
                  - box-shadow: none
                name:
                  - font-size: 15px
                  - font-weight: bold
                  - color: var(--dwains-theme-names)
                custom_fields:
                  episode:
                    - font-size: 13px
                    - color: var(--dwains-theme-names)
                  date:
                    - font-size: 13px
                    - color: var(--dwains-theme-names)
                icon:
                  - color: var(--dwains-theme-accent)
      sort:
        method: name
        ignore_case: true
      card:
        type: custom:dwains-flexbox-card
        items_classes: 'col-xs-6 col-sm-6 col-md-3 col-lg-2'

    ############
    ### PLEX ###
    ############
    # - type: custom:stack-in-card
    #   style: |
    #     ha-card {
    #       color: teal;
    #       border-radius: 2.5px;
    #     }
    #   cards:
    - type: custom:dwains-flexbox-card
      items_classes: 'col-xs-12 col-md-12 col-lg-6 col-xl-6'
      cards:
        # - type: horizontal-stack
        #   cards:
        - type: vertical-stack
          cards:
            - type: markdown
              style: |
                ha-card { box-shadow: none; }
                ha-markdown { padding-bottom: 1px !important; }
              content: >
                <img width="125" src="https://brands.home-assistant.io/plex/logo.png"/><br/>
        - type: entities
          style: |
            ha-card {
              background-color: var(--dwains-theme-primary)
            }
            .card-header {
              padding: 5px 16px;
              font-size: 18px;
              font-weight: 700 !important;
            }
            .card-content div {
                margin: 0 !important;
            }
            #states {
              padding-top: 0px !important;
              padding-bottom: 0px !important;
            }
            .secondary {
              color: darkgray !important;
              margin-left: 2px !important;
            }
          entities:
            - entity: sensor.plex_the_cube_2_electric_boogaloo
              name: Current Users
            - type: divider
            - entity: sensor.plexstats_moviecount
              name: Movies in Library
            - entity: sensor.plexstats_tvshowcount
              name: TV Shows in Library
            - entity: sensor.plexstats_tvseasoncount
              name: TV Seasons in Library
            - entity: sensor.plexstats_tvepisodecount
              name: TV Episodes in Library
            - type: divider
            - entity: sensor.plex_topuser
              name: Top User
            - entity: sensor.plex_topmovie
              name: Most Watched Movie
            - entity: sensor.plex_toptvshow
              name: Most Watched TV Show

    - type: custom:auto-entities
      filter:
        include:
          - entity_id: sensor.lovelace_plex_recent_*
            attributes:
              name: '! '
            options:
              type: custom:button-card
              show_state: true
              show_label: true
              show_name: true
              show_icon: true
              name: '[[[ return entity.attributes.name ]]]'
              entity_picture: >
                [[[
                  if (entity.attributes.poster == '')
                    return 'https://via.placeholder.com/340x500?text=No%20Poster%20Available';
                  else
                    return entity.attributes.poster;
                ]]]
              show_entity_picture: true
              # entity: this.entity_id
              layout: vertical
              custom_fields:
                date: >
                  [[[ return entity.attributes.date ]]]
                episode: >
                  [[[ return entity.attributes.episode + ' (' + entity.attributes.number + ')' ]]]
              styles:
                grid:
                  - grid-template-areas: '"i" "n" "date" "episode"'
                  - grid-template-columns: 100%
                  - grid-template-rows: 1fr min-content min-content min-content
                card:
                  - background-color: var(--dwains-theme-primary)
                  - opacity: >
                      [[[
                        if (entity.attributes.watched == "False") return '0.5';
                        else return '1';
                      ]]]
                  - border-radius: 0
                  - box-shadow: none
                name:
                  - font-size: 15px
                  - font-weight: bold
                  - color: var(--dwains-theme-names)
                custom_fields:
                  episode:
                    - font-size: 13px
                    - color: var(--dwains-theme-names)
                  date:
                    - font-size: 13px
                    - color: var(--dwains-theme-names)
                icon:
                  - color: var(--dwains-theme-accent)
      sort:
        method: name
        ignore_case: true
      card:
        type: custom:dwains-flexbox-card
        items_classes: 'col-xs-6 col-sm-6 col-md-3 col-lg-2'
