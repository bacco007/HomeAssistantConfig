- type: custom:stack-in-card
  style: |
    ha-card {
      color: teal;
      border-radius: 2.5px;
    }
  cards:
    - type: custom:dwains-flexbox-card
      items_classes: 'col-xs-12 col-md-12 col-lg-6 col-xl-6'
      cards:
        # - type: horizontal-stack
        #   cards:
        - type: vertical-stack
          cards:
            - type: markdown
              style: |
                ha-card { box-shadow: none; }
                ha-markdown { padding-bottom: 1px !important; }
              content: >
                <img width="125" src="https://brands.home-assistant.io/unifi/logo.png"/><br/>
            - type: custom:button-card
              show_state: false
              styles:
                grid:
                  - grid-template-areas: '"i n" "i n" "i n"'
                  - grid-template-columns: 25% 75%
                  - grid-template-rows: min-content min-content
                card:
                  - background-color: var(--dwains-theme-primary)
                  - border-radius: 2.5px
                  - box-shadow: none
                  - width: 250px
                  - margin-left: 10px
                  - padding-top: 10px
                  - padding-bottom: 10px
                  - margin-bottom: 5px
                name:
                  - font-size: 15px
                  - font-weight: bold
                  - color: var(--dwains-theme-names)
                  - justify-self: start
                state:
                  - justify-self: start
                  - font-size: 13px
                  - color: var(--dwains-theme-names)
                label:
                  - padding-top: 0px
                  - padding-bottom: 0px
                  - font-size: 12px
                  - color: var(--dwains-theme-grey)
                  - justify-self: start
                icon:
                  - color: var(--dwains-theme-accent)
              name: UniFi Controller
              icon: mdi:router-wireless
              color: var(--dwains-theme-accent)
              tap_action:
                action: url
                url_path: 'https://unifi.tbsmartho.me/'

        - type: vertical-stack
          cards:
            - type: markdown
              style: |
                ha-card { box-shadow: none; }
                ha-markdown { padding-bottom: 1px !important; }
              content: >
                **UniFi USG**<br>
                &nbsp;&nbsp;&nbsp;Uptime: {{ states.sensor.usg_uptime.state }}<br>
                &nbsp;&nbsp;&nbsp;WAN Uptime: {{ states.sensor.unifi_gateway_www_uptime.state }}

                **UniFi WiFi AP-AC-Lite (UFO)**<br>
                &nbsp;&nbsp;&nbsp;Uptime: {{ states.sensor.ufo_uptime.state }}

                **UniFi Switch 8 Port 60W**<br>
                &nbsp;&nbsp;&nbsp;Uptime: {{ states.sensor.hateful8_uptime.state }}

- type: custom:dwains-flexbox-card
  items_classes: 'col-xs-12 col-sm-4 col-sm-4 col-xl-4'
  cards:
    - type: custom:mini-graph-card
      entities:
        - entity: sensor.unifi_gateway_www_xput_down
          name: Download (Mbps)
        - entity: sensor.unifi_gateway_www_xput_up
          name: Upload (Mbps)
        - entity: sensor.unifi_gateway_www_speedtest_ping
          name: Ping (ms)
          y_axis: secondary
      name: Speed
      height: 50
      line_color: 'var(--dwains-theme-accent)'
      line_width: 2
      font_size: 70
      hours_to_show: 168
      points_per_hour: 1
      align_state: center
      show:
        #extrema: true
        fill: fade
    - type: custom:mini-graph-card
      entities:
        - entity: sensor.unifi_gateway_lan_num_user
          name: LAN
      name: LAN Devices
      height: 50
      line_color: 'var(--dwains-theme-accent)'
      line_width: 2
      font_size: 70
      hours_to_show: 168
      points_per_hour: 1
      align_state: center
      show:
        # extrema: true
        fill: fade
    - type: custom:mini-graph-card
      entities:
        - entity: sensor.unifi_gateway_wlan_num_user
          name: WLAN
      name: WLAN Devices
      height: 50
      line_color: 'var(--dwains-theme-accent)'
      line_width: 2
      font_size: 70
      hours_to_show: 168
      points_per_hour: 1
      align_state: center
      show:
        # extrema: true
        fill: fade

- type: custom:dwains-flexbox-card
  items_classes: 'col-xs-12 col-sm-4 col-sm-4 col-xl-4'
  # padding: true
  cards:
    - type: vertical-stack
      cards:
        - type: entities
          title: WAN
          style: |
            ha-card {
              padding-bottom: 10px;
              background-color: var(--dwains-theme-primary)
            }
            .card-header {
              padding: 5px 16px;
              font-size: 18px;
              font-weight: 700 !important;
            }
            .card-content div {
                margin: 0 !important;
            }
            #states {
              padding-top: 0px !important;
              padding-bottom: 0px !important;
            }
            .secondary {
              color: darkgray !important;
              margin-left: 2px !important;
            }
          entities:
            - entity: sensor.unifi_gateway_wan
              name: Status
            - entity: sensor.unifi_gateway_wan_ip
              name: IP Address
            - entity: sensor.unifi_gateway_wan
              name: Gateways
              type: custom:multiple-entity-row
              show_state: false
              secondary_info: last-changed
              entities:
                - attribute: num_gw
                  name: Devices
                  unit: ' '
                - attribute: num_adopted
                  name: Adopted
                  unit: ' '
                - attribute: num_disconnected
                  name: Disconnected
                  unit: ' '
                - attribute: num_pending
                  name: Pending
                  unit: ' '
    - type: vertical-stack
      cards:
        - type: entities
          title: LAN
          style: |
            ha-card {
              padding-bottom: 10px;
              background-color: var(--dwains-theme-primary)
            }
            .card-header {
              padding: 5px 16px;
              font-size: 18px;
              font-weight: 700 !important;
            }
            .card-content div {
                margin: 0 !important;
            }
            #states {
              padding-top: 0px !important;
              padding-bottom: 0px !important;
            }
            .secondary {
              color: darkgray !important;
              margin-left: 2px !important;
            }
          entities:
            - entity: sensor.unifi_gateway_lan
              name: Status
            - entity: sensor.unifi_gateway_lan_num_user
              name: Devices Connected
              icon: mdi:lan
            - entity: sensor.unifi_gateway_lan
              name: Switches
              type: custom:multiple-entity-row
              show_state: false
              secondary_info: last-changed
              entities:
                - attribute: num_sw
                  name: Devices
                  unit: ' '
                - attribute: num_adopted
                  name: Adopted
                  unit: ' '
                - attribute: num_disconnected
                  name: Disconnected
                  unit: ' '
                - attribute: num_pending
                  name: Pending
                  unit: ' '
    - type: vertical-stack
      cards:
        - type: entities
          title: WLAN
          style: |
            ha-card {
              padding-bottom: 10px;
              background-color: var(--dwains-theme-primary)
            }
            .card-header {
              padding: 5px 16px;
              font-size: 18px;
              font-weight: 700 !important;
            }
            .card-content div {
                margin: 0 !important;
            }
            #states {
              padding-top: 0px !important;
              padding-bottom: 0px !important;
            }
            .secondary {
              color: darkgray !important;
              margin-left: 2px !important;
            }
          entities:
            - entity: sensor.unifi_gateway_wlan
              name: Status
            - entity: sensor.unifi_gateway_wlan_num_user
              name: Devices Connected
              icon: mdi:wifi
            - entity: sensor.unifi_gateway_wlan
              name: Access Points
              type: custom:multiple-entity-row
              show_state: false
              secondary_info: last-changed
              entities:
                - attribute: num_ap
                  name: Devices
                  unit: ' '
                - attribute: num_adopted
                  name: Adopted
                  unit: ' '
                - attribute: num_disconnected
                  name: Disconnected
                  unit: ' '
                - attribute: num_pending
                  name: Pending
                  unit: ' '
- type: custom:dwains-flexbox-card
  items_classes: 'col-xs-12 col-md-6 col-lg-6 col-xl-6'
  cards:
    - type: custom:auto-entities
      filter:
        include:
          - domain: device_tracker
            state: home
            attributes:
              source_type: router
              is_wired: false
      card:
        type: custom:flex-table-card
        title: Connected Devices (WiFi)
        style: |
          ha-card {
            padding-bottom: 10px;
            background-color: var(--dwains-theme-primary)
          }
          .card-header {
            padding: 5px 16px;
            font-size: 18px;
            font-weight: 700 !important;
          }
          # font-family: { var(--primary-font-family);}
          # font-weight: {400 !important;}
        sort_by: ip+
        clickable: true
        css:
          table+: 'border: 0;  padding-top: 5px; padding-bottom: 5px; padding-left: 10px; padding-right: 10px;'
        columns:
          - name: Name / Host Name
            data: name,hostname
            multi_delimiter: ' / '
          - name: MAC
            attr: mac
          - name: SSID
            attr: essid
          - name: Proto
            attr: radio_proto
          - name: IP
            attr: ip

    - type: custom:auto-entities
      filter:
        include:
          - domain: device_tracker
            state: home
            attributes:
              source_type: router
              is_wired: true
      card:
        type: custom:flex-table-card
        title: Connected Devices (Ethernet)
        style: |
          ha-card {
            padding-bottom: 10px;
            background-color: var(--dwains-theme-primary)
          }
          .card-header {
            padding: 5px 16px;
            font-size: 18px;
            font-weight: 700 !important;
          }
          # font-family: { var(--primary-font-family);}
          # font-weight: {400 !important;}
        sort_by: ip+
        clickable: true
        css:
          table+: 'border: 0;  padding-top: 5px; padding-bottom: 5px; padding-left: 10px; padding-right: 10px;'
        columns:
          - name: Name / Host Name
            data: name,hostname
            multi_delimiter: ' / '
          - name: MAC
            data: mac
          - name: IP
            data: ip